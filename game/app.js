!function(e){function t(t){for(var i,a,r=t[0],c=t[1],u=t[2],l=0,d=[];l<r.length;l++)a=r[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);for(p&&p(t);d.length;)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],i=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(i=!1)}i&&(s.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},o={0:0},s=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="https://memeblast.bizzon.io/game/";var r=window.webpackJsonp=window.webpackJsonp||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var u=0;u<r.length;u++)t(r[u]);var p=c;s.push([233,1]),n()}(Array(196).concat([function(e,t,n){e.exports=n.p+"assets/fonts/riffic-bold.ttf?8ea64230f8b01d878292ab67ecfdb2ed"},,,function(e,t,n){e.exports=n.p+"assets/images/mobile/cursor.cur?0b98ae8c6c995eb77c320721d82a673d"},function(e,t,n){e.exports=n.p+"assets/images/mobile/cursor.png?b61fa161835b586b3b63cf96b4f32062"},function(e,t,n){e.exports=n.p+"assets/images/mobile/fullscreen/fullscreen-border-left-web-1300.png?1fde1573a13753aa6a30e0cfb7fcc7bb"},function(e,t,n){e.exports=n.p+"assets/images/mobile/fullscreen/fullscreen-border-left-web-630.png?0740ca6e0e86db0ccd187c65ff41b89a"},function(e,t,n){e.exports=n.p+"assets/images/mobile/fullscreen/fullscreen-border-right-web-1300.png?5f1f7ad89e048511d6185a18c2363af2"},function(e,t,n){e.exports=n.p+"assets/images/mobile/fullscreen/fullscreen-border-right-web-630.png?3d861e39477f3a420b087d2bde0547c5"},function(e,t,n){e.exports=n.p+"assets/images/mobile/fullscreen/fullscreen-left-web-1300.jpg?4ee62d5b6b31335558bec02830617e6e"},function(e,t,n){e.exports=n.p+"assets/images/mobile/fullscreen/fullscreen-left-web-630.jpg?fe9721f73fabc513e81915bdcd3702b0"},function(e,t,n){e.exports=n.p+"assets/images/mobile/fullscreen/fullscreen-right-web-1300.jpg?ca5b56362c0abfacebffd4eb2e6b8b39"},function(e,t,n){e.exports=n.p+"assets/images/mobile/fullscreen/fullscreen-right-web-630.jpg?78252c96d22df5009e12c3b2943956f2"},function(e,t,n){e.exports=n.p+"assets/images/mobile/pointer.cur?92cb1559a5266ffd3558a54b0aa099ac"},function(e,t,n){e.exports=n.p+"assets/images/mobile/pointer.png?86b904bc7005675974490fc7619d0e52"},function(e,t,n){e.exports=n.p+"assets/images/mobile/preloader/preloader.webp?webp_6b9d51bdb593326d0c355aabb9c5ee51"},function(e,t,n){e.exports=n.p+"assets/images/mobile/rotate-screen/rotate-screen-icon.webp?webp_a9c8f15926fd619d2e8a5f12daa8e1b1"},function(e,t,n){e.exports=n.p+"assets/skeletonAnimations/mob/confetti.webp?webp_2b1a1ed2dcc62ef58bdff7fb8168028d"},function(e,t,n){e.exports=n.p+"assets/skeletonAnimations/mob/star-target.webp?webp_c027987c57873ebd399eabb2ac889102"},function(e,t,n){e.exports=n.p+"assets/skeletonAnimations/mob/tile.webp?webp_d61e738935181e929199a11ada2d8d77"},,,,,,function(e){e.exports=JSON.parse('{"newEpisodeContinue":"Tippen Sie auf um fortzufahren...","bad-connect":"Mehr als 3 Zeilen!","home-play-button":"Spielen","home-challenge-button":"Herausforderung","home-memory-button":"Bonus","home-auth-button":"Fortschritt speichern","challenge-rules":"Besiegen Sie schneller als Gegner","challenge-reward-text":"und erhalten Sie einen Preis!","challenge-lose-top-text":"Sie haben es nicht geschafft...","challenge-lose-bottom-text":"Versuchen Sie es erneut!","challenge-home-button":"Menü","challenge-restart-button":"Noch\\neinmal","challenge-start-button":"Starten","challenge-win-top-text":"Sie haben gewonnen!","challenge-win-button":"Fortfahren","open":"Öffnen","reward":"PREIS","header-level":"Level <%=levelNumber%>","out-of-moves-popup":{"header":"DIE ZEIT IST ABGELAUFEN","text":"Weitermachen?","adButton":"Kostenlos","restartButton":"Neu Starten"},"premium-popup":{"header":"PREMIUM","trial-button":"Kostenlos","description":["Jeden Tag bekommst du","und siehst","nervige Werbung nicht!"],"trial-label":"probiere 1 Tag aus","currency-label":"für 2 Wochen","tooltip":"Kostenlose Probezeit von 1 Tag. Kosten nach\\ndem Ende der Probezeit - <%= priceWithCurrency %>."},"subscriptions-bonuses":{"header":"Münzen für ein\\nAbonnement!"},"win-popup":{"header":"LEVEL BESTANDEN","continue":"Fortfahren"},"daily-bonus-popup":{"title":"TÄGLICHER BONUS"},"error-popup":{"header":"Fehler","reload-page":"Erneuern","send-message":"Fehler \\nmelden","something-wrong":"Die Verbindung\\nmit dem Server\\nist verloren!","two-tabs":"Sie können\\nzwei Tabs nicht\\ngleichzeitig spielen!","network-error":"Netzwerkfehler!","if-you-often-see":"Wenn Sie oft diese Box sehen\\nteilen Sie uns bitte\\nden Fehler mit!"},"shop-popup":{"header":"SHOP","hit":"HIT","best-price":"BESTER PREIS"},"setup-popup":{"header":"EINSTELLUNGEN","restart":"Noch\\neinmal","music":"Musik","sound":"Ton","home":"Menü","bottom-text":"Probleme mit dem Spiel?","send-message":"Kontaktieren\\nSie uns"},"complete-level":{"continue":"Tippen Sie auf, um fortzufahren..."},"rally":{"continue":"Tippen Sie auf, um fortzufahren...","rules":"Beenden Sie <%=amount%> Level\\nvor den anderen!","start":"START"},"rally-cross-promo":{"skip":"Klicken Sie zum Spielen","try-game":"Versuchen Sie ein neues Spiel!","play":"Spielen"},"new-friends-popup":{"header":"NEUE FREUNDE","notify-button":"Schenken","description-top":"Grüßen Sie die Freunde","description-bottom":"und senden Sie +<%=amount%>"},"level":"Level","rotate-screen":{"title":"Drehen Sie Ihr Gerät"},"achievements":{"header":"PREISE","level-tooltip":"Preis für\\nein Hundert\\nLevel Beendung","rally1-tooltip":"Preis für\\nden ersten Platz\\nim Rennen","rally2-tooltip":"Preis für\\nden zweiten Platz\\nim Rennen","rally3-tooltip":"Preis für\\nden dritten Platz\\nim Rennen"},"memory-game":{"title":"Paare finden","skip":"Überspringen","exit":"Ausfahrt","exit-title":"SIND SIE SICHER?","give-up":"Aufgeben","continue":"Weiter","restart":"Spielen","warning":"Aufgeben und die Belohnung ablehnen?","tutorial":["Öffnen Sie die erste Karte","Ihr Ziel ist es, genau\\ndie gleiche Karte zu finden","Versuchen wir es noch einmal!","Das ist großartig! Erinnern Sie\\nsich, wo es so etwas gab?","Finde alle Paare und erhalte eine Belohnung!"]},"notification.1":"Das Spiel wird jeden Tag besser! Kommen Sie rein und überzeugen Sie sich!👍","notification.2":"Hallo, Sie waren schon lange nicht mehr im Spiel! Wollen wir es wiedergutmachen :)","notification.3":"Hallo, kommen Sie rein - es gibt so viel Interessantes!😜","notification.4":"Saftiges Spiel💥, interessante Levels💡 - verpassen Sie nicht die Gelegenheit zu genießen! :)","notification.5":"Tolles SPIEL!🔥 Kommen Sie rein, wir spielen zusammen!🙂","notification.6":"Ein unglaubliches Puzzle! Da kann man einfach immer weiter spielen - kommen Sie schnell rein!🐾","notification.7":"Level für Level, Tag für Tag - ich kann nicht aufhören zu spielen! Kommen Sie auch rein🙂","notification.8":"So ein Spiel gab es hier noch nicht! Versuchen Sie es auch!💖","notification.9":"Das ist ein SPIEL!😱 Es gibt so viel Interessantes, machen Sie mit🙂","notification.10":"Mit diesem Spiel werden Sie sich nicht langweilen!🔥So ein halsbrecherisches Spiel😱😱😱","notification.11":"Ein gemütliches Spiel für gemütliche Winterabende!❄️Schließen Sie sich an🙂","notification.12":"↘️↘️↘️UNWIRKLICHES PUZZLE↙️↙️↙️","notification.13":"Ich habe Ihnen ein Geschenk hinterlassen!\\nNehmen Sie es und holen mich ein =)","payment.notify-buy":"Danke für den Kauf!","loading-resources":"Wird geladen...\\nWarten Sie mal!","loading-tips":{"first-load":["Der erste Download kann lang sein!","Warten Sie unbedingt, bis der Download abgeschlossen ist!"],"regular-load":["Vergessen Sie nicht die Hinweise!"]},"loader-widgets":{"support-label":"Das Spiel wird nicht geladen?","support-button":"Hilfe"},"no-ads":"Anzeigen sind nicht bereit","update-available-popup":{"button":"Herunterladen","header":"Update verfügbar","update-available":"Neu Update\\nverfügbar.","description":"Bitte herunterladen\\nund installieren."},"language-popup":{"header":"SPRACHE"},"continue":"Tippen Sie auf um fortzufahren...","episode-1-name":"Früchte","episode-2-name":"Süßigkeiten","episode-3-name":"Schmetterlinge","episode-4-name":"Tiefsee","episode-5-name":"Tiere","episode-6-name":"Sport","episode-7-name":"Im Wald","episode-8-name":"Lebensmittel","episode-9-name":"Die Musik","episode-10-name":"Weiblich","episode-11-name":"Urlaub","episode-12-name":"Dinosaurier","episode-13-name":"Baustelle","episode-14-name":"Weltraum","episode-15-name":"Schule","episode-16-name":"In der Küche","episode-17-name":"Gemüse","episode-18-name":"Kindheit","episode-19-name":"Frauen Outfit","episode-20-name":"Handarbeit","episode-21-name":"Im Schrank","episode-22-name":"Badezimmer","episode-23-name":"Antikes Ägypten","episode-24-name":"Magie","episode-25-name":"Kunst","episode-26-name":"Spiele","episode-27-name":"Frankreich","episode-28-name":"Mexiko","episode-29-name":"Griechenland","episode-30-name":"Krankenhaus","episode-31-name":"Picknick","episode-32-name":"Kopfbedeckung","episode-33-name":"Filme","episode-34-name":"Theater","episode-35-name":"Alice","episode-36-name":"Instrumente","episode-37-name":"Party","episode-38-name":"Asien","episode-39-name":"Deutschland","episode-40-name":"Wilder Westen","episode-41-name":"Piraten","episode-42-name":"Detektiv","episode-43-name":"Schlafzimmer","episode-44-name":"Zoohandlung","episode-45-name":"Natur","episode-46-name":"Schmuck","episode-47-name":"Zirkus","episode-48-name":"Physik"}')},function(e){e.exports=JSON.parse('{"newEpisodeContinue":"Click to continue...","bad-connect":"More than 3 lines!","home-play-button":"Play","home-back-button":"Back to App","touch-to-continue":"Tap to continue...","best-result":"BEST RESULT","total-points":"TOTAL POINTS","total-coins":"COINS","current-points":"Your score:","home-challenge-button":"Challenge","home-memory-button":"Bonus","home-auth-button":"Save Progress","challenge-rules":"Beat your opponent","challenge-reward-text":"and get a prize!","challenge-lose-top-text":"You\'re out of time...","challenge-lose-bottom-text":"Try again!","challenge-home-button":"Menu","challenge-restart-button":"Again","challenge-start-button":"Start","challenge-win-top-text":"You win!","challenge-win-button":"Continue","open":"Open","reward":"REWARD","header-level":"Level <%=levelNumber%>","out-of-moves-popup":{"header":"TIME OUT","continue":"Home"},"not-enough-energy-popup":{"timer":"Energy will be restored in:"},"premium-popup":{"header":"PREMIUM","trial-button":"Free","description":["Every day you get","and don\'t see","annoying ads!"],"trial-label":"try it for 1 day","currency-label":"for 2 weeks","tooltip":"The free trial period is 1 day. Cost after the end of the \\ntrial period - <%= priceWithCurrency %>."},"subscriptions-bonuses":{"header":"Coins for subscription!"},"win-popup":{"header":"LEVEL PASSED","continue":"Continue"},"daily-bonus-popup":{"title":"DAILY BONUS"},"error-popup":{"header":"Error","reload-page":"Update","send-message":"Report\\nan error","something-wrong":"Lost connection\\nto the server!","two-tabs":"You cannot play\\nin two tabs\\nat once!","network-error":"Network error!","if-you-often-see":"If you often see\\nthis window, please\\nlet us know!"},"shop-popup":{"header":"SHOP","hit":"HIT","best-price":"BEST OFFER"},"setup-popup":{"header":"SETTINGS","restart":"Again","music":"Music","sound":"Sound","home":"Menu","bottom-text":"Trouble with the game?","send-message":"Contact Us"},"complete-level":{"continue":"Click to continue..."},"rally":{"continue":"Click to continue...","rules":"Complete <%=amount%> levels before anyone else!","start":"START"},"rally-cross-promo":{"skip":"Click to skip","try-game":"Try a new game!","play":"Play"},"new-friends-popup":{"header":"NEW FRIENDS","notify-button":"Send a gift","description-top":"Say hello to your friends","description-bottom":"and send +<%=amount%>"},"level":"Level","rotate-screen":{"title":"Flip your device"},"achievements":{"header":"REWARDS","level-tooltip":"Award\\nfor Completing\\n100 Levels","rally1-tooltip":"Award\\nfor first place\\nin the Race","rally2-tooltip":"Award\\nfor second place\\nin the Race","rally3-tooltip":"Award\\nfor third place\\nin the Race"},"memory-game":{"title":"Find pairs","skip":"Skip","exit":"Exit","exit-title":"ARE YOU SURE?","give-up":"Give up","continue":"Continue","restart":"Play","warning":"Give up and refuse the reward?","tutorial":["Open the first card","Your goal is to find\\nthe exact same card","Let\'s try again!","That\'s great! Do you remember\\nwhere there was one of these?","Find all the pairs and get a reward!"]},"notification.1":"The game gets better every day! Come in and see for yourself! 👍","notification.2":"Hi, it\'s been a while since you played the game! Let\'s fix it :)","notification.3":"Hey, you have been missing out on so much new stuff 😜 Come on in!","notification.4":"Juicy game💥, tricky tasks💡 - don\'t miss the opportunity to enjoy! :)","notification.5":"Amazing GAME! 🔥 Come on in, let\'s play together! 🙂","notification.6":"Incredible puzzle game! Can\'t get enough of it - come on in soon! 🐾","notification.7":"Level after level, day after day - can\'t stop playing! Come on in too🙂 .","notification.8":"Unlike any game you\'ve ever played before! You should try it! 💖","notification.9":"What a GAME! 😱 So much fun, come join in🙂","notification.10":"You won\'t get bored with this game for sure! 🔥It will rack your brains 😱😱😱😱","notification.11":"A cozy game for cozy winter evenings! ❄️ Join in🙂","notification.12":"↘️↘️↘️ UNREAL BRAINTEASER ↙️↙️↙️","notification.13":"I left you a gift!\\nGet it soon and catch up with me =)","payment.notify-buy":"Thanks for the purchase!","loading-resources":"Loading...\\nPlease wait!","loading-tips":{"first-load":["First download may take longer","Be sure to wait until the download is complete!"],"regular-load":["Don\'t forget about the hints!"]},"loader-widgets":{"support-label":"Game not loading?","support-button":"Help"},"no-ads":"Ads are not ready","update-available-popup":{"button":"Download","header":"Update Available","update-available":"New update\\navailable.","description":"Please download\\nand install."},"language-popup":{"header":"Language"},"continue":"Click to continue...","episode-1-name":"Fruits","episode-2-name":"Sweets","episode-3-name":"Butterflies","episode-4-name":"Deep sea","episode-5-name":"Animals","episode-6-name":"Sport","episode-7-name":"In a forest","episode-8-name":"Groceries","episode-9-name":"Music","episode-10-name":"Feminine","episode-11-name":"Vacation","episode-12-name":"Dinosaurs","episode-13-name":"Construction site","episode-14-name":"Space","episode-15-name":"School","episode-16-name":"In a kitchen","episode-17-name":"Vegetables","episode-18-name":"Childhood","episode-19-name":"Ladieswear","episode-20-name":"Needlework","episode-21-name":"Wardrobe","episode-22-name":"Bathroom","episode-23-name":"Ancient Egypt","episode-24-name":"Magic","episode-25-name":"Art","episode-26-name":"Games","episode-27-name":"France","episode-28-name":"Mexico","episode-29-name":"Greece","episode-30-name":"Hospital","episode-31-name":"Picnic","episode-32-name":"Headwear","episode-33-name":"Movies","episode-34-name":"Theater","episode-35-name":"Alice","episode-36-name":"Tools","episode-37-name":"Celebration","episode-38-name":"Asia","episode-39-name":"Germany","episode-40-name":"Wild West","episode-41-name":"Pirates","episode-42-name":"Detective","episode-43-name":"Bedroom","episode-44-name":"Pet store","episode-45-name":"Nature","episode-46-name":"Jewelry","episode-47-name":"Circus","episode-48-name":"Physics"}')},function(e){e.exports=JSON.parse('{"newEpisodeContinue":"Haga clic para continuar","bad-connect":"¡MÁS DE 3 LÍNEAS!","home-play-button":"Jugar","home-challenge-button":"Reto","home-memory-button":"Bono","home-auth-button":"Guardar proceso","challenge-rules":"¡Venza más rápido al contrincante","challenge-reward-text":"y obtenga un premio!","challenge-lose-top-text":"No alcanzó...","challenge-lose-bottom-text":"¡Intentar de nuevo!","challenge-home-button":"Menú","challenge-restart-button":"De nuevo","challenge-start-button":"Comenzar","challenge-win-top-text":"¡Usted ha ganado!","challenge-win-button":"Continuar","open":"Abrir","reward":"RECOMPENSA","header-level":"Nivel <%=levelNumber%>","out-of-moves-popup":{"header":"EL TIEMPO SE ACABÓ","text":"¿Continuar?","adButton":"Gratis","restartButton":"Reiniciar"},"premium-popup":{"header":"PREMIUM","trial-button":"Gratis","description":["¡Todos los días recibes","y no ves","anuncios molestos!"],"trial-label":"prueba 1 día","currency-label":"durante 2 semanas","tooltip":"Periodo de prueba gratuito de 1 día. Costo después del final\\ndel período de prueba - <%= priceWithCurrency %>."},"subscriptions-bonuses":{"header":"Monedas por suscripción!"},"win-popup":{"header":"NIVEL SOBREPASADO","continue":"Continuar"},"daily-bonus-popup":{"title":"BONUS DIARIO"},"error-popup":{"header":"Error","reload-page":"Refrescar","send-message":"Reportar\\nun error","something-wrong":"¡Se perdió la conexión\\ncon el servidor!","two-tabs":"¡Usted no puede jugar\\nen dos pestañas\\na la vez!","network-error":"Error de red!","if-you-often-see":"¡Si ve esta ventana\\na menudo, infórmenos\\npor favor!"},"shop-popup":{"header":"TIENDA","hit":"HIT","best-price":"MEJOR OFERTA"},"setup-popup":{"header":"CONFIGURACIÓN","restart":"De nuevo","music":"Música","sound":"Sonido","home":"Menú","bottom-text":"¿Algún problema al jugar?","send-message":"Contáctenos"},"complete-level":{"continue":"Haga clic para continuar"},"rally":{"continue":"Haga clic para continuar","rules":"¡Complete <%=amount%> los niveles antes que otros!","start":"START"},"rally-cross-promo":{"skip":"Toque para jugar","try-game":"¡Prueba un nuevo juego!","play":"Jugar"},"new-friends-popup":{"header":"NUEVOS AMIGOS","notify-button":"Enviar\\nregalo","description-top":"Saludar a amigos","description-bottom":"y enviar+<%=amount%>"},"level":"Nivel","rotate-screen":{"title":"Gire su dispositivo"},"achievements":{"header":"RECOMPENSAS","level-tooltip":"Recompensa\\npor acabar\\n100 niveles","rally1-tooltip":"Recompensa\\npor el primer lugar\\nen la carrera","rally2-tooltip":"Recompensa\\npor el segundo lugar\\nen la carrera","rally3-tooltip":"Recompenso\\npor el tercer lugar\\nen la carrera"},"memory-game":{"title":"Encontrar parejas","skip":"Saltar","exit":"Salida","exit-title":"¿ESTÁS SEGURO?","give-up":"Abandonar","continue":"Continuar","restart":"Jugar","warning":"¿Rendirse y rechazar la recompensa?","tutorial":["Abrir la primera tarjeta","Tu objetivo es encontrar\\nexactamente la misma tarjeta","¡Intentémoslo de nuevo!","¡Qué bien! ¿Recuerdas dónde\\nhabía uno de estos?","¡Encuentra todas las parejas y consigue una recompensa!"]},"notification.1":"¡El juego s epone mejor cada día! ¡Venga y véalo usted mismo!","notification.2":"Hola, ha pasado un buen tiempo desde que jugó! Arreglemos eso :)","notification.3":"Hey, te has perdido de muchas cosas 😜 ¡Entra!","notification.4":"Que juego sabroso💥, niveles interesantes💡 - ¡no dejes de disfrutarlo! :)","notification.5":"¡Qué increíble JUEGO!🔥 Entra, vamos a jugar juntos!🙂","notification.6":"¡Un increíble rompecabezas! Imposible despegarse - entra ya!🐾","notification.7":"Nivel tras nivel, día tras día - ¡no puedo dejar de jugar! Entra también🙂","notification.8":"¡No ha habido tal juego acá! ¡Pruébalo tú también!💖","notification.9":"¡Pero que JUEGO!😱 ¡Tanto interesante, entra!🙂","notification.10":"¡Seguro que con este juego no te aburrirás!🔥Que te rompe la cabeza😱😱😱","notification.11":"¡Un juego cómodo para las tardes de invierno!❄️ Únete🙂","notification.12":"↘️↘️↘️UN ROMPECABEZAS INCREÍBLE↙️↙️↙️","notification.13":"¡Te he dejado un regalo!\\nRecógelo y alcánzame=)","payment.notify-buy":"¡Gracias por la compra!","loading-resources":"Cargando...\\n¡Espere por favor!","loading-tips":{"first-load":["La primera descarga puede tomar tiempo","¡Asegúrese de esperar hasta que la descarga esté completa!"],"regular-load":["¡No olvide los trucos!"]},"loader-widgets":{"support-label":"¿El juego no carga?","support-button":"Ayuda"},"no-ads":"Los anuncios no están listos","update-available-popup":{"button":"Descargar","header":"Actualizar el juego disponible","update-available":"Actualizar de nuevo el juego disponible","description":"Por favor, descargue e instale"},"language-popup":{"header":"LENGUAJE"},"continue":"Haga clic para continuar","episode-1-name":"Frutos","episode-2-name":"Dulces","episode-3-name":"Mariposas","episode-4-name":"Mar profundo","episode-5-name":"Animales","episode-6-name":"Deporte","episode-7-name":"En el bosque","episode-8-name":"Alimento","episode-9-name":"Músico","episode-10-name":"Femenino","episode-11-name":"Vacaciones","episode-12-name":"Dinosaurios","episode-13-name":"Sitio de construcción","episode-14-name":"Espacio","episode-15-name":"Escuela","episode-16-name":"En la cocina","episode-17-name":"Verduras","episode-18-name":"Infancia","episode-19-name":"Traje de mujer","episode-20-name":"Costura","episode-21-name":"Armario","episode-22-name":"Baño","episode-23-name":"Antiguo Egipto","episode-24-name":"Magia","episode-25-name":"Arte","episode-26-name":"Juegos","episode-27-name":"Francia","episode-28-name":"México","episode-29-name":"Grecia","episode-30-name":"Hospital","episode-31-name":"Picnic","episode-32-name":"Sombrerería","episode-33-name":"Películas","episode-34-name":"Teatro","episode-35-name":"Alicia","episode-36-name":"Instrumentos","episode-37-name":"Fiesta","episode-38-name":"Asia","episode-39-name":"Alemania","episode-40-name":"Salvaje Oeste","episode-41-name":"Piratas","episode-42-name":"Detective","episode-43-name":"Dormitorio","episode-44-name":"Tienda de mascotas","episode-45-name":"Naturaleza","episode-46-name":"Joyería","episode-47-name":"Circo","episode-48-name":"Física"}')},function(e){e.exports=JSON.parse('{"newEpisodeContinue":"Cliquez pour continuer...","bad-connect":"Plus de 3 lignes !","home-play-button":"Jouer","home-challenge-button":"Défi","home-memory-button":"Bonus","home-auth-button":"Sauvegarder la progression","challenge-rules":"Battez plus vite votre adversaire","challenge-reward-text":"et obtenez un prix !","challenge-lose-top-text":"Votre temps s\'est écoulé...","challenge-lose-bottom-text":"Essayez encore une fois !","challenge-home-button":"Menu","challenge-restart-button":"Encore\\nune fois","challenge-start-button":"Commencer","challenge-win-top-text":"Vous avez gagné !","challenge-win-button":"Continuer","open":"Ouvrir","reward":"RÉCOMPENSE","header-level":"Niveau <%=levelNumber%>","out-of-moves-popup":{"header":"LE TEMPS S\'EST ÉCOULÉ","text":"Continuez?","adButton":"Gratuitement","restartButton":"Recommencer"},"premium-popup":{"header":"PREMIUM","trial-button":"Gratuitement","description":["Chaque jour, vous recevez","et ne voyez pas","de publicités ennuyeuses!"],"trial-label":"essayez 1 jour","currency-label":"pour 2 semaines","tooltip":"Période d\'essai gratuite 1 jour. Coût après la fin\\nde la période d\'essai - <%= priceWithCurrency %>."},"subscriptions-bonuses":{"header":"Des pièces pour\\nun abonnement!"},"win-popup":{"header":"LE NIVEAU EST PASSÉ","continue":"Continuer"},"daily-bonus-popup":{"title":"BONUS QUOTIDIEN"},"error-popup":{"header":"Erreur","reload-page":"Mettre à jour","send-message":"Signaler\\nune erreur","something-wrong":"Connexion perdue\\navec le serveur !","two-tabs":"Vous ne pouvez\\npas jouer dans deux\\nonglets en\\nmême temps !","network-error":"Erreur de réseau !","if-you-often-see":"Si vous voyez souvent cette\\nfenêtre, veuillez nous\\ninformer de l\'erreur !"},"shop-popup":{"header":"MAGASIN","hit":"HIT","best-price":"MEILLEUR PRIX"},"setup-popup":{"header":"PARAMÈTRES","restart":"Encore\\nune fois","music":"Musique","sound":"Son","home":"Menu","bottom-text":"Des problèmes avec le jeu ?","send-message":"Contactez-nous"},"complete-level":{"continue":"Cliquez pour continuer..."},"rally":{"continue":"Cliquez pour continuer...","rules":"Passez <%=amount%> niveaux avant les autres !","start":"START"},"rally-cross-promo":{"skip":"Cliquez pour sauter","try-game":"Essayez un nouveau jeu!","play":"Jouer"},"new-friends-popup":{"header":"NOUVEAUX AMIS","notify-button":"Offrir\\nun cadeau","description-top":"Saluez vos amis","description-bottom":"et envoyez +<%=amount%>"},"level":"Niveau","rotate-screen":{"title":"Faites pivoter votre appareil"},"achievements":{"header":"RÉCOMPENSES","level-tooltip":"Récompense\\npour avoir terminé\\n100 niveaux","rally1-tooltip":"Récompense pour\\nla première place\\ndans la course","rally2-tooltip":"Récompense pour\\nla deuxième place\\ndans la course","rally3-tooltip":"Récompense pour\\nla troisième place\\ndans la course"},"memory-game":{"title":"Trouver des paires","skip":"Sauter","exit":"Sortie","exit-title":"ÊTES-VOUS SÛRS ?","give-up":"Abandonner","continue":"Continuer","restart":"Jouer","warning":"Abandonner et refuser la récompense ?","tutorial":["Ouvrir la première carte","Votre objectif est de trouver\\nexactement la même carte","Réessayons !","C\'est génial ! Vous souvenez-vous\\nde l\'endroit où il y en a eu un ?","Trouvez toutes les paires et obtenez une récompense !"]},"notification.1":"Le jeu devient meilleur de jour en jour ! Venez et voyez par vos propres yeux ! 👍","notification.2":"Salut, ça fait un moment que je t\'ai pas vu dans le jeu ! Corrigeons ça :)","notification.3":"Salut ! Viens voir, il y a tellement de choses intéressantes !😜","notification.4":"Jeu juteux💥, niveaux intéressants💡 - ne râtez pas l\'occasion de vous amuser ! :)","notification.5":"Un jeu incroyable ! 🔥 Viens,on jouera ensemble ! 🙂 ...","notification.6":"Incroyable jeu casse-tête ! Il est impossible de s\'en passer - rejoins nous au plus vite que possible !🐾","notification.7":"Niveau après niveau, jour après jour - je ne peux pas m\'arrêter de jouer ! Venez aussi 🙂","notification.8":"Il n\'y a jamais eu un jeu pareil ici ! Essayez-le aussi ! 💖","notification.9":"Quel JEU !😱 Tant de choses intéressantes, rejoins-nous 🙂","notification.10":"Vous ne vous ennuierez pas avec ce jeu ! 🔥 Il va exploser votre cerveau😱😱😱😱","notification.11":"Un jeu sympatique pour des douces soirées d\'hiver ! ❄️ Rejoignez-nous🙂 .","notification.12":"↘️↘️↘️UN CASSE-TÊTE INCROYABLE↙️↙️↙️","notification.13":"Je t\'ai laissé un cadeau! Prends-le vite et rattrape-moi =)","payment.notify-buy":"Merci pour votre achat !","loading-resources":"Chargement...\\nveuillez patienter!","loading-tips":{"first-load":["Le premier téléchargement peut être long !","Assurez-vous d\'attendre la fin du téléchargement!"],"regular-load":["N\'oubliez pas les indices !"]},"loader-widgets":{"support-label":"Le jeu ne se charge pas ?","support-button":"Aide"},"no-ads":"Les annonces ne sont pas prêtes","update-available-popup":{"button":"Télécharger","header":"Mise à jour disponible","update-available":"Nouvelle mise\\nà jour disponible.","description":"Veuillez télécharger\\net installer."},"language-popup":{"header":"LANGUE"},"continue":"Cliquez pour continuer...","episode-1-name":"Fruits","episode-2-name":"Sucreries","episode-3-name":"Papillons","episode-4-name":"Mer profonde","episode-5-name":"Animaux","episode-6-name":"Sport","episode-7-name":"Dans la forêt","episode-8-name":"Aliments","episode-9-name":"Musique","episode-10-name":"Féminin","episode-11-name":"Vacance","episode-12-name":"Dinosaures","episode-13-name":"Chantier","episode-14-name":"Espace","episode-15-name":"École","episode-16-name":"Dans la cuisine","episode-17-name":"Légumes","episode-18-name":"Enfance","episode-19-name":"Tenue de femme","episode-20-name":"Couture","episode-21-name":"Penderie","episode-22-name":"Salle de bains","episode-23-name":"L\'Egypte ancienne","episode-24-name":"Magie","episode-25-name":"Art","episode-26-name":"Jeux","episode-27-name":"France","episode-28-name":"Mexique","episode-29-name":"Grèce","episode-30-name":"Hôpital","episode-31-name":"Piquenique","episode-32-name":"Couvre-chef","episode-33-name":"Films","episode-34-name":"Théâtre","episode-35-name":"Alice","episode-36-name":"Instruments","episode-37-name":"Fête","episode-38-name":"Asie","episode-39-name":"Allemagne","episode-40-name":"L\'Ouest sauvage","episode-41-name":"Pirates","episode-42-name":"Détective","episode-43-name":"Chambre à coucher","episode-44-name":"Animalerie","episode-45-name":"Nature","episode-46-name":"Bijoux","episode-47-name":"Cirque","episode-48-name":"Physique"}')},function(e){e.exports=JSON.parse('{"newEpisodeContinue":"Clicca per continuare...","bad-connect":"Più di 3 righe!","home-play-button":"Gioca ","home-challenge-button":"Sfida","home-memory-button":"Bonus","home-auth-button":"Salva i progressi","challenge-rules":"Batti il tuo avversario","challenge-reward-text":"e ricevi un premio!","challenge-lose-top-text":"sei fuori tempo...","challenge-lose-bottom-text":"Riprova!","challenge-home-button":"Menù","challenge-restart-button":"Ancora","challenge-start-button":"Inizio","challenge-win-top-text":"Hai vinto!","challenge-win-button":"Continua","open":"Apri","reward":"RICOMPENSA","header-level":"Livello <%=levelNumber%>","out-of-moves-popup":{"header":"TEMPO SCADUTO","text":"Continua?","adButton":"Gratuito","restartButton":"Ricomincia"},"premium-popup":{"header":"PREMIUM","trial-button":"Gratis","description":["Ogni giorno ricevi","e non vedi","annunci fastidiosi!"],"trial-label":"prova 1 giorno","currency-label":"per 2 settimane","tooltip":"Periodo di prova gratuito di 1 giorno. Costo dopo la fine\\nperiodo di prova -  <%= priceWithCurrency %>."},"subscriptions-bonuses":{"header":"Monete per abbonamento!"},"win-popup":{"header":"LIVELLO SUPERATO","continue":"Continua"},"daily-bonus-popup":{"title":"BONUS GIORNALIERO"},"error-popup":{"header":"Errore","reload-page":"Aggiorna","send-message":"Segnala\\n errore","something-wrong":"Connessione persa\\n con il server!","two-tabs":"Non puoi giocare\\n in due schede\\n a volta!","network-error":"Errore di rete!","if-you-often-see":"Se vedi spesso\\nquesta finestra, per favore\\nfaccelo sapere!"},"shop-popup":{"header":"SHOP","hit":"COLPO","best-price":"MIGLIORE OFFERTA"},"setup-popup":{"header":"IMPOSTAZIONI","restart":"Ancora","music":"Musica","sound":"Suono","home":"Menù","bottom-text":"Problemi con il gioco?","send-message":"Contattaci"},"complete-level":{"continue":"Clicca per continuare..."},"rally":{"continue":"Clicca per continuare...","rules":"Completa il livello <%=amount%>\\nprima di chiunque altro!","start":"INIZIO"},"rally-cross-promo":{"skip":"Clicca per giocare","try-game":"Prova un nuovo gioco!","play":"Gioca"},"new-friends-popup":{"header":"NUOVI AMICI","notify-button":"Invia\\nun regalo","description-top":"Saluta i tuoi amici","description-bottom":"e invia +<%=amount%>"},"level":"Livello","rotate-screen":{"title":"Capovolgi il tuo dispositivo"},"achievements":{"header":"RICOMPENSE","level-tooltip":"Premio per\\naver completato\\n100 livelli","rally1-tooltip":"Premio per\\nil primo posto\\n nella Gara","rally2-tooltip":"Premio per\\nil secondo posto\\nin the Race","rally3-tooltip":"Premio per\\nil terzo posto\\n nella Gara"},"memory-game":{"title":"Trova le coppie","skip":"Salto","exit":"Uscita","exit-title":"SEI SICURO?","give-up":"Arrenditi","continue":"Continua","restart":"Gioco","warning":"Rinunciare e rifiutare la ricompensa?","tutorial":["Aprire la prima scheda","L\'obiettivo è trovare\\nla stessa identica carta","Riproviamo!","È fantastico! Ti ricordi dove\\nc\'era uno di questi?","Trova tutte le coppie e ricevi un premio!"]},"notification.1":"Il gioco migliora ogni giorno! Entra e vedi di persona! 👍","notification.2":"Ciao, è passato un po\' di tempo dall\'ultima volta che hai giocato! Risolviamolo :)","notification.3":"Ehi, ti sei perso così tante cose nuove 😜 Entra!","notification.4":"Gioco intrigante💥, compiti complicati💡 - non perdere l\'occasione di divertirti! :)","notification.5":"GIOCO incredibile! 🔥 Entra, giochiamo insieme! 🙂","notification.6":"Gioco rompicapo incredibile! Non ne ho mai abbastanza - vieni presto! 🐾","notification.7":"Livello dopo livello, giorno dopo giorno: non riesco a smettere di giocare! Entra anche tu🙂 .","notification.8":"Diverso da qualsiasi gioco tu abbia mai giocato prima! Dovresti provarlo! 💖","notification.9":"Che partita! 😱 Tanto divertimento, unisciti a noi🙂","notification.10":"Di sicuro non ti annoierai con questo gioco! 🔥Ti farà spaccare il cervello 😱😱😱😱","notification.11":"Un gioco accogliente per piacevoli serate invernali! ❄️ Partecipa🙂","notification.12":"↘️↘️↘️ ROMPICAPO IMPOSSIBILE ↙️↙️↙️","notification.13":"Ti ho lasciato un regalo!\\nRitiralo subito e raggiungimi =)","payment.notify-buy":"Grazie per l\'acquisto!","loading-resources":"Caricamento...\\nAttendere prego!","loading-tips":{"first-load":["Il primo download potrebbe richiedere più tempo","Assicurati di attendere fino al completamento del download!"],"regular-load":["Non dimenticare i suggerimenti!"]},"loader-widgets":{"support-label":"Il gioco non si carica?","support-button":"Aiuto"},"no-ads":"Gli annunci non sono pronti","update-available-popup":{"button":"Scarica","header":"Aggiornamento disponibile","update-available":"Nuovo aggiornamento\\ndisponibile.","description":"Si prega di scaricare\\ne installare."},"language-popup":{"header":"LINGUA"},"continue":"Clicca per continuare...","episode-1-name":"Frutta","episode-2-name":"Dolciumi","episode-3-name":"Farfalle","episode-4-name":"In fondo al mare","episode-5-name":"Animali","episode-6-name":"Sport","episode-7-name":"Nella foresta","episode-8-name":"Alimentari","episode-9-name":"Musica","episode-10-name":"Femminile","episode-11-name":"Vacanze","episode-12-name":"Dinosauro","episode-13-name":"Cantiere","episode-14-name":"Spazio","episode-15-name":"Scuola","episode-16-name":"In cucina","episode-17-name":"Verduras","episode-18-name":"Infanzia","episode-19-name":"Vestito da donna","episode-20-name":"Ricamo","episode-21-name":"Armadio","episode-22-name":"Bagno","episode-23-name":"Antico Egitto","episode-24-name":"Magia","episode-25-name":"Arte","episode-26-name":"Giochi","episode-27-name":"Francia","episode-28-name":"Messico","episode-29-name":"Grecia","episode-30-name":"Ospedale","episode-31-name":"Picnic","episode-32-name":"Copricapo","episode-33-name":"Film","episode-34-name":"Teatro","episode-35-name":"Alice","episode-36-name":"Strumenti","episode-37-name":"Partito","episode-38-name":"Asia","episode-39-name":"Germania","episode-40-name":"Il selvaggio West","episode-41-name":"I pirati","episode-42-name":"Detective","episode-43-name":"Camera da letto","episode-44-name":"Negozio di animali","episode-45-name":"Natura","episode-46-name":"Gioielli","episode-47-name":"Circo","episode-48-name":"Fisica"}')},function(e){e.exports=JSON.parse('{"newEpisodeContinue":"Kliknij aby kontynuować...","bad-connect":"Więcej niż 3 linie!","home-play-button":"Graj","home-challenge-button":"Wyzwanie","home-memory-button":"Bonus","home-auth-button":"Zapisz postęp","challenge-rules":"Wygraj szybciej niż twój przeciwnik","challenge-reward-text":"i otrzymaj nagrodę!","challenge-lose-top-text":"Nie zdążyłeś...","challenge-lose-bottom-text":"Spróbuj ponownie!","challenge-home-button":"Menu","challenge-restart-button":"Od nowa","challenge-start-button":"Start","challenge-win-top-text":"Wygrałeś!","challenge-win-button":"Kontynuuj","open":"Otwórz","reward":"NAGRODA","header-level":"Poziom <%=levelNumber%>","out-of-moves-popup":{"header":"KONIEC CZASU","text":"Kontynuować?","adButton":"Za darmo","restartButton":"Ponownie"},"premium-popup":{"header":"PREMIUM","trial-button":"Bezpłatnie","description":["Każdego dnia dostajesz","i nie widzisz","irytujących reklam!"],"trial-label":"spróbuj 1 dzień","currency-label":"przez 2 tygodnie","tooltip":"Bezpłatny okres próbny 1 dzień. Koszt po\\nzakończeniu okresu próbnego - <%= priceWithCurrency %>."},"subscriptions-bonuses":{"header":"Monety za abonament!"},"win-popup":{"header":"POZIOM UKOŃCZONY","continue":"Kontynuuj"},"daily-bonus-popup":{"title":"CODZIENNY BONUS"},"error-popup":{"header":"Błąd","reload-page":"Odśwież","send-message":"Zgłoś błąd","something-wrong":"Utracono połączenie\\nz serwerem!","two-tabs":"Nie można grać \\nna dwóch kartach\\njednocześnie!","network-error":"Błąd sieci!","if-you-often-see":"Zgłoś\\nbłąd, jeśli często widzisz\\nto okno!"},"shop-popup":{"header":"SKLEP","hit":"HIT","best-price":"NAJLEPSZA CENA"},"setup-popup":{"header":"USTAWIENIA","restart":"Od nowa","music":"Muzyka","sound":"Dźwięk","home":"Menu","bottom-text":"Problemy z grą?","send-message":"Napisz do nas"},"complete-level":{"continue":"Kliknij, aby kontynuować..."},"rally":{"continue":"Kliknij, aby kontynuować...","rules":"Ukończ <%=amount%> poziomy\\nzanim zrobią to inni!","start":"START"},"rally-cross-promo":{"skip":"Kliknij by zagrać","try-game":"Wypróbuj nową grę!","play":"Graj"},"new-friends-popup":{"header":"NOWI ZNAJOMI","notify-button":"Wyślij\\nprezent","description-top":"Przywitaj się ze znajomymi","description-bottom":"i wyślij +<%=amount%>"},"level":"Poziom","rotate-screen":{"title":"Sprawdź swoje urządzenie"},"achievements":{"header":"NAGRODY","level-tooltip":"Nagroda\\nza przejście\\n100 poziomów","rally1-tooltip":"Nagroda\\nza pierwsze miejsce\\nw Wyścigu","rally2-tooltip":"Nagroda\\nza drugie miejsce\\nw Wyścigu","rally3-tooltip":"Nagroda\\nza trzecie miejsce\\nw Wyścigu"},"memory-game":{"title":"Znajdź pary","skip":"Pomiń","exit":"Wyjście","exit-title":"JESTEŚ PEWIEN?","give-up":"Poddaj się","continue":"Kontynuuj","restart":"Grać","warning":"Poddać się i odmówić nagrody?","tutorial":["Otwórz pierwszą kartę","Twoim celem jest znalezienie\\ndokładnie takiej samej karty","Spróbujmy jeszcze raz!","Wspaniale! Pamiętasz,\\ngdzie był jeden z nich?","Znajdź wszystkie pary i zdobądź nagrodę!"]},"notification.1":"Gra z każdym dniem staje się coraz lepsza! Wejdź i się przekonaj!👍","notification.2":"Cześć, dawno Cię nie było! Naprawmy to :)","notification.3":"Cześć, zapraszamy - mamy dla Ciebie sporo ciekawych rzeczy!😜","notification.4":"Ekscytująca gra💥, ciekawe poziomy💡 - nie przegap okazji do zabawy! :)","notification.5":"Niesamowita GRA! 🔥 Wejdź, zagrajmy razem! 🙂","notification.6":"Niesamowita łamigłówka! Nie da się oderwać - spróbuj jak najszybciej!🐾","notification.7":"Poziom za poziomem, dzień za dniem - nie mogę przestać grać! Dołącz do mnie🙂","notification.8":"Takiej gry jeszcze nie było! Sprawdź to!💖","notification.9":"Co za GRA!😱 Tyle ciekawych elementów, dołącz do nas🙂","notification.10":"Tu na pewno nie będziesz się nudzić!🔥Niezła łamigłówka😱😱😱","notification.11":"Ciekawa gra na przytulne zimowe wieczory!❄️ Dołącz już teraz🙂","notification.12":"↘️↘️↘️NIESAMOWITA ŁAMIGŁÓWKA↙️↙️↙️","notification.13":"Zostawiłem Ci prezent!\\nOdbierz go wkrótce i dogoń mnie =)","payment.notify-buy":"Dziękujemy za zakup!","loading-resources":"Ładowanie...\\nProszę czekać!","loading-tips":{"first-load":["Pobranie może trochę potrwać!","Zaczekaj, aż pobieranie się skończy!"],"regular-load":["Nie zapominaj o podpowiedziach!"]},"loader-widgets":{"support-label":"Gra się nie ładuje?","support-button":"Pomoc"},"no-ads":"Reklamy nie są gotowe","update-available-popup":{"button":"Pobierz","header":"Dostępna aktualizacja","update-available":"Nowa aktualizacja jest już\\ndostępna.","description":"Pobierz\\ni zainstaluj."},"language-popup":{"header":"JĘZYK"},"continue":"Kliknij aby kontynuować...","episode-1-name":"Owoc","episode-2-name":"Cukierki","episode-3-name":"Motyle","episode-4-name":"Na dnie morskim","episode-5-name":"Zwierzątka","episode-6-name":"Sport","episode-7-name":"W lesie","episode-8-name":"Żywność","episode-9-name":"Muzyka","episode-10-name":"Damski","episode-11-name":"Urlop","episode-12-name":"Dinozaur","episode-13-name":"Budowa","episode-14-name":"Przestrzeń","episode-15-name":"Szkoła","episode-16-name":"W kuchni","episode-17-name":"Warzywa","episode-18-name":"Dzieciństwo","episode-19-name":"Strój damski","episode-20-name":"Robótki","episode-21-name":"Szafa","episode-22-name":"łazienka","episode-23-name":"Starożytny Egipt","episode-24-name":"Magia","episode-25-name":"Sztuka","episode-26-name":"Gry","episode-27-name":"Francja","episode-28-name":"Meksyk","episode-29-name":"Grecja","episode-30-name":"Szpital","episode-31-name":"Piknik","episode-32-name":"Nakrycia głowy","episode-33-name":"Kino","episode-34-name":"Teatr","episode-35-name":"Alicja","episode-36-name":"Instrumenty","episode-37-name":"Impreza","episode-38-name":"Azja","episode-39-name":"Niemcy","episode-40-name":"Dziki Zachód","episode-41-name":"Piraci","episode-42-name":"Detektyw","episode-43-name":"Sypialnia","episode-44-name":"Sklep zoologiczny","episode-45-name":"Natura","episode-46-name":"Biżuteria","episode-47-name":"Cyrk","episode-48-name":"Fizyka"}')},function(e){e.exports=JSON.parse('{"newEpisodeContinue":"Clica para continuar...","bad-connect":"Mais do que 3 linhas!","home-play-button":"Jogar","home-challenge-button":"Desafio","home-memory-button":"Bónus","home-auth-button":"Guardar o progresso","challenge-rules":"Ganhar mais rapido que oponente","challenge-reward-text":"e receba recompensa","challenge-lose-top-text":"Não foi a tempo...","challenge-lose-bottom-text":"Tente mais uma vez!","challenge-home-button":"Menu","challenge-restart-button":"De novo","challenge-start-button":"Iniciar","challenge-win-top-text":"Ganhou!","challenge-win-button":"Continuar","open":"Abrir","reward":"RECOMPENSA","header-level":"Nivel <%=levelNumber%>","out-of-moves-popup":{"header":"ACABOU O TEMPO","text":"Continuar?","adButton":"Gratis","restartButton":"Reiniciar"},"premium-popup":{"header":"PREMIUM","trial-button":"Grátis","description":["Todos os dias você recebe","e não vê","anúncios irritantes!"],"trial-label":"tente 1 dia","currency-label":"por 2 semanas","tooltip":"Avaliação gratuita de 1 dia. Custo após o término\\ndo período experimental - <%= priceWithCurrency %>."},"subscriptions-bonuses":{"header":"Moedas de Subscrição!"},"win-popup":{"header":"ACABOU O NIVEL","continue":"Continuar"},"daily-bonus-popup":{"title":"BONUS DIARIO"},"error-popup":{"header":"Erro","reload-page":"Atualizar","send-message":"Reportar\\no erro","something-wrong":"Perdida ligação\\ncom servidor!","two-tabs":"Não se pode jogar\\ndos dois separadores\\nao mesmo tempo!","network-error":"Erro de rede!","if-you-often-see":"Se muitas vezes\\nvê esta janela\\nreporte o erro!"},"shop-popup":{"header":"LOJA","hit":"HIT","best-price":"MELHOR PREÇO"},"setup-popup":{"header":"CONFIGURAÇÕES","restart":"Novamente","music":"Musica","sound":"Som","home":"Menu","bottom-text":"Algum problema?","send-message":"Contacta-nos"},"complete-level":{"continue":"Clica para continuar..."},"rally":{"continue":"Clica para continuar...","rules":"Completa <%=amount%> os niveles antes dos otros!","start":"INICIO"},"rally-cross-promo":{"skip":"Clique para jogar","try-game":"Experimente um novo jogo!","play":"Jogar"},"new-friends-popup":{"header":"NOVOS AMIGOS","notify-button":"Oferecer","description-top":"Cumprimenta os amigos!","description-bottom":"e envia +<%=amount%>"},"level":"Nivel","rotate-screen":{"title":"Roda o dispositivo"},"achievements":{"header":"RECOMPENSAS","level-tooltip":"recompensa\\npelo nivel","rally1-tooltip":"recompensa\\npelo primeiro lugar\\nna Corrida","rally2-tooltip":"recompensa\\npelo segundo lugar\\nna Corrida","rally3-tooltip":"recompensa\\npelo terceiro lugar\\nna Corrida"},"memory-game":{"title":"Encontrar pares","skip":"Saltar","exit":"Sair","exit-title":"TEM A CERTEZA?","give-up":"Desistir","continue":"Continuar","restart":"Jogar","warning":"Desistir e recusar a recompensa?","tutorial":["Abrir o primeiro cartão","O seu objetivo é encontrar\\nexatamente o mesmo cartão","Vamos tentar de novo!","Isso é ótimo! Lembras-te\\nonde havia um destes?","Encontra todos os pares e ganha um prémio!"]},"notification.1":"O jogo esta cada vez melhor! Entra e confere!👍","notification.2":"Olá, já faz tempo que não esta entrou no jogo! Vamos lá corrigir isso :)","notification.3":"Ola, entra - temos muitas coisas interessantes! 😜","notification.4":"Que jogo💥, niveis interessantes💡 - não perca a oportunidade de usufruir! :)","notification.5":"Que jogo incrivel!🔥 Entra, vamos jogar juntos!🙂","notification.6":"Quebracabeças incrivel! Não consigo parar - entra já!🐾","notification.7":"Niveis atrás de niveis, dia a dia - não consigo parar de jogar! Emtra também 🙂","notification.8":"Jogo assim ainda não houve aqui! Tenta tu também!💖","notification.9":"Que JOGO!😱 Tanta coisa interessante, junta-te a nos 🙂","notification.10":"Deste momento não te vais aburecer!🔥Podes perder a cabeça 😱😱😱","notification.11":"Um jogo comodo para as noites comodas de inverno!❄️ Junta-te 🙂","notification.12":"↘️↘️↘️INCRIVEL QUEBRACABEÇA↙️↙️↙️","notification.13":"Deixei uma prenda para si!\\n Recebá rapido e apanha-me =)","payment.notify-buy":"Obrigado pela compra!","loading-resources":"Carregando...\\nPor favor, aguarde!","loading-tips":{"first-load":["Primeiro download pode demorar mais tempo!","Obrigatoriamente aguarde o fim do download!"],"regular-load":["Não te esqueças dos truques!"]},"loader-widgets":{"support-label":"Jogo não faz download?","support-button":"Ajuda"},"no-ads":"Os anúncios não estão prontos","update-available-popup":{"button":"Download ","header":"Atualizações disponiveis ","update-available":"Novas atualizações\\ndisponiveis ","description":"Por favor\\ndescaregue e instale"},"language-popup":{"header":"LINGUA"},"continue":"Clica para continuar...","episode-1-name":"Fruta","episode-2-name":"Doces","episode-3-name":"Borboletas","episode-4-name":"Mar profundo","episode-5-name":"Animais","episode-6-name":"Esporte","episode-7-name":"Na floresta","episode-8-name":"Víveres","episode-9-name":"Música","episode-10-name":"Feminino","episode-11-name":"Féria","episode-12-name":"Dinossauro","episode-13-name":"Local de construção","episode-14-name":"Espaço","episode-15-name":"Escola","episode-16-name":"Cozinha","episode-17-name":"Vegetais","episode-18-name":"Infância","episode-19-name":"Roupa feminina","episode-20-name":"Bordado","episode-21-name":"Guarda roupa","episode-22-name":"Banheiro","episode-23-name":"Antigo Egito","episode-24-name":"Magia","episode-25-name":"Arte","episode-26-name":"Jogos","episode-27-name":"França","episode-28-name":"México","episode-29-name":"Grécia","episode-30-name":"Hospital","episode-31-name":"Piquenique","episode-32-name":"Chapéu","episode-33-name":"Filmes","episode-34-name":"Teatro","episode-35-name":"Alice","episode-36-name":"Instrumentos","episode-37-name":"Festa","episode-38-name":"Ásia","episode-39-name":"Alemanha","episode-40-name":"Oeste selvagem","episode-41-name":"Piratas","episode-42-name":"Detetive","episode-43-name":"Quarto de dormir","episode-44-name":"Loja de animais","episode-45-name":"Natureza","episode-46-name":"Joalharia","episode-47-name":"Circo","episode-48-name":"Física"}')},function(e){e.exports=JSON.parse('{"newEpisodeContinue":"Нажмите, чтобы продолжить...","bad-connect":"Больше 3 линий!","home-play-button":"Играть","home-back-button":"Назад","touch-to-continue":"Нажмите, чтобы продолжить...","best-result":"Лучший результат","total-points":"Всего очков","total-coins":"Монеты","current-points":"Вы набрали:","home-challenge-button":"Вызов","home-memory-button":"Бонус","home-auth-button":"Сохранить прогресс","challenge-rules":"Победите быстрее соперника","challenge-reward-text":"и получите приз!","challenge-lose-top-text":"Вы не успели...","challenge-lose-bottom-text":"Попробуйте еще раз!","challenge-home-button":"Меню","challenge-restart-button":"Заново","challenge-start-button":"Начать","challenge-win-top-text":"Вы победили!","challenge-win-button":"Продолжить","open":"Открыть","reward":"НАГРАДА","header-level":"Уровень <%=levelNumber%>","out-of-moves-popup":{"header":"ВРЕМЯ ВЫШЛО","continue":"Продолжить"},"not-enough-energy-popup":{"timer":"Энергия восстановится через:"},"premium-popup":{"header":"ПРЕМИУМ","trial-button":"Бесплатно","description":["Каждый день вы получаете","и не видите","назойливую рекламу!"],"trial-label":"попробуй 1 день","currency-label":"на 2 недели","tooltip":"Бесплатный пробный период 1 день. Стоимость после окончания\\nпробного периода - <%= priceWithCurrency %>."},"subscriptions-bonuses":{"header":"Монеты за подписку!"},"win-popup":{"header":"УРОВЕНЬ ПРОЙДЕН","continue":"Продолжить"},"daily-bonus-popup":{"title":"ЕЖЕДНЕВНЫЙ БОНУС"},"error-popup":{"header":"Ошибка","reload-page":"Обновить","send-message":"Сообщить\\nоб ошибке","something-wrong":"Потеряно соединение\\nс сервером!","two-tabs":"Нельзя играть\\nв двух вкладках\\nодновременно!","network-error":"Нет интернета!","if-you-often-see":"Если вы часто видите\\nэто окно, сообщите нам\\nоб ошибке!"},"shop-popup":{"header":"МАГАЗИН","hit":"ХИТ","best-price":"ЛУЧШАЯ ЦЕНА"},"setup-popup":{"header":"НАСТРОЙКИ","restart":"Заново","music":"Музыка","sound":"Звук","home":"Меню","bottom-text":"Проблемы с игрой?","send-message":"Свяжитесь с нами"},"complete-level":{"continue":"Нажмите, чтобы продолжить..."},"rally":{"continue":"Нажмите, чтобы продолжить...","rules":"Пройдите <%=amount%> уровней\\nраньше других!","start":"СТАРТ"},"rally-cross-promo":{"skip":"Нажмите, чтобы пропустить","try-game":"Попробуйте новую игру!","play":"Играть"},"new-friends-popup":{"header":"НОВЫЕ ДРУЗЬЯ","notify-button":"Подарить","description-top":"Поприветствуйте друзей","description-bottom":"и отправьте +<%=amount%>"},"level":"Уровень","rotate-screen":{"title":"Поверните ваше устройство"},"achievements":{"header":"НАГРАДЫ","level-tooltip":"Награда\\nза прохождение\\nста уровней","rally1-tooltip":"Награда\\nза первое место\\nв Гонке","rally2-tooltip":"Награда\\nза второе место\\nв Гонке","rally3-tooltip":"Награда\\nза третье место\\nв Гонке"},"memory-game":{"title":"Найдите пары","skip":"Пропустить","exit":"Выйти","exit-title":"ВЫ УВЕРЕНЫ?","give-up":"Сдаться","continue":"Продолжить","restart":"Играть","warning":"Хотите выйти и отказаться от награды?","tutorial":["Откройте первую карту","Ваша цель - найти\\nточно такую же карту","Попробуем еще раз!","Супер! Помните ли вы,\\nгде была такая же?","Найдите все пары и получите награду!"]},"notification.1":"Игра все лучше с каждым днем! Заходи и убедишься!👍","notification.2":"Привет, давненько тебя не было в игре! Давай это исправлять :)","notification.3":"Привет, заходи - тут столько всего интересного!😜","notification.4":"Сочная игра💥, интересные уровни💡 - не упусти возможность насладиться! :)","notification.5":"Удивительная ИГРА!🔥 Заходи, будем играть вместе!🙂","notification.6":"Невероятная головоломка! Невозможно оторваться - заходи скорее!🐾","notification.7":"Уровень за уровнем, день за днем - не могу перестать играть! Заходи тоже🙂","notification.8":"Такой игры тут еще не было! Попробуй и ты!💖","notification.9":"Вот это ИГРА!😱 Столько интересного, присоединяйся🙂","notification.10":"С этой игрой точно не соскучишься!🔥Можно голову сломать😱😱😱","notification.11":"Уютная игра для уютных зимних вечеров!❄️ Присоединяйся🙂","notification.12":"↘️↘️↘️НЕРЕАЛЬНАЯ ГОЛОВОЛОМКА↙️↙️↙️","notification.13":"Я оставил тебе подарок!\\nЗабирай скорее и догоняй меня =)","payment.notify-buy":"Спасибо за покупку!","loading-resources":"Идёт загрузка...\\nПожалуйста, подождите!","loading-tips":{"first-load":["Первая загрузка может быть долгой!","Обязательно дождитесь окончания загрузки!"],"regular-load":["Обязательно дождитесь окончания загрузки!"]},"loader-widgets":{"support-label":"Игра не загружается?","support-button":"Помощь"},"no-ads":"Реклама не готова","update-available-popup":{"button":"Скачать","header":"Доступно обновление","update-available":"Доступно новое обновление","description":"Пожалуйста, скачайте и установите"},"language-popup":{"header":"Язык"},"continue":"Нажмите, чтобы продолжить...","episode-1-name":"Фрукты","episode-2-name":"Сладости","episode-3-name":"Бабочки","episode-4-name":"На дне морском","episode-5-name":"Зверушки","episode-6-name":"Виды спорта","episode-7-name":"В чаще леса","episode-8-name":"Продукты","episode-9-name":"Музыка","episode-10-name":"Женский","episode-11-name":"Отдых","episode-12-name":"Динозавры","episode-13-name":"Стройка","episode-14-name":"Космос","episode-15-name":"Школа","episode-16-name":"На кухне","episode-17-name":"Овощи","episode-18-name":"Детство","episode-19-name":"Женская одежда","episode-20-name":"Рукоделие","episode-21-name":"Мужская одежда","episode-22-name":"Ванная комната","episode-23-name":"Древний Египет","episode-24-name":"Волшебство","episode-25-name":"Искусство","episode-26-name":"Игры","episode-27-name":"Франция","episode-28-name":"Мексика","episode-29-name":"Греция","episode-30-name":"Больница","episode-31-name":"Пикник","episode-32-name":"Головные уборы","episode-33-name":"Кино","episode-34-name":"Театр","episode-35-name":"Алиса","episode-36-name":"Инструменты","episode-37-name":"Праздник","episode-38-name":"Азия","episode-39-name":"Германия","episode-40-name":"Дикий Запад","episode-41-name":"Пираты","episode-42-name":"Детектив","episode-43-name":"Спальня","episode-44-name":"Зоомагазин","episode-45-name":"Природа","episode-46-name":"Украшения","episode-47-name":"Цирк","episode-48-name":"Физика"}')},,,function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="rotate-screen">\n    <div class="clouds">\n        <div class="cloud cloud-1"></div>\n        <div class="cloud cloud-2"></div>\n    </div>\n    <div class="content">\n        <div class="title-block"><span class="title"></span></div>\n        <div class="icon"></div>\n        <div class="empty"></div>\n    </div>\n</div>\n';return __p}},,function(e,t,n){e.exports=n(781)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){!function(e){"use strict";var t,n,i={w3:{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},webkit:{enabled:"webkitFullscreenEnabled",element:"webkitCurrentFullScreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},moz:{enabled:"mozFullScreenEnabled",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},ms:{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}}},o=i.w3;for(n in i)if(i[n].enabled in e){t=i[n];break}function s(t,n){var i=e.createEvent("Event");i.initEvent(t,!0,!1),n.dispatchEvent(i)}function a(t){return function(n,i){t!==o.exit||e[o.element]?(e.addEventListener(o.events.change,function t(){n(),e.removeEventListener(o.events.change,t,!1)},!1),e.addEventListener(o.events.error,function t(){i(new TypeError),e.removeEventListener(o.events.error,t,!1)},!1)):setTimeout(function(){i(new TypeError)},1)}}o.enabled in e||!t||(e.addEventListener(t.events.change,function(n){n.stopPropagation(),n.stopImmediatePropagation(),e[o.enabled]=e[t.enabled],e[o.element]=e[t.element],s(o.events.change,n.target)},!1),e.addEventListener(t.events.error,function(e){s(o.events.error,e.target)},!1),e[o.enabled]=e[t.enabled],e[o.element]=e[t.element],e[o.exit]=function(){var n=e[t.exit]();return!n&&Promise?new Promise(a(o.exit)):n},Element.prototype[o.request]=function(){var e=this[t.request].apply(this,arguments);return!e&&Promise?new Promise(a(o.request)):e})}(document)},function(e,t,n){var i={"./riffic-bold.ttf":196};function o(e){var t=s(e);return n(t)}function s(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}o.keys=function(){return Object.keys(i)},o.resolve=s,e.exports=o,o.id=454},,,,,,,,,,,function(e,t,n){var i={"./avatars/no-avatar-female.png":466,"./avatars/no-avatar-male.png":467,"./avatars/no-avatar.png":468,"./cursor.cur":199,"./cursor.png":200,"./en_US-not-enough-energy/not-enough-energy.png":469,"./en_US-out-of-time/out-of-time.png":470,"./episodes/1/episode-1-coin-1.png":471,"./episodes/1/episode-1-coin-2.png":472,"./episodes/1/episode-1-coin-3.png":473,"./episodes/1/episode-1-coin-4.png":474,"./episodes/1/episode-1-game.jpg":475,"./episodes/1/episode-1-tile-1.png":476,"./episodes/1/episode-1-tile-10.png":477,"./episodes/1/episode-1-tile-11.png":478,"./episodes/1/episode-1-tile-12.png":479,"./episodes/1/episode-1-tile-13.png":480,"./episodes/1/episode-1-tile-14.png":481,"./episodes/1/episode-1-tile-15.png":482,"./episodes/1/episode-1-tile-16.png":483,"./episodes/1/episode-1-tile-17.png":484,"./episodes/1/episode-1-tile-18.png":485,"./episodes/1/episode-1-tile-19.png":486,"./episodes/1/episode-1-tile-2.png":487,"./episodes/1/episode-1-tile-20.png":488,"./episodes/1/episode-1-tile-3.png":489,"./episodes/1/episode-1-tile-4.png":490,"./episodes/1/episode-1-tile-5.png":491,"./episodes/1/episode-1-tile-6.png":492,"./episodes/1/episode-1-tile-7.png":493,"./episodes/1/episode-1-tile-8.png":494,"./episodes/1/episode-1-tile-9.png":495,"./fullscreen/fullscreen-border-left-web-1300.png":201,"./fullscreen/fullscreen-border-left-web-630.png":202,"./fullscreen/fullscreen-border-left.png":496,"./fullscreen/fullscreen-border-right-web-1300.png":203,"./fullscreen/fullscreen-border-right-web-630.png":204,"./fullscreen/fullscreen-border-right.png":497,"./fullscreen/fullscreen-left-web-1300.jpg":205,"./fullscreen/fullscreen-left-web-630.jpg":206,"./fullscreen/fullscreen-left.jpg":498,"./fullscreen/fullscreen-right-web-1300.jpg":207,"./fullscreen/fullscreen-right-web-630.jpg":208,"./fullscreen/fullscreen-right.jpg":499,"./game-scene/challenge-timer.png":500,"./game-scene/game-header-point-x-1.png":501,"./game-scene/game-header-point-x-2.png":502,"./game-scene/game-header-point-x-3.png":503,"./game-scene/game-header-point-x-4.png":504,"./game-scene/game-header-point-x-5.png":505,"./game-scene/game-header-point-x-6.png":506,"./game-scene/game-header-point-x-7.png":507,"./game-scene/game-header-point-x-8.png":508,"./game-scene/game-scene-auth-button-pressed.png":509,"./game-scene/game-scene-auth-button.png":510,"./game-scene/game-scene-back-button-pressed.png":511,"./game-scene/game-scene-back-button.png":512,"./game-scene/game-scene-bad-connect-bg.png":513,"./game-scene/game-scene-best-result.png":514,"./game-scene/game-scene-booster-ads-icon.png":515,"./game-scene/game-scene-combo-progress.png":516,"./game-scene/game-scene-combo.png":517,"./game-scene/game-scene-extra-time.png":518,"./game-scene/game-scene-footer.png":519,"./game-scene/game-scene-green-booster-button-pressed.png":520,"./game-scene/game-scene-green-booster-button.png":521,"./game-scene/game-scene-header-coins-button-pressed.png":522,"./game-scene/game-scene-header-coins-button.png":523,"./game-scene/game-scene-header-coins-icon.png":524,"./game-scene/game-scene-header-coins-plus.png":525,"./game-scene/game-scene-header-energy.png":526,"./game-scene/game-scene-header-label-wrap.png":527,"./game-scene/game-scene-header-star.png":528,"./game-scene/game-scene-header-timer-icon.png":529,"./game-scene/game-scene-header.png":530,"./game-scene/game-scene-memory-button-pressed.png":531,"./game-scene/game-scene-memory-button.png":532,"./game-scene/game-scene-pause-icon.png":533,"./game-scene/game-scene-play-button-pressed.png":534,"./game-scene/game-scene-play-button-small-pressed.png":535,"./game-scene/game-scene-play-button-small.png":536,"./game-scene/game-scene-play-button.png":537,"./game-scene/game-scene-points-100.png":538,"./game-scene/game-scene-points-200.png":539,"./game-scene/game-scene-points-300.png":540,"./game-scene/game-scene-points-400.png":541,"./game-scene/game-scene-points-500.png":542,"./game-scene/game-scene-points-600.png":543,"./game-scene/game-scene-points-700.png":544,"./game-scene/game-scene-points-800.png":545,"./game-scene/game-scene-setup-button-pressed.png":546,"./game-scene/game-scene-setup-button.png":547,"./game-scene/game-scene-setup-icon.png":548,"./game-scene/game-scene-timer-bg.png":549,"./game-scene/game-scene-timer-light.png":550,"./game-scene/game-scene-timer-value.png":551,"./game-scene/game-scene-total-points.png":552,"./game-scene/game-scene-wrong-connect.png":553,"./game-scene/game-scene-x-glow.png":554,"./game-scene/game-scene-x-wrapper.png":555,"./game-scene/pointer-target.png":556,"./game-scene/points-1-100.png":557,"./game-scene/points-1-200.png":558,"./game-scene/points-1-300.png":559,"./game-scene/points-1-400.png":560,"./game-scene/points-1-500.png":561,"./game-scene/points-1-600.png":562,"./game-scene/points-1-700.png":563,"./game-scene/points-1-800.png":564,"./game-scene/points-2-100.png":565,"./game-scene/points-2-200.png":566,"./game-scene/points-2-300.png":567,"./game-scene/points-2-400.png":568,"./game-scene/points-2-500.png":569,"./game-scene/points-2-600.png":570,"./game-scene/points-2-700.png":571,"./game-scene/points-2-800.png":572,"./game-scene/points-3-100.png":573,"./game-scene/points-3-200.png":574,"./game-scene/points-3-300.png":575,"./game-scene/points-3-400.png":576,"./game-scene/points-3-500.png":577,"./game-scene/points-3-600.png":578,"./game-scene/points-3-700.png":579,"./game-scene/points-3-800.png":580,"./game-scene/points-4-100.png":581,"./game-scene/points-4-200.png":582,"./game-scene/points-4-300.png":583,"./game-scene/points-4-400.png":584,"./game-scene/points-4-500.png":585,"./game-scene/points-4-600.png":586,"./game-scene/points-4-700.png":587,"./game-scene/points-4-800.png":588,"./game-scene/points-5-100.png":589,"./game-scene/points-5-200.png":590,"./game-scene/points-5-300.png":591,"./game-scene/points-5-400.png":592,"./game-scene/points-5-500.png":593,"./game-scene/points-5-600.png":594,"./game-scene/points-5-700.png":595,"./game-scene/points-5-800.png":596,"./game-scene/tile-bg-7-tutorial.png":597,"./game-scene/tile-bg-selected.png":598,"./game-scene/tile-bg-tip.png":599,"./game-scene/tile-bg-tutorial.png":600,"./game-scene/tile-bg.png":601,"./game-scene/tutorial-pointer.png":602,"./game-scene/wave.png":603,"./green button normal.svg":604,"./green button press.svg":605,"./pointer.cur":209,"./pointer.png":210,"./popups/error-green-button-pressed.png":606,"./popups/error-green-button.png":607,"./popups/error-orange-button-pressed.png":608,"./popups/error-orange-button.png":609,"./popups/game-scene-coins.png":610,"./popups/not-enough-energy-icon.png":611,"./popups/not-enough-energy-timer.png":612,"./popups/payment-notify-bg.png":613,"./popups/payment-notify-icon.png":614,"./popups/popup-ad-icon.png":615,"./popups/popup-bg-453x304.png":616,"./popups/popup-bg-453x485.png":617,"./popups/popup-bg-464x406.png":618,"./popups/popup-bg.png":619,"./popups/popup-blue-button-164x75-pressed.png":620,"./popups/popup-blue-button-164x75.png":621,"./popups/popup-blue-button-224x91-pressed.png":622,"./popups/popup-blue-button-224x91.png":623,"./popups/popup-blue-button-96x98-pressed.png":624,"./popups/popup-blue-button-96x98.png":625,"./popups/popup-check-box.png":626,"./popups/popup-check-mark.png":627,"./popups/popup-close-button-pressed.png":628,"./popups/popup-close-button.png":629,"./popups/popup-close-icon.png":630,"./popups/popup-coin-26x29.png":631,"./popups/popup-coin-icon.png":632,"./popups/popup-current-points.png":633,"./popups/popup-green-button-104x79-pressed.png":634,"./popups/popup-green-button-104x79.png":635,"./popups/popup-green-button-134x76-pressed.png":636,"./popups/popup-green-button-134x76.png":637,"./popups/popup-green-button-159x90-pressed.png":638,"./popups/popup-green-button-159x90.png":639,"./popups/popup-green-button-300-101-pressed.png":640,"./popups/popup-green-button-300-101.png":641,"./popups/popup-header-355x80.png":642,"./popups/popup-header-464x102.png":643,"./popups/popup-header-red.png":644,"./popups/popup-header-shop-left.png":645,"./popups/popup-header-shop-right.png":646,"./popups/popup-home-icon.png":647,"./popups/popup-music-off-icon.png":648,"./popups/popup-music-on-icon.png":649,"./popups/popup-out-of-time-blue-shine.png":650,"./popups/popup-out-of-time-pink-shine.png":651,"./popups/popup-restart-icon.png":652,"./popups/popup-scroll-slider.png":653,"./popups/popup-scroll-view-bottom.png":654,"./popups/popup-scroll-view-top.png":655,"./popups/popup-scroll.png":656,"./popups/popup-shadow.png":657,"./popups/popup-shop-row-bg.png":658,"./popups/popup-sound-off-icon.png":659,"./popups/popup-sound-on-icon.png":660,"./popups/popup-total-coins-bg.png":661,"./popups/popup-total-coins-icon.png":662,"./popups/popup-total-points-bg.png":663,"./popups/popup-total-points-icon.png":664,"./popups/popup-wrapper.png":665,"./popups/shop-blue-label.png":666,"./popups/shop-booster-shuffle.png":667,"./popups/shop-booster-tip.png":668,"./popups/shop-booster-wrap.png":669,"./popups/shop-boosters-bg.png":670,"./popups/support-orange-button-pressed.png":671,"./popups/support-orange-button.png":672,"./preloader/preloader-progress-bg.png":673,"./preloader/preloader-progress.png":674,"./preloader/preloader-title.png":675,"./preloader/preloader.jpg":211,"./red button normal.svg":676,"./red button press.svg":677,"./rotate-screen/rotate-screen-icon.png":212,"./ru_RU-not-enough-energy/not-enough-energy.png":678,"./ru_RU-out-of-time/out-of-time.png":679,"./yellow button normal.svg":680,"./yellow button press.svg":681};function o(e){var t=s(e);return n(t)}function s(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}o.keys=function(){return Object.keys(i)},o.resolve=s,e.exports=o,o.id=465},function(e,t,n){e.exports=n.p+"assets/images/mobile/avatars/no-avatar-female.webp?webp_2b0a7d0194bf5bc636d6046e72c1d7ff"},function(e,t,n){e.exports=n.p+"assets/images/mobile/avatars/no-avatar-male.webp?webp_921306e437785db766ec72d67f663f47"},function(e,t,n){e.exports=n.p+"assets/images/mobile/avatars/no-avatar.webp?webp_37d593f533a2f2fd863d56c9124dcb7e"},function(e,t,n){e.exports=n.p+"assets/images/mobile/en_US-not-enough-energy/not-enough-energy.webp?webp_a87b0356e01e40c1c59ed3352ba89af7"},function(e,t,n){e.exports=n.p+"assets/images/mobile/en_US-out-of-time/out-of-time.webp?webp_a627d58075b09ee8d751b3b415c83b14"},function(e,t,n){e.exports=n.p+"assets/images/mobile/episodes/1/episode-1-coin-1.webp?webp_caf4ff709931b92714aab187004d12b0"},function(e,t,n){e.exports=n.p+"assets/images/mobile/episodes/1/episode-1-coin-2.webp?webp_0b9a97f1bafa2ddeb891e897e8bed3fb"},function(e,t,n){e.exports=n.p+"assets/images/mobile/episodes/1/episode-1-coin-3.webp?webp_9b2f1e9090283a75311d7c85d39bdbf7"},function(e,t,n){e.exports=n.p+"assets/images/mobile/episodes/1/episode-1-coin-4.webp?webp_879b981c248a6e65a0a25301ed8f592a"},function(e,t,n){e.exports=n.p+"assets/images/mobile/episodes/1/episode-1-game.webp?webp_93cd636414724eaa07a462021a21e5c7"},function(e,t,n){e.exports=n.p+"assets/images/mobile/episodes/1/episode-1-tile-1.webp?webp_d4d76aba45196a7db2a777b94f91b422"},function(e,t,n){e.exports=n.p+"assets/images/mobile/episodes/1/episode-1-tile-10.webp?webp_4f948bc60f366b61a1da08f33059a000"},function(e,t,n){e.exports=n.p+"assets/images/mobile/episodes/1/episode-1-tile-11.webp?webp_79b4a51e23f539042492867df4c6a4ed"},function(e,t,n){e.exports=n.p+"assets/images/mobile/episodes/1/episode-1-tile-12.webp?webp_a07e91940ae6ef2558e63d77dc69cf53"},function(e,t,n){e.exports=n.p+"assets/images/mobile/episodes/1/episode-1-tile-13.webp?webp_4f538f4121b69bb23e001ad906798a81"},function(e,t,n){e.exports=n.p+"assets/images/mobile/episodes/1/episode-1-tile-14.webp?webp_0feb53f29b4e952079ebfa297a8ea00d"},function(e,t,n){e.exports=n.p+"assets/images/mobile/episodes/1/episode-1-tile-15.webp?webp_618b3745fad00c791f9244a392014c5a"},function(e,t,n){e.exports=n.p+"assets/images/mobile/episodes/1/episode-1-tile-16.webp?webp_133bf68b618fc256ddffd8e35c30464a"},function(e,t,n){e.exports=n.p+"assets/images/mobile/episodes/1/episode-1-tile-17.webp?webp_cefb4dbe0f343fbbccd473370b698335"},function(e,t,n){e.exports=n.p+"assets/images/mobile/episodes/1/episode-1-tile-18.webp?webp_6d026b491d291538f89eb670d0e3e08a"},function(e,t,n){e.exports=n.p+"assets/images/mobile/episodes/1/episode-1-tile-19.webp?webp_ec50574ccdf32a84b37548c4c7ac8150"},function(e,t,n){e.exports=n.p+"assets/images/mobile/episodes/1/episode-1-tile-2.webp?webp_33b9d6fe439d073fdb7eaa064122dad1"},function(e,t,n){e.exports=n.p+"assets/images/mobile/episodes/1/episode-1-tile-20.webp?webp_28d6817457f44b913bb1ab914efa87f1"},function(e,t,n){e.exports=n.p+"assets/images/mobile/episodes/1/episode-1-tile-3.webp?webp_a0908bd02f4c28db5838dd83a5eed78c"},function(e,t,n){e.exports=n.p+"assets/images/mobile/episodes/1/episode-1-tile-4.webp?webp_66db5ffbade53656fe07c537c812654d"},function(e,t,n){e.exports=n.p+"assets/images/mobile/episodes/1/episode-1-tile-5.webp?webp_cb7a42f07e063f3582c314f6e53cc8d4"},function(e,t,n){e.exports=n.p+"assets/images/mobile/episodes/1/episode-1-tile-6.webp?webp_973765a4d1e00c9c8796a32bb7a13581"},function(e,t,n){e.exports=n.p+"assets/images/mobile/episodes/1/episode-1-tile-7.webp?webp_e8a558bdb7f04436633e3b9e80496571"},function(e,t,n){e.exports=n.p+"assets/images/mobile/episodes/1/episode-1-tile-8.webp?webp_e82ce9b6dafe43062e20b8cc8c353993"},function(e,t,n){e.exports=n.p+"assets/images/mobile/episodes/1/episode-1-tile-9.webp?webp_f89b7d28ddf174f1dff723e6d5929581"},function(e,t,n){e.exports=n.p+"assets/images/mobile/fullscreen/fullscreen-border-left.png?1c450bc5a546c07511eab09fd92cfce8"},function(e,t,n){e.exports=n.p+"assets/images/mobile/fullscreen/fullscreen-border-right.png?7eb2c9ade58bb0967461286373dc2c39"},function(e,t,n){e.exports=n.p+"assets/images/mobile/fullscreen/fullscreen-left.jpg?96f84d559d856c919d354bc939d54a24"},function(e,t,n){e.exports=n.p+"assets/images/mobile/fullscreen/fullscreen-right.jpg?15f31752492a70476b645430cb7c5e5b"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/challenge-timer.webp?webp_3843fb5013ca39d986e8e8cb9fb02869"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-header-point-x-1.webp?webp_04b25f0c292deb2e9e947aa798987a98"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-header-point-x-2.webp?webp_bc6e3cc497f698fa7eb76adc180adbad"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-header-point-x-3.webp?webp_26e5eaa699f2e1612d929484c5a89281"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-header-point-x-4.webp?webp_2d8b5268c805c6cc50e2a75e7d2e0747"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-header-point-x-5.webp?webp_cad415aea41d321099f65228a7e587e9"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-header-point-x-6.webp?webp_5f3df0a586395398b413d84deec95d43"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-header-point-x-7.webp?webp_26b1cf548376b158669b485eba243099"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-header-point-x-8.webp?webp_bbcc5788b310d8a3cc50b71e3245e39e"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-auth-button-pressed.webp?webp_5a030adda0f8d03748a071d7914cfe5d"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-auth-button.webp?webp_19c9308c1a5703e65bfae0134be83342"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-back-button-pressed.webp?webp_952272e03ca8b6f3f069d676371acc28"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-back-button.webp?webp_9582e3bb1a05ee771c89a793c3636c1d"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-bad-connect-bg.webp?webp_6e613930d605bb1ca533261775136684"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-best-result.webp?webp_d256cf1f761abb842cfb326fd52a8331"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-booster-ads-icon.webp?webp_e3631f678376268b866a9b7bf69c9c9a"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-combo-progress.webp?webp_0db56e3e16ae5484d68ad7a1aa23a333"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-combo.webp?webp_2469c80c6c18b0e34f63877bb06b1300"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-extra-time.webp?webp_9013e3c57bcc18a778c74310a7b6cc0a"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-footer.webp?webp_b73ae99eb9223329684152dc2d9b62b6"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-green-booster-button-pressed.webp?webp_2102f111a98f4b9a4efd0d27b9b0ef93"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-green-booster-button.webp?webp_101c4e9f325ad3027d41bcb19eb0ab00"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-header-coins-button-pressed.webp?webp_1de6f77fbc23be52c5f1fbd597f1204c"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-header-coins-button.webp?webp_87685c8a3f618aa911e0681e5b55771d"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-header-coins-icon.webp?webp_9be4f835b31a8526f633acb943f02d1b"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-header-coins-plus.webp?webp_91c0271544dde49c02eef49b1faa07b5"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-header-energy.webp?webp_b9b343ee0e88943490b808de757d019e"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-header-label-wrap.webp?webp_1ac9788515ae77e529907f9b4dc7c445"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-header-star.webp?webp_490116bd546460bc5bb083608ba22491"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-header-timer-icon.webp?webp_d5142f40766a7b4cf6ee1d052979426d"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-header.webp?webp_5d7249fd89329233812238f7ae79577e"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-memory-button-pressed.webp?webp_6c506cb3b541ed79c9aa04f0053cd5bf"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-memory-button.webp?webp_67ade31532b558bda8813a34c102918a"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-pause-icon.webp?webp_0e231401022d816e7098a6334620a90a"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-play-button-pressed.webp?webp_e0c8236c72be8419f1a103eb9770161f"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-play-button-small-pressed.webp?webp_48dbed19727867b7fa835747978ab67c"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-play-button-small.webp?webp_11a8c7d68d046db97d451311cd0301bf"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-play-button.webp?webp_c873cdad4f44d683ba48aac45dc03860"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-points-100.webp?webp_592c7af8499123788a384d798857d1b1"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-points-200.webp?webp_3521a352e38e7def930216d16688b79e"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-points-300.webp?webp_17241b0e73f5036c61e4be10eb8a7f4b"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-points-400.webp?webp_705f3b2a8084258fb58e88b723021114"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-points-500.webp?webp_139a84a134812cf39d098306d230eb6e"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-points-600.webp?webp_cd9041ac46c01a4b56fe8304411382d4"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-points-700.webp?webp_594796ed2da65500be2fb7b13ea8d212"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-points-800.webp?webp_f5b0f7339ccd4d344a1dfeebc591dec5"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-setup-button-pressed.webp?webp_fe92a514ff59620f0689151ae5c157cc"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-setup-button.webp?webp_8bb9bffbd8bf858e2fb1633af9260a92"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-setup-icon.webp?webp_eac29cc6edb16d2e23486adfa57989af"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-timer-bg.webp?webp_5e87f649e92a0faf73d2d5de627391b1"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-timer-light.webp?webp_a31ff1e87e269a3addee0d7a27a9460a"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-timer-value.webp?webp_809eb9dcfc39b877f6d6ad2bb73753b6"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-total-points.webp?webp_046098074efb957ed843a40a2e682921"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-wrong-connect.webp?webp_c16aceaae748aeb039111c80faadf1a8"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-x-glow.webp?webp_c7be74da435eccea27ec5d76df4df49b"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/game-scene-x-wrapper.webp?webp_d4364847241a8dea53b38058f9a262c0"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/pointer-target.webp?webp_89f5815eabb555294e0cec5e2fef3b05"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-1-100.webp?webp_581133dcceb12957567928771d332c8d"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-1-200.webp?webp_d3b34a70c8147577d5633ae9ce3234df"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-1-300.webp?webp_ad56261abaeac0b7bb1942fa0686c022"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-1-400.webp?webp_aeb11d34f6f9e72a7d18929700bb549a"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-1-500.webp?webp_547105cd1467670c534c54abadca27c4"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-1-600.webp?webp_e5657f0e84ebcbecfbb08a7323903d82"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-1-700.webp?webp_3fd1cc20097b0968eaf5da9ad32be7f2"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-1-800.webp?webp_f51e5391d480adc09e0df9e77245cc1d"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-2-100.webp?webp_1a5aa9d6bc22bd9b730c0046e62112c3"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-2-200.webp?webp_5724d3789b4496eb4d2361bd0e2cb55b"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-2-300.webp?webp_a583d570389436f84c69ffc4cb7a6290"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-2-400.webp?webp_3a7653bc02a11c71892a6f2d48472bc5"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-2-500.webp?webp_8824a50245ae9488a6c568412af1e9a8"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-2-600.webp?webp_b37426cf9bf94d116440a7fe317862b9"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-2-700.webp?webp_613d30b92b4cd39b673249890bdeff05"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-2-800.webp?webp_8accec664556a9295bc2a8b05ee6d98d"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-3-100.webp?webp_7ad1ee08ef867cd0334793566a8757df"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-3-200.webp?webp_c9853615161502eb8ab7ef738bcf5bab"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-3-300.webp?webp_6842bce104f3105510ce38c654b59b84"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-3-400.webp?webp_d8ac31fbccc62ad7bf0fc7f63971e154"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-3-500.webp?webp_22a5ad310a48d63dc5575d9a675c4c3e"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-3-600.webp?webp_78a3a20e09b6ad369d0b93981a88f0b5"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-3-700.webp?webp_4347880727c47d9ed766a5feab142291"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-3-800.webp?webp_2048031425761b3d3bb181b2bd347939"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-4-100.webp?webp_05a48098660e6f41409ab6cd05284346"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-4-200.webp?webp_80e77cf9b4021008ba1925a9c06e4595"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-4-300.webp?webp_249513b82c948914cbcdacb7b211219f"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-4-400.webp?webp_14c818c99c19f239468bb30f5050d504"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-4-500.webp?webp_67d558646fce898a076a27478d68639e"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-4-600.webp?webp_95c020a0f9c135e197707108959ed154"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-4-700.webp?webp_fda0411be2e7846eefee337db76cadeb"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-4-800.webp?webp_b97fcb0eb1d94e7469cfa9d2cd6074e4"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-5-100.webp?webp_a4c87549bfb8e4cd8c53f73e9e2398f6"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-5-200.webp?webp_476967023767d6c717a2234b0e3f880a"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-5-300.webp?webp_e676f5a771a9a13a77ef2ff4619991ec"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-5-400.webp?webp_ba749edbf019efcbcdd66bef758aabca"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-5-500.webp?webp_5eb1e5e904ac6546e1ace2fec4149da6"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-5-600.webp?webp_f3b900c445ff3b6476fb9a40cdc46eb2"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-5-700.webp?webp_72b800ad0132d786012b8704e55980d1"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/points-5-800.webp?webp_1c74009b3cc95355a04584fdb361e195"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/tile-bg-7-tutorial.webp?webp_df78561d7eb53bcb21c628a549143589"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/tile-bg-selected.webp?webp_38e27b893e26d137de52b1687ddfb46f"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/tile-bg-tip.webp?webp_21d7c23984ed846898a6015fa570d692"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/tile-bg-tutorial.webp?webp_a4a745470a53eff4f93382e255d14689"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/tile-bg.webp?webp_cdefa42f5a00cca933aae48b2f21db75"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/tutorial-pointer.webp?webp_ec9909743522b266e345c7cfdaca53a8"},function(e,t,n){e.exports=n.p+"assets/images/mobile/game-scene/wave.webp?webp_0ec4aee511543f730b2bcb0947a707f0"},function(e,t,n){e.exports=n.p+"assets/images/mobile/green button normal.svg?1b5536a5e03cdc9cbbea3119285f76fc"},function(e,t,n){e.exports=n.p+"assets/images/mobile/green button press.svg?ac64080e87e4324ba8b482ecb27471b8"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/error-green-button-pressed.webp?webp_ad3af4d92ca9b85820f3ceba2aafdf19"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/error-green-button.webp?webp_ce1165e858d0be4f0f99448902c6262a"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/error-orange-button-pressed.webp?webp_30ef8e3ae64255c8dbbc23fd408ac61c"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/error-orange-button.webp?webp_c0a86c019786676f32f780d654d7a1f1"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/game-scene-coins.webp?webp_06cfb93eeeef0077a5d96fa4457a309e"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/not-enough-energy-icon.webp?webp_1ebe9ff9fbbee7239bf2304d8b588aee"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/not-enough-energy-timer.webp?webp_df9337337344f084dec8de39ff6f51a1"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/payment-notify-bg.webp?webp_52bf04851f4b6a9284b6dd1418a18a87"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/payment-notify-icon.webp?webp_06529340dd995d07ee2c28366c5ea782"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-ad-icon.webp?webp_7b22db3aabaa504d499d614b6fc57833"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-bg-453x304.webp?webp_543cf65ec74ab597fee2c7f94cdfd519"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-bg-453x485.webp?webp_ecf4ff6e322acd8d7fab1efa83918a38"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-bg-464x406.webp?webp_8c7a1124392f5c497da245d57799f7e0"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-bg.webp?webp_41eacd68ea55dfbdab3c1b639ef00af8"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-blue-button-164x75-pressed.webp?webp_b85f99b260af5f70225cda279c34145e"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-blue-button-164x75.webp?webp_eafcda414eb749ad582aa58e4a13171a"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-blue-button-224x91-pressed.webp?webp_718986745de7f60dbc2bc2902314f5fb"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-blue-button-224x91.webp?webp_5b9bba0ef1d82e2143222b6007d32770"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-blue-button-96x98-pressed.webp?webp_4a81e5e33f2e586a7a268b051b543e02"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-blue-button-96x98.webp?webp_a464c4b099e446057a24f8a239d89a13"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-check-box.webp?webp_1967f9e6c34b426029c3c5e3fb441ec3"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-check-mark.webp?webp_3de6d6919d85b2f2d436e7b08d427e65"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-close-button-pressed.webp?webp_6fe466c23b4c203ed6cedd7138de619e"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-close-button.webp?webp_bd437f7a9a30810fc805c283ad122546"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-close-icon.webp?webp_57db8c9ab67606c8edfc967a9eabb6cd"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-coin-26x29.webp?webp_21a02dff7f51da67a5e068c2f8cc7c69"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-coin-icon.webp?webp_d0e6177fc73e2944173773ea6b3a45b6"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-current-points.webp?webp_baf798f7e3c2f240c5b94be15b462866"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-green-button-104x79-pressed.webp?webp_e987dfdf02de2b69f1eb65a05caffd54"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-green-button-104x79.webp?webp_0d159796c2395dcafa16918812bcd3bc"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-green-button-134x76-pressed.webp?webp_a2fc1e77fe1a664c9d2fbf07c16e42ac"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-green-button-134x76.webp?webp_0d23936d44f3d21222883bcf04abc4cd"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-green-button-159x90-pressed.webp?webp_282213530ec7cc4b06e15dc8884dab6f"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-green-button-159x90.webp?webp_3e55d6715c3ba34bbb711795f19da9da"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-green-button-300-101-pressed.webp?webp_37c6df4df3af97eeba8625b3f76ed0ac"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-green-button-300-101.webp?webp_d8b2e16afdaff02f7d099222c6c3c281"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-header-355x80.webp?webp_13d27bc6c5acdce4d908bfd2a053965b"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-header-464x102.webp?webp_a1436006ec99bf4a698c5451d03d404a"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-header-red.webp?webp_01add698254e29771ac4e52e56a09800"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-header-shop-left.webp?webp_c0335351abc2464a303e4e969db17ac8"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-header-shop-right.webp?webp_eaceba17125aa7e5bb1b5148c869c576"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-home-icon.webp?webp_77ec7681f5f7eade374f2cab4400b393"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-music-off-icon.webp?webp_e09053b9e98c2f90a590718b508adfb6"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-music-on-icon.webp?webp_9c81b2404dc5355917a0817502a3ee1c"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-out-of-time-blue-shine.webp?webp_52bb84841cdbb2695456d9a6b8b11ede"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-out-of-time-pink-shine.webp?webp_d176d23cf07a4f7d0a757a4cf21dea90"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-restart-icon.webp?webp_912c635dfd23895e34fe4d594d65b840"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-scroll-slider.webp?webp_088ef1c7533c0d4822612a0548286f71"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-scroll-view-bottom.webp?webp_3200bbf8898fbf5db42629b38b0545cf"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-scroll-view-top.webp?webp_d2f3bce97d252083732f04963aa86055"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-scroll.webp?webp_a0b0ad5a950e0fdbc742dcf8fb689c9c"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-shadow.webp?webp_f131cc0e3d850a8eff643c46f36aa48f"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-shop-row-bg.webp?webp_8977c82c7c5d030fd26e45f0d68bf8a4"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-sound-off-icon.webp?webp_cdba273857c82692eb6677ba4692a31f"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-sound-on-icon.webp?webp_cc0688c1dbc79f043f5cf0b5dc46b4df"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-total-coins-bg.webp?webp_1c0db0324e7ad49b06b82ff0ec5124f9"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-total-coins-icon.webp?webp_0c3d3a34b7d46fc599c001b64d4b59b6"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-total-points-bg.webp?webp_8639a58c4ee50918b3618630a088bf52"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-total-points-icon.webp?webp_569c111d0ae1b3801222d3e5b40bff8b"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/popup-wrapper.webp?webp_fefd467b88e7ac4c9978fd444074563c"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/shop-blue-label.webp?webp_ec3a13fb68863eb6737de42b922f71cc"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/shop-booster-shuffle.webp?webp_5127136c9cf36fc0a23434e9a9fe13e8"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/shop-booster-tip.webp?webp_15d9f63895f6095b82d85c3cc7afaae7"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/shop-booster-wrap.webp?webp_f07bcc5866a4ac225e2e42b2fba40e5d"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/shop-boosters-bg.webp?webp_03381e1c7beee8be21e2ab2c3adc929a"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/support-orange-button-pressed.webp?webp_28824d10ca282e98f9a3c59508f16ee3"},function(e,t,n){e.exports=n.p+"assets/images/mobile/popups/support-orange-button.webp?webp_e98c97b0e956a5053b4813c132151e33"},function(e,t,n){e.exports=n.p+"assets/images/mobile/preloader/preloader-progress-bg.webp?webp_59e477b3331af4d7b56ebb39ed299410"},function(e,t,n){e.exports=n.p+"assets/images/mobile/preloader/preloader-progress.webp?webp_5b60705e17b4776b37c254aa810aba36"},function(e,t,n){e.exports=n.p+"assets/images/mobile/preloader/preloader-title.webp?webp_c6d2d801f723ef49faa56ba022be64fe"},function(e,t,n){e.exports=n.p+"assets/images/mobile/red button normal.svg?8d1f91fd350f870ebb51b0f8bbd8e8f8"},function(e,t,n){e.exports=n.p+"assets/images/mobile/red button press.svg?4f45ed1d3b488f88bd75ff6679f3e14a"},function(e,t,n){e.exports=n.p+"assets/images/mobile/ru_RU-not-enough-energy/not-enough-energy.webp?webp_f39fa1972321631eebf0d41326a20584"},function(e,t,n){e.exports=n.p+"assets/images/mobile/ru_RU-out-of-time/out-of-time.webp?webp_67ff7dc8f1718bd332f9451696e669a7"},function(e,t,n){e.exports=n.p+"assets/images/mobile/yellow button normal.svg?d19bf1b011170c4a69c75edbb145de03"},function(e,t,n){e.exports=n.p+"assets/images/mobile/yellow button press.svg?13d98443f2d160c3762e6b110a78d8bb"},function(e,t,n){var i={"./en_US-not-enough-energy-sprite.json":683,"./en_US-not-enough-energy-sprite.png":684,"./en_US-out-of-time-sprite.json":685,"./en_US-out-of-time-sprite.png":686,"./episode-1-sprite.json":687,"./episode-1-sprite.png":688,"./game-scene-sprite.json":689,"./game-scene-sprite.png":690,"./popups-sprite.json":691,"./popups-sprite.png":692,"./preloader-sprite.json":693,"./preloader-sprite.png":694,"./ru_RU-not-enough-energy-sprite.json":695,"./ru_RU-not-enough-energy-sprite.png":696,"./ru_RU-out-of-time-sprite.json":697,"./ru_RU-out-of-time-sprite.png":698};function o(e){var t=s(e);return n(t)}function s(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}o.keys=function(){return Object.keys(i)},o.resolve=s,e.exports=o,o.id=682},function(e,t,n){e.exports=n.p+"assets/images/sprites/mobile/en_US-not-enough-energy-sprite.json?webp_ecd4faa0607215c8f4df6e6c11266080"},function(e,t,n){e.exports=n.p+"assets/images/sprites/mobile/en_US-not-enough-energy-sprite.webp?webp_af85b13793ea4ddc3136e931c13e972e"},function(e,t,n){e.exports=n.p+"assets/images/sprites/mobile/en_US-out-of-time-sprite.json?webp_ad0857211f9e32a75cb4fe620b71f840"},function(e,t,n){e.exports=n.p+"assets/images/sprites/mobile/en_US-out-of-time-sprite.webp?webp_19f1f7604d4b2e67251225658a0cbeb7"},function(e,t,n){e.exports=n.p+"assets/images/sprites/mobile/episode-1-sprite.json?webp_effc658144b228715700740cf356cf26"},function(e,t,n){e.exports=n.p+"assets/images/sprites/mobile/episode-1-sprite.webp?webp_a2f430691434005963493760fb8f8b58"},function(e,t,n){e.exports=n.p+"assets/images/sprites/mobile/game-scene-sprite.json?webp_b8246c128a39af5ddbea0aaa9ab038ee"},function(e,t,n){e.exports=n.p+"assets/images/sprites/mobile/game-scene-sprite.webp?webp_71e3a8e9ff2640120f6060a602d55a2d"},function(e,t,n){e.exports=n.p+"assets/images/sprites/mobile/popups-sprite.json?webp_b68992322a48837de11e09c2ecbdf695"},function(e,t,n){e.exports=n.p+"assets/images/sprites/mobile/popups-sprite.webp?webp_219b7d9181ffc395728803843b1d1bba"},function(e,t,n){e.exports=n.p+"assets/images/sprites/mobile/preloader-sprite.json?webp_6484fbbb4251f859668be6298f82c577"},function(e,t,n){e.exports=n.p+"assets/images/sprites/mobile/preloader-sprite.webp?webp_b0bf6a1c0692b4c2d75ecb6a986e5de9"},function(e,t,n){e.exports=n.p+"assets/images/sprites/mobile/ru_RU-not-enough-energy-sprite.json?webp_469ff58b204af2910457f2e53f72b95b"},function(e,t,n){e.exports=n.p+"assets/images/sprites/mobile/ru_RU-not-enough-energy-sprite.webp?webp_f7d3ba927cce7f87a94a4337048d6ce7"},function(e,t,n){e.exports=n.p+"assets/images/sprites/mobile/ru_RU-out-of-time-sprite.json?webp_9d7913a51c7a692f4aa021d92e0ec933"},function(e,t,n){e.exports=n.p+"assets/images/sprites/mobile/ru_RU-out-of-time-sprite.webp?webp_0a24f11e82465ebe20a9d886c702c77d"},function(e,t,n){var i={"./confetti.atlas":700,"./confetti.atlas.json":701,"./confetti.png":213,"./star-target.atlas":702,"./star-target.atlas.json":703,"./star-target.png":214,"./tile.atlas":704,"./tile.atlas.json":705,"./tile.png":215};function o(e){var t=s(e);return n(t)}function s(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}o.keys=function(){return Object.keys(i)},o.resolve=s,e.exports=o,o.id=699},function(e,t,n){e.exports=n.p+"assets/skeletonAnimations/mob/confetti.atlas?webp_028e96edb4af9722c110d3acbba38859"},function(e,t,n){e.exports=n.p+"assets/skeletonAnimations/mob/confetti.atlas.json?705604b56667e3aa9646c08a7a791fc7"},function(e,t,n){e.exports=n.p+"assets/skeletonAnimations/mob/star-target.atlas?webp_4b88a1e1e9891b9f3ef43884caa7c322"},function(e,t,n){e.exports=n.p+"assets/skeletonAnimations/mob/star-target.atlas.json?5e4d969998055cacfd629ea31067157b"},function(e,t,n){e.exports=n.p+"assets/skeletonAnimations/mob/tile.atlas?webp_3f7eeb950102e6c454725039a4b91b5c"},function(e,t,n){e.exports=n.p+"assets/skeletonAnimations/mob/tile.atlas.json?2e5766414ae1b01715da355c828e5849"},function(e,t,n){var i={"./1/big_button_app.mp3":707,"./1/buy.mp3":708,"./1/chest_light_loop.mp3":709,"./1/chest_open.mp3":710,"./1/chip_click.mp3":711,"./1/chip_error.mp3":712,"./1/chip_match.mp3":713,"./1/click.mp3":714,"./1/clock_progress_down.mp3":715,"./1/clock_progress_up.mp3":716,"./1/confetti.mp3":717,"./1/count_percent.mp3":718,"./1/daily_bonus.mp3":719,"./1/field_app.mp3":720,"./1/field_chip_move_0.mp3":721,"./1/field_chip_move_1.mp3":722,"./1/field_chip_move_2.mp3":723,"./1/field_panel_app.mp3":724,"./1/hammer_appear.mp3":725,"./1/hammer_hit.mp3":726,"./1/hint_magnifier.mp3":727,"./1/hint_shuffle.mp3":728,"./1/jingle_element_choice.mp3":729,"./1/jingle_race_finish.mp3":730,"./1/jingle_race_start.mp3":731,"./1/jingle_star_fly.mp3":732,"./1/jingle_time_off.mp3":733,"./1/jingle_win.mp3":734,"./1/loss_challenge.mp3":735,"./1/music.mp3":736,"./1/race_applause_loop.mp3":737,"./1/race_cars_move.mp3":738,"./1/race_cars_move_shot.mp3":739,"./1/race_cup_app.mp3":740,"./1/race_start_cars_app.mp3":741,"./1/race_win_icone_app.mp3":742,"./1/star_count.mp3":743,"./1/win_super.mp3":744,"./1/window_app.mp3":745,"./1/window_desapp.mp3":746,"./1/window_message_app.mp3":747,"./1/window_shop_app.mp3":748,"./1/window_shop_desapp.mp3":749,"./2/booster_element_match.mp3":750,"./2/chip_error.mp3":751,"./2/element_drop.mp3":752,"./2/element_fall_1.mp3":753,"./2/element_slide.mp3":754,"./2/shuffle_count_v.4.mp3":755,"./2/win_app_coins.mp3":756};function o(e){var t=s(e);return n(t)}function s(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}o.keys=function(){return Object.keys(i)},o.resolve=s,e.exports=o,o.id=706},function(e,t,n){e.exports=n.p+"assets/sounds/1/big_button_app.mp3?5572556d61d067fb38ef9243a5e2e6cf"},function(e,t,n){e.exports=n.p+"assets/sounds/1/buy.mp3?99ba07104d9e6b23f61f111643f40720"},function(e,t,n){e.exports=n.p+"assets/sounds/1/chest_light_loop.mp3?9180fcb1b9fbd30052fde0b5b948ccb1"},function(e,t,n){e.exports=n.p+"assets/sounds/1/chest_open.mp3?368ccd49a5edb37eb968f2273cc87166"},function(e,t,n){e.exports=n.p+"assets/sounds/1/chip_click.mp3?3685e8e7eaa09bdee376216d6b5a52c6"},function(e,t,n){e.exports=n.p+"assets/sounds/1/chip_error.mp3?de29e8c880e485fe5f0e6f67481eeab8"},function(e,t,n){e.exports=n.p+"assets/sounds/1/chip_match.mp3?55c9c0540e154c2e1b0166ebda74b9cc"},function(e,t,n){e.exports=n.p+"assets/sounds/1/click.mp3?b8b15827af2edac9f1a35e169aec14f6"},function(e,t,n){e.exports=n.p+"assets/sounds/1/clock_progress_down.mp3?7b17e0dc9ac49a0ceadbc9d093c367f1"},function(e,t,n){e.exports=n.p+"assets/sounds/1/clock_progress_up.mp3?6318cbbef8abdc2f763409db26d31f97"},function(e,t,n){e.exports=n.p+"assets/sounds/1/confetti.mp3?bcd9b79f77d3ce10609f9b2ef9c4a103"},function(e,t,n){e.exports=n.p+"assets/sounds/1/count_percent.mp3?811a568484f76f81462ec7eff4344c56"},function(e,t,n){e.exports=n.p+"assets/sounds/1/daily_bonus.mp3?fb6d28c40fdc218ee0cb23e0a4ad7429"},function(e,t,n){e.exports=n.p+"assets/sounds/1/field_app.mp3?c89a63faebd781ab22f968b53f2ab0eb"},function(e,t,n){e.exports=n.p+"assets/sounds/1/field_chip_move_0.mp3?d706c1193f61aae2ec468b7a4aeea6ee"},function(e,t,n){e.exports=n.p+"assets/sounds/1/field_chip_move_1.mp3?26ff02597aac84c68886050d479fbf9d"},function(e,t,n){e.exports=n.p+"assets/sounds/1/field_chip_move_2.mp3?efb06c06420fab3558c393cd9d285e4c"},function(e,t,n){e.exports=n.p+"assets/sounds/1/field_panel_app.mp3?d2c95b4d0f726bdc8a765a3f97da2717"},function(e,t,n){e.exports=n.p+"assets/sounds/1/hammer_appear.mp3?87a526b36367b41d288de8a3e64a10a1"},function(e,t,n){e.exports=n.p+"assets/sounds/1/hammer_hit.mp3?ddd492a957c5d46c650c979a5ea339de"},function(e,t,n){e.exports=n.p+"assets/sounds/1/hint_magnifier.mp3?507f641acfd6db870431043329d1d644"},function(e,t,n){e.exports=n.p+"assets/sounds/1/hint_shuffle.mp3?342c32c4d913e6703652ba97949ecabb"},function(e,t,n){e.exports=n.p+"assets/sounds/1/jingle_element_choice.mp3?943e8dcb2b4eea8d9c279925c4cc84a5"},function(e,t,n){e.exports=n.p+"assets/sounds/1/jingle_race_finish.mp3?e0269338d4bbc39c36c05d5e701eafeb"},function(e,t,n){e.exports=n.p+"assets/sounds/1/jingle_race_start.mp3?99a352de25d8eef90315e7581ead8590"},function(e,t,n){e.exports=n.p+"assets/sounds/1/jingle_star_fly.mp3?82acd35f4c1326f51510d19e02d4eaf0"},function(e,t,n){e.exports=n.p+"assets/sounds/1/jingle_time_off.mp3?31a5d256e8608137b9f16eac7ccbd799"},function(e,t,n){e.exports=n.p+"assets/sounds/1/jingle_win.mp3?c4f46d5da80c3dcf96abe9e01ba7f2f9"},function(e,t,n){e.exports=n.p+"assets/sounds/1/loss_challenge.mp3?b1c7e3804a6a3d3a070de90b02db17c5"},function(e,t,n){e.exports=n.p+"assets/sounds/1/music.mp3?8bc56bfa863a38cc8168ea90199fa025"},function(e,t,n){e.exports=n.p+"assets/sounds/1/race_applause_loop.mp3?f75514a2ba32b0592fe24ed0630133ad"},function(e,t,n){e.exports=n.p+"assets/sounds/1/race_cars_move.mp3?111ca9b3ea2ec4028f046d99fcd959b3"},function(e,t,n){e.exports=n.p+"assets/sounds/1/race_cars_move_shot.mp3?fbe0e7c37f3412d99645bbfc72809899"},function(e,t,n){e.exports=n.p+"assets/sounds/1/race_cup_app.mp3?b37f66eae6fd6eb1910f7b93c5a1da6a"},function(e,t,n){e.exports=n.p+"assets/sounds/1/race_start_cars_app.mp3?8a5fd20a4ca30fa3b1c2ef28686ee75f"},function(e,t,n){e.exports=n.p+"assets/sounds/1/race_win_icone_app.mp3?0327535904ef1a3367177b43970e5463"},function(e,t,n){e.exports=n.p+"assets/sounds/1/star_count.mp3?0a3f9107351e624433848548ca0af2a4"},function(e,t,n){e.exports=n.p+"assets/sounds/1/win_super.mp3?f031d8746b1c3365d6da96735d6a6f2c"},function(e,t,n){e.exports=n.p+"assets/sounds/1/window_app.mp3?d3601f777f71454f81348eed3e1b84ae"},function(e,t,n){e.exports=n.p+"assets/sounds/1/window_desapp.mp3?e1e41f2b8fd81752cd32a4648a410f32"},function(e,t,n){e.exports=n.p+"assets/sounds/1/window_message_app.mp3?6249d7974764af0fbf2c24916a6c6e23"},function(e,t,n){e.exports=n.p+"assets/sounds/1/window_shop_app.mp3?63cef0eeb1f8f835befa51855e6d2ff8"},function(e,t,n){e.exports=n.p+"assets/sounds/1/window_shop_desapp.mp3?ad7b95cf29ce0a4d49cd64c1ffca406f"},function(e,t,n){e.exports=n.p+"assets/sounds/2/booster_element_match.mp3?0db78c37447ecf85c9fd368c18eccee4"},function(e,t,n){e.exports=n.p+"assets/sounds/2/chip_error.mp3?de29e8c880e485fe5f0e6f67481eeab8"},function(e,t,n){e.exports=n.p+"assets/sounds/2/element_drop.mp3?484b7b3584c83106d99dc1c3b3e2077a"},function(e,t,n){e.exports=n.p+"assets/sounds/2/element_fall_1.mp3?d3c55708b86204d28179f87aa5a62049"},function(e,t,n){e.exports=n.p+"assets/sounds/2/element_slide.mp3?7c6d2bf5068ff1c7f6189935acbadcf7"},function(e,t,n){e.exports=n.p+"assets/sounds/2/shuffle_count_v.4.mp3?7b4f25d2116d53854579915da692e9f8"},function(e,t,n){e.exports=n.p+"assets/sounds/2/win_app_coins.mp3?82697311f4d117f663ace78fb58cbf10"},,,,,,,,,,,,,,,,,,,,function(e,t,n){var i=n(777);"string"==typeof i&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};n(780)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(778)(!1);var i=n(779),o=i(n(196)),s=i(n(199)),a=i(n(200)),r=i(n(209)),c=i(n(210)),u=i(n(205)),p=i(n(207)),l=i(n(201)),d=i(n(203)),h=i(n(206)),f=i(n(208)),g=i(n(202)),m=i(n(204)),b=i(n(211)),v=i(n(212));t.push([e.i,"@font-face {\n  font-family: 'riffic-bold';\n  src: url("+o+") format('truetype');\n  font-weight: normal;\n  font-style: normal;\n}\nhtml {\n  height: 100%;\n}\nbody {\n  margin: 0;\n  width: 100% !important;\n  height: 100% !important;\n}\n#input-blocker {\n  cursor: url("+s+"), auto;\n  /* IE */\n  cursor: url("+a+"), auto;\n  /* IE */\n}\n#container {\n  width: 100%;\n  height: 100%;\n  cursor: url("+s+"), auto;\n  cursor: url("+a+"), auto;\n  /* IE */\n}\n#container * {\n  cursor: url("+s+"), auto;\n  cursor: url("+a+"), auto;\n  /* IE */\n}\n#container .pointer,\n#container .pointer * {\n  cursor: pointer;\n  cursor: url("+r+"), auto;\n  cursor: url("+c+"), auto;\n  /* IE */\n}\n#container.mobile {\n  width: 0;\n  min-width: 100%;\n  overflow: hidden;\n  position: absolute;\n}\n#container.mobile.mobile-my {\n  position: static;\n  height: auto;\n  flex-shrink: 1;\n  flex-grow: 1;\n}\n#container:not(.mobile) {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  min-height: 620px;\n}\n#container:not(.mobile).gameDistribution {\n  min-height: auto;\n}\n#container:not(.mobile) #Cocos2dGameContainer {\n  transform: rotate(0deg);\n  margin: 0px 250px;\n  padding: 0px;\n  top: 0px;\n}\n#container #app {\n  outline: none;\n}\n.mail-ru {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n.mail-ru .mm-menu,\n.mail-ru b-foot {\n  flex-shrink: 0;\n}\nbody.vp {\n  overflow: hidden;\n}\nbody.vp #container:not(.mobile) {\n  min-height: 400px;\n}\n@media all and (max-height: 840px) {\n  #container:fullscreen .banner {\n    display: none;\n  }\n  #container:-webkit-full-screen .banner {\n    display: none;\n  }\n  #container:-moz-full-screen .banner {\n    display: none;\n  }\n  #container:-ms-fullscreen .banner {\n    display: none;\n  }\n}\n@media all and (max-height: 2000px) {\n  #container:not(.mobile) {\n    background: url("+u+") calc(50% - 800px) 50% no-repeat, url("+p+") calc(50% + 800px) 50% no-repeat;\n    background-color: #dcc599;\n  }\n  #container:not(.mobile) .border {\n    position: absolute;\n    width: 32px;\n    height: 100%;\n    background: url("+l+") no-repeat;\n    background-size: cover;\n  }\n  #container:not(.mobile) .border.right {\n    background-image: url("+d+");\n  }\n}\n@media all and (max-height: 660px) {\n  #container:not(.mobile) {\n    background: url("+h+") calc(50% - 550px) 50% no-repeat, url("+f+") calc(50% + 550px) 50% no-repeat;\n    background-color: #dcc599;\n  }\n  #container:not(.mobile) .border {\n    position: absolute;\n    width: 16px;\n    height: 100%;\n    background: url("+g+") no-repeat;\n    background-size: cover;\n  }\n  #container:not(.mobile) .border.right {\n    background-image: url("+m+");\n  }\n}\n.rotate-screen {\n  position: fixed;\n  display: none;\n  width: 100%;\n  height: 100%;\n  z-index: 1000;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-image: url("+b+");\n}\n.rotate-screen .content {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n}\n.rotate-screen .content .title-block {\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n.rotate-screen .content .title-block .title {\n  font-family: 'riffic-bold';\n  font-size: 36px;\n  text-align: center;\n  color: #ffffff;\n  /**\n         * работает практически везде кроме IE\n         * @see https://caniuse.com/#search=-webkit-text-stroke\n         */\n  -webkit-text-stroke: 1px #27015a;\n}\n.rotate-screen .content .icon {\n  background: url("+v+") no-repeat;\n  background-size: contain;\n  background-position-x: center;\n  width: 100%;\n  height: 44%;\n  max-height: 240px;\n  margin-right: 70px;\n}\n.rotate-screen .content .empty {\n  flex-grow: 1.5;\n}\n",""])},,,,function(e,t,n){"use strict";n.r(t);n(234),n(453);var i=n(0),o=n.n(i),s=n(1),a=n.n(s),r={Riffic:"riffic-bold"},c=["".concat(r.Riffic,".ttf")].map(function(e){return n(454)("./".concat(e))}),u=n(84);var p=new Intl.NumberFormat("ru-RU").format,l=n(4),d=n.n(l),h=n(2),f=n.n(h),g=n(5),m=n.n(g),b=function(e){function t(){return o()(this,t),d()(this,f()(t).apply(this,arguments))}return m()(t,e),a()(t,[{key:"update",value:function(e){var t=p(Math.round(this.to-this.delta*(1-e)));this.percentage&&(t+="%"),this.target.setString(t)}}]),t}(cc.ActionTween);function v(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=new b(e,"string",t,n);return o.percentage=i,o}function y(e){return e>=1e6?"".concat(e/1e6,"M"):e>=1e3?"".concat(e/1e3,"K"):e.toString()}var _=function(e){function t(){return o()(this,t),d()(this,f()(t).apply(this,arguments))}return m()(t,e),a()(t,[{key:"update",value:function(e){var t=y(Math.round(this.to-this.delta*(1-e)));this.target.setString(t)}}]),t}(cc.ActionTween);function w(e,t,n){return new _(e,"string",t,n)}var x=n(9),k=n.n(x),S=function(e){function t(e,n){var i;return o()(this,t),(i=d()(this,f()(t).call(this,e)))._start=n.start,i._end=n.end,i._measurement=n.measurement,i}return m()(t,e),a()(t,[{key:"update",value:function(e){var t=this.target.sprite.getTextureRect(),n=this._start+(this._end-this._start)*e,i=Object.assign({},t,k()({},this._measurement,n));this.target.sprite.setTextureRect(i)}}]),t}(cc.ActionInterval);function E(e,t){return new S(e,t)}cc.ActionInterval;function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return cc.eventManager.addListener({event:cc.EventListener.TOUCH_ONE_BY_ONE,swallowTouches:!0,onTouchBegan:function(t){var i=e.isGlobalVisible()&&cc.rectContainsPoint(e.getBoundingBoxToWorld(),t.getLocation());return n(i)},onTouchEnded:function(n){var i=e.isGlobalVisible()&&cc.rectContainsPoint(e.getBoundingBoxToWorld(),n.getLocation());return t(i)}},e)}var P=n(12),O=n.n(P);function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.parent?(n?e.getScale():1)*t*C(e.parent,t,!0):n?e.getScale():1}function A(e,t){var n=e.getScale(),i=C(e),o=e.getBoundingBoxToWorld();e.removeFromParent(),t.addChild(e);var s=C(e);e.setScale(n*i/s);var a=e.getBoundingBoxToWorld(),r=cc.p((o.x-a.x)/s,(o.y-a.y)/s);e.setPosition(cc.pAdd(e.getPosition(),r))}function I(){return cc.p(cc.winSize.width/2,cc.winSize.height/2)}var R=n(22),N=n(45);var F=n(17),B=n(15),z=function(e){function t(e){var n,i=e.id,s=e.type,a=e.texts,r=e.extraCodeBit;return o()(this,t),(n=d()(this,f()(t).call(this,s))).id=i,n.type=s,n.texts=a,n.extraCodeBit=r,n}return m()(t,e),a()(t,null,[{key:"getByType",value:function(e){return Object.values(t).find(function(t){return t.type===e})}}]),t}(F.a);z.FRIENDS_TOP_HELLO=new z({id:1,type:"friends-top-hello",texts:[new B.a({id:1,key:"notification.1"}),new B.a({id:2,key:"notification.2"}),new B.a({id:3,key:"notification.3"}),new B.a({id:4,key:"notification.4"})]}),z.FRIENDS_TOP_INVITE=new z({id:2,type:"friends-top-invite",texts:[new B.a({id:1,key:"notification.5"}),new B.a({id:2,key:"notification.6"}),new B.a({id:3,key:"notification.7"}),new B.a({id:4,key:"notification.8"}),new B.a({id:5,key:"notification.9"}),new B.a({id:6,key:"notification.10"}),new B.a({id:7,key:"notification.11"}),new B.a({id:8,key:"notification.12"})]}),z.INVITE_WIDGET_TOP=new z({id:3,type:"invite-widget-top",texts:[new B.a({id:1,key:"notification.5"}),new B.a({id:2,key:"notification.6"}),new B.a({id:3,key:"notification.7"}),new B.a({id:4,key:"notification.8"}),new B.a({id:5,key:"notification.9"}),new B.a({id:6,key:"notification.10"}),new B.a({id:7,key:"notification.11"}),new B.a({id:8,key:"notification.12"})]}),z.INVITE_WIDGET_MESSAGES=new z({id:4,type:"invite-widget-messages",texts:[new B.a({id:1,key:"notification.5"}),new B.a({id:2,key:"notification.6"}),new B.a({id:3,key:"notification.7"}),new B.a({id:4,key:"notification.8"}),new B.a({id:5,key:"notification.9"}),new B.a({id:6,key:"notification.10"}),new B.a({id:7,key:"notification.11"}),new B.a({id:8,key:"notification.12"})]}),z.FRIENDS_TOP_SWANK=new z({id:5,type:"friends-top-swank",texts:[new B.a({id:1,key:"notification.5"}),new B.a({id:2,key:"notification.6"}),new B.a({id:3,key:"notification.7"}),new B.a({id:4,key:"notification.8"}),new B.a({id:5,key:"notification.9"}),new B.a({id:6,key:"notification.10"}),new B.a({id:7,key:"notification.11"}),new B.a({id:8,key:"notification.12"})]}),z.INVITE_AFTER_WIN_RARE=new z({id:6,type:"invite-after-win-rare",texts:[new B.a({id:1,key:"notification.5"}),new B.a({id:2,key:"notification.6"}),new B.a({id:3,key:"notification.7"}),new B.a({id:4,key:"notification.8"}),new B.a({id:5,key:"notification.9"}),new B.a({id:6,key:"notification.10"}),new B.a({id:7,key:"notification.11"}),new B.a({id:8,key:"notification.12"})]}),z.INVITE_AFTER_WIN_OFTEN=new z({id:7,type:"invite-after-win-often",texts:[new B.a({id:1,key:"notification.5"}),new B.a({id:2,key:"notification.6"}),new B.a({id:3,key:"notification.7"}),new B.a({id:4,key:"notification.8"}),new B.a({id:5,key:"notification.9"}),new B.a({id:6,key:"notification.10"}),new B.a({id:7,key:"notification.11"}),new B.a({id:8,key:"notification.12"})]}),z.NEW_FRIENDS=new z({id:8,type:"new-friends",texts:[new B.a({id:1,key:"notification.13"})]}),F.a.freeze(z);var M=function(e){function t(){return o()(this,t),d()(this,f()(t).apply(this,arguments))}return m()(t,e),t}(F.a);k()(M,"LANGUAGE",new M("language")),k()(M,"ERROR",new M("error")),k()(M,"OUT_OF_TIME",new M("outOfTime")),k()(M,"NOT_ENOUGH_ENERGY",new M("notEnoughEnergy")),k()(M,"SETUP",new M("setup")),F.a.freeze(M);var L=function(e){function t(e){var n;return o()(this,t),(n=d()(this,f()(t).call(this,e))).id=e.replace("./","").replace(".mp3",""),n}return m()(t,e),a()(t,null,[{key:"getId",value:function(e,n){return t["".concat(e,"_").concat(n)].id}},{key:"getMapIdToValue",value:function(){return Object.values(t).reduce(function(e,t){var n=t.id,i=t.value;return Object.assign(e,k()({},n,i))},{})}}]),t}(F.a);L.ATMOSPHERE=new L("./1/music.mp3"),L.CONFETTI=new L("./1/confetti.mp3"),L.CHIP_CLICK=new L("./1/chip_click.mp3"),L.CHIP_MATCH=new L("./1/chip_match.mp3"),L.CHIP_ERROR=new L("./1/chip_error.mp3"),L.CLICK=new L("./1/click.mp3"),L.CLOCK_PROGRESS_DOWN_LOOP=new L("./1/clock_progress_down.mp3"),L.CLOCK_PROGRESS_UP=new L("./1/clock_progress_up.mp3"),L.FIELD_APP=new L("./1/field_app.mp3"),L.FIELD_CHIP_MOVE_0=new L("./1/field_chip_move_0.mp3"),L.FIELD_CHIP_MOVE_1=new L("./1/field_chip_move_1.mp3"),L.FIELD_CHIP_MOVE_2=new L("./1/field_chip_move_2.mp3"),L.FIELD_PANEL_APP=new L("./1/field_panel_app.mp3"),L.JINGLE_TIME_OFF=new L("./1/jingle_time_off.mp3"),L.JINGLE_WIN=new L("./1/jingle_win.mp3"),L.STAR_COUNT=new L("./1/star_count.mp3"),L.POPUP_OPEN=new L("./1/window_app.mp3"),L.POPUP_CLOSE=new L("./1/window_desapp.mp3"),L.WIN_SUPER=new L("./1/win_super.mp3"),L.COUNT_PERCENT=new L("./1/count_percent.mp3"),L.JINGLE_STAR_FLY=new L("./1/jingle_star_fly.mp3"),L.HAMMER_APPEAR=new L("./1/hammer_appear.mp3"),L.HAMMER_HIT=new L("./1/hammer_hit.mp3"),L.BAD_MATCH=new L("./2/chip_error.mp3"),L.CHIP_DROP=new L("./2/element_fall_1.mp3"),L.ADJUST_POOL=new L("./2/element_slide.mp3"),L.CHIP_IN_POOL=new L("./2/element_drop.mp3"),F.a.freeze(L);var U=function(e){function t(){return o()(this,t),d()(this,f()(t).apply(this,arguments))}return m()(t,e),t}(F.a);U.SENDED_MESSAGE_FRIENDS_BIRTHDAY_PRESENT=new U("sendedMessageFriendsBirthdayPpresent"),U.SENDED_MESSAGE_COIN_AS_A_GIFT_FROM_FRIENDS=new U("sendedMessageCoinAsAGiftFromFriends"),U.SAW_HELP=new U("sawHelp"),U.SENDED_MESSAGE_NEW_FRIENDS=new U("sendedMessageNewFriends"),F.a.freeze(U);var H=function(e){function t(){return o()(this,t),d()(this,f()(t).apply(this,arguments))}return m()(t,e),t}(F.a);H.TEXT=cc.color("#9f543d"),H.GRAY_TEXT=cc.color("#979ba3"),H.DISABLED_TEXT=cc.color("#e0dddd"),H.BLUE_CHAR=cc.color("#405a8b"),H.BLACK=cc.color("#000000"),H.WHITE=cc.color("#ffffff"),H.BEIGE_STROKE=cc.color("#dec4ac"),H.WHITE_SHADOW=cc.color("#443D37"),H.BROWN=cc.color("#712301"),H.BROWN_STROKE=cc.color("#87674a"),H.BROWN_LIGHT=cc.color("#926034"),H.BROWN_DARK=cc.color("#4a1f04"),H.ORANGE=cc.color("#ffba00"),H.YELLOW_LIGHT=cc.color("#fddc94"),H.YELLOW_EXTRA_LIGHT=cc.color("#fbdca7"),H.ORANGE_MEDIUM=cc.color("#ff6600"),H.ORANGE_DARK=cc.color("#f94700"),H.ORANGE_STROKE=cc.color("#dd7803"),H.GREEN_STROKE=cc.color("#55b508"),H.GREEN_PRICE=cc.color("#13af1e"),H.RED_FONT=cc.color("#e70a48"),H.RED_STROKE=cc.color("#a7221e"),H.BLUE_FONT=cc.color("#0653a2"),H.BLUE_STROKE=cc.color("#067ED6"),H.TURQUOISE_STROKE=cc.color("#1e9596"),H.BLUE_BACKGROUND=cc.color("#25a6ff"),H.AZURE_BACKGROUND=cc.color("#b5fffc"),H.GUESSED_WORD=cc.color("#17FF26"),H.ROUND_BAR_STROKE=cc.color("#2194e3"),H.BLUE_LIGHT=cc.color("#d9ddde"),H.BLUE_EXTRA_LIGHT=cc.color("#e8e8e8"),H.BLUE_GREEN=cc.color("#67d9d5"),H.PURPLE_STROKE=cc.color("#a435b3"),F.a.freeze(H);var D=function(e){function t(){return o()(this,t),d()(this,f()(t).apply(this,arguments))}return m()(t,e),t}(F.a);D.LAST_SEEN_MIDROLL=new D("lastSeenMidroll"),D.LAST_SEEN_NOTIFY=new D("lastSeenNotify");var j;Object.freeze({BOOSTER:"booster",COINS:"coins",FREE:"free",ADS:"ads"});!function(e){e.BOTTOM_SPRITE="bottom-sprite"}(j||(j={}));var G,W=function(e){function t(){return o()(this,t),d()(this,f()(t).apply(this,arguments))}return m()(t,e),t}(F.a);k()(W,"NONE",new W(0)),k()(W,"UNKNOWN",new W(1)),k()(W,"SERVICE",new W(2)),k()(W,"SYSTEM",new W(3)),k()(W,"INVALID_PAYMENT",new W(4)),k()(W,"PARAM_SIGNATURE",new W(5)),k()(W,"USER_NOT_FOUND",new W(6)),k()(W,"DUPLICATE_TRANSACTION_ID",new W(7)),F.a.freeze(W),function(e){e[e.INVITE=1]="INVITE",e[e.BIRTHDAY_BONUS_FRIEND=2]="BIRTHDAY_BONUS_FRIEND",e[e.BIRTHDAY_BONUS_GAME=3]="BIRTHDAY_BONUS_GAME",e[e.GIFT_BONUS_FRIEND=4]="GIFT_BONUS_FRIEND",e[e.NEW_FRIENDS=5]="NEW_FRIENDS"}(G||(G={}));var V=function(e){function t(e,n,i){var s;return o()(this,t),(s=d()(this,f()(t).call(this,e))).locale=n,s.name=i,s}return m()(t,e),a()(t,null,[{key:"findByValue",value:function(e){return Object.values(t).find(function(t){return t.value===e})||null}}]),t}(F.a);function q(e){if(e){if(e.startsWith("ru"))return V.RUS;if(e.startsWith("be"))return V.RUS;if(e.startsWith("kk"))return V.RUS}return null}function K(){var e,t,n;(n=document.querySelector(".ya-adv"))&&!n.classList.contains("ya-adv-hidden")&&(R.b===R.c?document.body.style.backgroundColor="#ff9e42":(document.body.style.backgroundColor="#e1ca9e",document.body.style.backgroundImage=(e=[document.body.clientWidth>1500&&"#927b52","#d8c195","#e1ca9e","#d8c195",document.body.clientWidth>1500&&"#957e55"].filter(Boolean),t=e.slice(0,e.length-1).map(function(t,n){var i=Math.round(100*n/e.length);return"".concat(t," ").concat(i,"%")}),"linear-gradient(90deg, ".concat(t.join(", "),", ").concat(e[e.length-1],")"))))}V.RUS=new V("RUS","ru_RU","Русский"),V.ENG=new V("ENG","en_US","English");var J=n(3),Y=n.n(J),Z=n(6),X=n.n(Z),Q=function(){function e(){var t=this;o()(this,e),this._promise=new Promise(function(e,n){t._resolve=e,t._reject=n}),this._pending=!0}return a()(e,[{key:"resolve",value:function(){this._resolve.apply(this,arguments),this._pending=!1}},{key:"reject",value:function(){this._reject.apply(this,arguments),this._pending=!1}},{key:"promise",get:function(){return this._promise}},{key:"pending",get:function(){return this._pending}}]),e}();function $(){return ee.apply(this,arguments)}function ee(){return(ee=X()(Y.a.mark(function e(){var t,n;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Q,n=function e(){var n;t.resolve(),n=e,document.body.removeEventListener("click",n,{capture:!0}),document.body.removeEventListener("touchstart",n,{capture:!0})},i=n,document.body.addEventListener("click",i,{once:!0,capture:!0}),document.body.addEventListener("touchstart",i,{once:!0,capture:!0}),e.abrupt("return",t.promise);case 4:case"end":return e.stop()}var i},e)}))).apply(this,arguments)}var te=n(11),ne=n(40),ie=n(18),oe=n(13),se=n(7);function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return se.a.merge({fontName:r.Riffic,fillStyle:H.WHITE},e)}function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return se.a.merge(ae(),{ctor:te.e},e)}var ce=function(e,t){return Object.entries(t).reduce(function(t,n){var i=O()(n,2),o=i[0],s=i[1];return Object.assign(t,k()({},o,e(s)))},{})},ue={"red-button":"./red button normal.svg","red-button-pressed":"./red button press.svg","green-button":"./green button normal.svg","green-button-pressed":"./green button press.svg","yellow-button":"./yellow button normal.svg","yellow-button-pressed":"./yellow button press.svg","no-avatar":"./avatars/no-avatar.png","no-avatar-male":"./avatars/no-avatar-male.png","no-avatar-female":"./avatars/no-avatar-female.png",preloader:"./preloader/preloader.jpg"};(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0===arguments.length)throw new TypeError("Недостаточно аргументов в функции range(). Нужно: 1 или 2 или 3, дано: 0");1===arguments.length&&(t=e,e=0);var i=[];if(0===n)return i;if(n<0)for(var o=t;o>=e;o+=n)i.push(o);else for(var s=e;s<=t;s+=n)i.push(s);return i})(1,1).map(String).forEach(function(e){ue["episode-".concat(e,"-game")]="./episodes/".concat(e,"/episode-").concat(e,"-game.jpg")});var pe,le=ce(n(465),ue),de=(pe=n(682)).keys().reduce(function(e,t){return Object.assign(e,k()({},t,pe(t)))},{}),he={tile:"tile",headerCoin:"star-target",confetti:"confetti"};[].forEach(function(e){Object.values(V).forEach(function(t){if(t.locale){var n="".concat(t.locale,"-").concat(e),i="".concat(t.locale,"-").concat(he[e]);he[n]=i}})});var fe,ge=Object.values(he).filter(Boolean).reduce(function(e,t){return e[t+"Atlas"]="./"+t+".atlas",e[t+"Json"]="./"+t+".atlas.json",e[t+"Image"]="./"+t+".png",e},{}),me=ce(n(699),ge),be=n(23),ve=n.n(be),ye=ce(n(706),L.getMapIdToValue()),_e=le,we=de,xe=me,ke=function(){function e(){o()(this,e)}return a()(e,null,[{key:"setLanguage",value:function(t){var n=e.getSprites(),i=me,o=Object.values(V).filter(function(e){return e.locale&&e!==t}).map(function(e){return e.locale}),s=function(e){return Object.entries(e).forEach(function(n){var i=O()(n,1)[0];i.includes(t.locale)?(e[i.replace("".concat(t.locale,"-"),"")]=e[i],delete e[i]):o.some(function(e){return i.includes(e)})&&delete e[i]})};s(n),s(i)}},{key:"filterSpritesByExperiments",value:function(t){var n=e.getSprites();[].forEach(function(e){delete n["./".concat(e,".json")],delete n["./".concat(e,".png")]})}},{key:"_filterEvents",value:function(e){var t=[];return Object.entries({}).forEach(function(n){var i=O()(n,2),o=i[0],s=i[1];e[o]?(Object.entries(s.replacedImages).forEach(function(e){var t=O()(e,2),n=t[0],i=t[1];_e[i]=_e[n],delete _e[n]}),t&&t.push.apply(t,ve()(s.before))):(Object.keys(s.replacedImages).concat(s.images).forEach(function(e){return delete _e[e]}),s.spineAtlases.forEach(function(e){return delete xe[e]}),s.sprites.forEach(function(e){return delete we[e]}))}),{before:t}}},{key:"getResourcesToLoad",value:function(t){var n=[],i=e._filterEvents(t).before;n.push.apply(n,ve()(i));var o=e.getSpritesToLoad("1"),s=e.getImagesToLoad("1");return{before:[].concat(ve()(Object.values(e.getSounds())),ve()(s.before),ve()(o.before),ve()(Object.values(e.getSpineAtlasesToLoad())),n),after:[].concat(ve()(s.after),ve()(o.after))}}},{key:"getResourcesToLoadAfter",value:function(){return ve()(e.getImagesToLoad())}},{key:"getResourcesToPreload",value:function(){return[].concat(ve()(c),ve()(e.getImagesToPreload()),ve()(Object.values(e.getSpritesToPreload())),ve()(Object.values(e.getSpineAtlasesToPreload())))}},{key:"getAnimationFrames",value:function(e){for(var t=[],n=0;n<100;n++){var i=cc.spriteFrameCache.getSpriteFrame("".concat(e).concat(n<10?"0"+n:n));if(!i)break;t.push(i)}return t}},{key:"getImagesToPreload",value:function(){var t=["/preloader/","/fullscreen/","/ads-banner/"];return Object.values(e.getImages()).filter(function(t){return!e.getSVGImages().includes(t)}).filter(function(e){return t.some(function(t){return e.includes(t)})})}},{key:"getImagesToLoad",value:function(){var t=[],n=[];return Object.values(e.getImages()).forEach(function(i){e.getSVGImages().includes(i)||e.getImagesToPreload().includes(i)||(i.includes("episode-")?i.includes("episode-1")?t.push(i):n.push(i):t.push(i))}),{before:t,after:n}}},{key:"getSVGImages",value:function(){return Object.values(e.getImages()).filter(function(e){return e.includes(".svg")})}},{key:"getImage",value:function(t){return cc.spriteFrameCache.getSpriteFrame(t)||e.getImages()[t]}},{key:"getImages",value:function(){return le}},{key:"getSound",value:function(t){return e.getSounds()[t]}},{key:"getSounds",value:function(){return ye}},{key:"getSpineAtlasesToPreload",value:function(){var e=["bus"];return se.a.filterObject(me,function(t){var n=O()(t,1)[0];return e.some(function(e){return n.includes(e)})})}},{key:"getSpineAtlasesToLoad",value:function(){var t=Object.keys(e.getSpineAtlasesToPreload());return se.a.filterObject(me,function(e){var n=O()(e,1)[0];return!t.includes(n)})}},{key:"getSpineAtlas",value:function(e){return{atlas:me[e+"Atlas"],json:me[e+"Json"]}}},{key:"getSpritesToPreload",value:function(){var t=["preloader","level-progress-widget"];return se.a.filterObject(e.getSprites(),function(e){var n=O()(e,1)[0];return t.some(function(e){return n.includes(e)})})}},{key:"getSpritesToLoad",value:function(){var t=[],n=[],i=Object.keys(e.getSpritesToPreload());return Object.entries(e.getSprites()).forEach(function(e){var o=O()(e,2),s=o[0],a=o[1];i.includes(s)||(s.includes("episode-")?s.includes("episode-1")?t.push(a):n.push(a):t.push(a))}),{before:t,after:n}}},{key:"getSprites",value:function(){return de}},{key:"initSpriteFiles",value:function(t){Object.keys(t).map(function(e){return e.substr(2)}).map(function(e){return e.substr(0,e.indexOf("."))}).filter(function(e,t,n){return n.indexOf(e)===t}).map(function(t){return{image:e._getSprite("./".concat(t,".png")),json:e._getSprite("./".concat(t,".json"))}}).forEach(function(e){var t=e.image,n=e.json;return cc.spriteFrameCache.addSpriteFrames(n,t)})}},{key:"_getSprite",value:function(t){return e.getSprites()[t]}}]),e}();window.rm=ke;var Se=!1,Ee=function(){Se=!0},Te={};document.body.addEventListener("click",Ee,{once:!0,capture:!0}),document.body.addEventListener("touchstart",Ee,{once:!0,capture:!0});var Pe,Oe,Ce={playMusicLoop:function(e){clearInterval(fe),Ce.playMusic(e,Ce.LOOP),fe=setInterval(function(){Ce.isMusicPlaying()||Ce.playMusic(e,Ce.LOOP)},u.b)},playMusic:function(e,t){Se&&cc.audioEngine.playMusic(ke.getSound(e),t)},playEffect:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Se){var n=cc.audioEngine.playEffect(ke.getSound(e),t);return!Te[e]&&(Te[e]=[]),Te[e].push(n),n}},playSingleEffect:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Te[e]||(Te[e]=Te[e].filter(function(e){return e.getPlaying()}),!Te[e].length))return Ce.playEffect(e,t)},setMusicVolume:function(e){return cc.audioEngine.setMusicVolume(e)},getMusicVolume:function(){return cc.audioEngine.getMusicVolume()},isMusicPlaying:function(){return cc.audioEngine.isMusicPlaying()},setEffectsVolume:function(e){return cc.audioEngine.setEffectsVolume(e)},getEffectVolume:function(){return cc.audioEngine.getEffectsVolume()},stopEffect:function(e){return cc.audioEngine.stopEffect(e)},LOOP:!0};Ce.setEffectsVolume(0),Ce.setMusicVolume(0),void 0!==document.hidden?(Pe="hidden",Oe="visibilitychange"):void 0!==document.msHidden?(Pe="msHidden",Oe="msvisibilitychange"):void 0!==document.webkitHidden&&(Pe="webkitHidden",Oe="webkitvisibilitychange"),void 0===document.addEventListener&&void 0===Pe||document.addEventListener(Oe,function(){document[Pe]?(cc.audioEngine.pauseMusic(),Se=!1):(cc.audioEngine.resumeMusic(),Se=!0)},!1);var Ae=3,Ie=4,Re=n(37),Ne=function(e){function t(e){var n;return o()(this,t),(n=d()(this,f()(t).call(this,e)))._adsNumber=0,n}var n;return m()(t,e),a()(t,[{key:"getInfo",value:(n=X()(Y.a.mark(function e(){var t,n;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._rest.get("/users/get-info",{});case 2:return t=e.sent,n=t.data,e.abrupt("return",this._playerFactory.create(n));case 5:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})}]),t}(Re.e),Fe=function(e){function t(e){var n;return o()(this,t),(n=d()(this,f()(t).call(this,e)))._adsNumber=0,n}var n;return m()(t,e),a()(t,[{key:"getInfo",value:(n=X()(Y.a.mark(function e(){var t,n;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._rest.get("/user/getinfo",{});case 2:return t=e.sent,n=t.data,e.abrupt("return",this._playerFactory.create(n.data));case 5:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"updateSessionProgress",value:function(e){return Promise.resolve(e)}},{key:"updateSessionGameStarted",value:function(){return Promise.resolve()}}]),t}(Re.e),Be=function(e){function t(e){var n;return o()(this,t),(n=d()(this,f()(t).call(this)))._rest=e,n}var n,i,s,r;return m()(t,e),a()(t,[{key:"updateGame",value:(r=X()(Y.a.mark(function e(){var t,n=arguments;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,this._rest.post("game/update",t);case 3:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"outOfTime",value:(s=X()(Y.a.mark(function e(t){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._rest.post("game/out-of-time",{id:t.id,points:t.points,part:t.part,moves:t.moves});case 2:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"startGame",value:(i=X()(Y.a.mark(function e(){var t,n,i,o,s=arguments;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},e.next=3,this._rest.post("game/start-game",t);case 3:return n=e.sent,i=n.data,o=i.id,e.abrupt("return",{id:o});case 7:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"lossGame",value:(n=X()(Y.a.mark(function e(t){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._rest.post("game/loss-game",{id:t.id,reason:"exit"});case 2:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})}]),t}(Re.x),ze=n(10),Me=n.n(ze);function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(n,!0).forEach(function(t){k()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var He,De=function(e){function t(e,n){var i;return o()(this,t),(i=d()(this,f()(t).call(this,e)))._tgRest=n,i}var n,i,s,r;return m()(t,e),a()(t,[{key:"updateGame",value:(r=X()(Y.a.mark(function e(){var t,n=arguments;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n.length>0&&void 0!==n[0]?n[0]:{},console.log(t);case 2:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)})},{key:"outOfTime",value:(s=X()(Y.a.mark(function e(n){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Me()(f()(t.prototype),"outOfTime",this).call(this,n),this._tgRest.get("game/finish",{params:{points:n.points,tiles:Object.fromEntries(n.mergedTiles)}})]);case 2:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"startGame",value:(i=X()(Y.a.mark(function e(){var n,i,o,s,a,r,c=arguments;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,Promise.all([Me()(f()(t.prototype),"startGame",this).call(this,n),this._tgRest.get("game/start",{})]);case 3:return i=e.sent,o=O()(i,2),s=o[0],a=o[1],r=Ue({id:s.id},a.data.data),e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"lossGame",value:(n=X()(Y.a.mark(function e(n){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Me()(f()(t.prototype),"lossGame",this).call(this,n),this._tgRest.get("game/finish",{params:{points:0,tiles:Object.fromEntries(n.mergedTiles)}})]);case 2:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})}]),t}(Be),je=(Re.h,function(){function e(t,n){o()(this,e),this.playerFactory=t,this.rest=n}var t,n;return a()(e,[{key:"_getInitParams",value:(n=X()(Y.a.mark(function e(){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)})},{key:"_requestInitApp",value:function(e){return this.rest.get("/app/init",{params:e}).then(function(e){return e.data})}},{key:"init",value:(t=X()(Y.a.mark(function e(){var t,n,i,o;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getInitParams();case 2:return t=e.sent,e.next=5,this._requestInitApp(t);case 5:return n=e.sent,i=n.player,o=n.params,this.rest.token=i.access_token,e.abrupt("return",{player:this.playerFactory.create(i),params:o});case 10:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})}]),e}()),Ge=function(e){function t(e,n,i){var s;return o()(this,t),(s=d()(this,f()(t).call(this,e,n)))._data=i,s}var n;return m()(t,e),a()(t,[{key:"_getInitParams",value:(n=X()(Y.a.mark(function e(){var t,n;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=new URLSearchParams(window.location.search)).has("uid")){e.next=3;break}return e.abrupt("return",{test_person_id:t.get("uid")});case 3:return(n=this._data.get("testPersonId"))||(n=se.a.getRandomInt(1e6,1e9),this._data.set("testPersonId",n)),e.abrupt("return",{test_person_id:n});case 6:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"_requestInitApp",value:function(e){return this.rest.get("/app/init/test",{params:e}).then(function(e){return e.data})}}]),t}(je),We=function(e){function t(e,n,i,s){var a;return o()(this,t),(a=d()(this,f()(t).call(this,e,n)))._tgRest=i,a._data=s,a}var n,i;return m()(t,e),a()(t,[{key:"_getInitParams",value:(i=X()(Y.a.mark(function e(){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{test_person_id:this.playerId});case 1:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"_requestInitApp",value:function(e){return this.rest.get("/app/init/test",{params:e}).then(function(e){return e.data})}},{key:"init",value:(n=X()(Y.a.mark(function e(){var n,i,o,s,a,r;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("TG App Service init"),e.next=3,Me()(f()(t.prototype),"init",this).call(this).then();case 3:return n=e.sent,i=n.player,o=n.params,e.next=8,this._tgRest.get("/user/getinfo");case 8:return s=e.sent,a=s.data,r=this.playerFactory.create(Object.assign({record:i.record},a.data)),i.update(r),e.abrupt("return",{player:i,params:o});case 13:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"playerId",get:function(){try{return window.Telegram.WebApp.initDataUnsafe.user.id}catch(n){var e=new URLSearchParams(window.location.search).get("uid");if(e)return e;var t=this._data.get("testPersonId");return t||(t=se.a.getRandomInt(1e6,1e10),this._data.set("testPersonId",t)),t}}}]),t}(je),Ve=n(41);!function(e){e.coins="coins",e.boosterShuffle="boosterShuffle",e.boosterTip="boosterEraser"}(He||(He={}));var qe,Ke;!function(e){e.outOfTime="outOfTime",e.complete="complete"}(qe||(qe={})),function(e){e.complete="complete",e.loseChallenge="loseChallenge",e.startChallenge="startChallenge",e.outOfTime="outOfTime",e.preroll="preroll"}(Ke||(Ke={}));var Je,Ye={ok:"ok",test:"test",gp:"gp",client:"client",ya:"ya",tg:"tg"},Ze=(Je={},k()(Je,Ye.test,0),k()(Je,Ye.ok,1),k()(Je,Ye.ya,5),k()(Je,Ye.tg,11),Je),Xe=n(126),Qe=n.n(Xe),$e=n(14),et=n.n($e),tt=null,nt=function(){function e(t,n,i){var s=this;if(o()(this,e),tt)throw new Error("TgRestClient already instantiated");this.errorHandler=i,this.host=t,this._events=new $e.EventEmitter,this._api=Qe.a.create({baseURL:t,withCredentials:!0}),this._api.interceptors.request.use(function(e){return s._events.emit("beforeRequest",e.url),e},function(e){return e}),this._api.interceptors.response.use(function(e){return s._events.emit("afterResponse",e.config.url.replace(e.config.baseURL+"/","")),e},function(e){return Promise.reject(e)}),n&&(this.token=n)}var t,n,i,s;return a()(e,null,[{key:"getInstance",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.host,i=t.token,o=t.errorHandler;return tt||(tt=new e(n,i,o)),tt}}]),a()(e,[{key:"_request",value:(s=X()(Y.a.mark(function e(t){var n,i,o,s,a,r,c,u,p,l,d=arguments;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(i=10,o=d.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=d[a];r=0;case 3:if(!(r<i)){e.next=27;break}if(e.t0=r>0,!e.t0){e.next=8;break}return e.next=8,new Promise(function(e){return setTimeout(e,5e3)});case 8:return e.prev=8,e.next=11,(c=this._api)[t].apply(c,s);case 11:return u=e.sent,r>0&&(p=this._events).emit.apply(p,["network restored",r].concat(s)),e.abrupt("return",u);case 16:if(e.prev=16,e.t1=e.catch(8),n=e.t1,!e.t1.response){e.next=23;break}return e.abrupt("break",27);case 23:(l=this._events).emit.apply(l,["network error",r].concat(s));case 24:++r,e.next=3;break;case 27:return this.errorHandler&&this.errorHandler.handle&&this.errorHandler.handle(n),e.abrupt("return",Promise.reject(n));case 29:case"end":return e.stop()}},e,this,[[8,16]])})),function(e){return s.apply(this,arguments)})},{key:"get",value:(i=X()(Y.a.mark(function e(t,n){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._request("get",t,n));case 1:case"end":return e.stop()}},e,this)})),function(e,t){return i.apply(this,arguments)})},{key:"post",value:(n=X()(Y.a.mark(function e(t,n,i){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._request("post",t,n,i));case 1:case"end":return e.stop()}},e,this)})),function(e,t,i){return n.apply(this,arguments)})},{key:"put",value:(t=X()(Y.a.mark(function e(t,n,i){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._request("put",t,n,i));case 1:case"end":return e.stop()}},e,this)})),function(e,n,i){return t.apply(this,arguments)})},{key:"token",set:function(e){this._api.defaults.params||(this._api.defaults.params={}),this._api.defaults.params.token=e},get:function(){return this._api.defaults.params.token}},{key:"events",get:function(){return this._events}}]),e}(),it=function(){function e(t,n,i){o()(this,e),this._dataStorage=t,this._playerFactory=n,this._environment=i,this._rest=null}return a()(e,[{key:"createPlayerService",value:function(e){switch(e){case"api":return new Ne({restClient:this.rest,socialId:0,playerFactory:this._playerFactory});case"tg":return new Fe({restClient:this.tgRest,socialId:0,playerFactory:this._playerFactory});default:throw new Error("Неизвестный тип в createPlayerService: ".concat(e))}}},{key:"createLevelService",value:function(e){switch(e){case"mock":return new kt(this._dataStorage);default:throw new Error("Неизвестный тип в createLevelService: ".concat(e))}}},{key:"createAppService",value:function(){switch(this._environment.socialName){case Ye.test:return new Ge(this._playerFactory,this.rest,this._dataStorage);case Ye.tg:return new We(this._playerFactory,this.rest,this.tgRest,this._dataStorage);default:throw new Error("Неизвестный socialName в createAppService: ".concat(this._environment.socialName))}}},{key:"createGameService",value:function(e){switch(e){case"api":return new Be(this.rest);case"tg":return new De(this.rest,this.tgRest);default:throw new Error("Неизвестный тип в createGameService: ".concat(e))}}},{key:"createSocialService",value:function(){return this._environment.socialName,new Re.q}},{key:"createPersonService",value:function(e,t){return new pt(t)}},{key:"createGlossaryService",value:function(e,t){return new Et(t)}},{key:"createLanguageService",value:function(e){return new At(this._dataStorage)}},{key:"rest",get:function(){return this._rest||(this._rest=new Ve.a(this._environment.host),void 0===this._rest.clientType&&(this._rest.clientType=0)),this._rest}},{key:"tgRest",get:function(){var e=window&&window.params&&window.params.tgHost;if(!e)throw new Error("Не указан tgHost");return this._tgRest||(this._tgRest=new nt(e,new URLSearchParams(window.location.search).get("token")),void 0===this._tgRest.clientType&&(this._tgRest.clientType=0)),this._tgRest}}]),e}(),ot=n(44),st=(ot.a,ot.a,ot.a,ot.a,ot.a,ot.a,n(26)),at=function(e){var t=0===e.sex?st.a.MALE:st.a.FEMALE;return new F.b({id:e.uid,firstName:e.first_name,lastName:e.last_name,defaultImage:e.pic,gender:t,age:e.age,lastOnline:e.last_visit,birthday:e.birthday})},rt=(Re.x,function(e,t){var n=1===e.sex?st.a.FEMALE:st.a.MALE;return new F.b({id:e.id,firstName:e.first_name,lastName:e.last_name,defaultImage:e.photo_100||t,gender:n,age:e.age,lastOnline:0,birthday:e.bdate||null})}),ct=(Re.x,n(59)),ut=n(129),pt=function(e){function t(){return o()(this,t),d()(this,f()(t).apply(this,arguments))}var n;return m()(t,e),a()(t,[{key:"getPersonsByIds",value:(n=X()(Y.a.mark(function e(t){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t.filter(Boolean),e.abrupt("return",t.map(function(e){var t=isNaN(parseInt(e))?se.a.getRandomInt(0,ut.a.length):parseInt(e)%ut.a.length,n=ut.a[t];return new F.b({id:e,firstName:n.name,lastName:"",birthday:Math.random()<.5,lastOnline:+new Date-100*Math.random(),defaultImage:"https://content.z-media.info/social/avatars-ok/".concat(n.id,".jpg")})}));case 2:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)})}]),t}(ct.a),lt=(ct.b,Re.x,ct.a,ct.a,ct.a,n(19)),dt="points",ht="record",ft="energy",gt="balance",mt="finishes",bt=function(e){function t(e){var n;return o()(this,t),(n=d()(this,f()(t).call(this,e)))._timeDiff=0,n._eventUpdateDisabled=!1,n}return m()(t,e),a()(t,[{key:"disableEventUpdate",value:function(){this._eventUpdateDisabled=!0}},{key:"enableEventUpdate",value:function(){this._eventUpdateDisabled=!1}},{key:"update",value:function(e){var t=[dt,mt,ht,ft,gt];this.updateByFields(e,t)}},{key:"updateByFields",value:function(e,t){var n=this,i=[];t.forEach(function(t){var o=e.get(t),s=n[t];s!=o&&(i.push({key:t,value:o,before:s}),n.set(t,o,!0))}),i.length&&!this._eventUpdateDisabled&&this.events.emit("update",i)}},{key:"_buildData",value:function(e){return Me()(f()(t.prototype),"_buildData",this).call(this,e)}},{key:"lastTime",get:function(){return this.getInt("last_time")||0}},{key:"firstTime",get:function(){return this.getInt("firstTime")||0}},{key:"points",get:function(){return+this.get(dt,0)},set:function(e){this.set(dt,e)}},{key:"balance",get:function(){return+this.get(gt,0)},set:function(e){this.set(gt,e)}},{key:"record",get:function(){return+this.get(ht,0)},set:function(e){this.set(ht,e)}},{key:"finishes",get:function(){return+this.get(mt,0)},set:function(e){this.set(mt,e)}},{key:"energy",get:function(){return+this.get(ft,0)},set:function(e){this.set(ft,e)}},{key:"timeDiff",get:function(){return this._timeDiff},set:function(e){this._timeDiff=e}}]),t}(F.c),vt=function(e){function t(e){var n;return o()(this,t),(n=d()(this,f()(t).call(this,e)))._lastNotifyServer=0,n._payer=void 0,n}return m()(t,e),a()(t,[{key:"updateNotify",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Me()(f()(t.prototype),"updateNotify",this).call(this,e,n),this.lastNotifyServer=Math.floor(Date.now()/1e3)}},{key:"payer",get:function(){return this._payer},set:function(e){this._payer=e}},{key:"lastNotifyServer",get:function(){return this._lastNotifyServer},set:function(e){this._lastNotifyServer=e}},{key:"player",get:function(){return this._player},set:function(e){this._player=e}}]),t}(F.e),yt=n(51),_t=function(e){function t(){return o()(this,t),d()(this,f()(t).apply(this,arguments))}return m()(t,e),a()(t,[{key:"map",get:function(){return this.get("map",{})}},{key:"id",get:function(){return this.get("id")},set:function(e){this.set("id",e)}},{key:"collapseDeltas",get:function(){var e=this.get("collapseDeltas");return void 0===e?(this.collapseDeltas=[],this.collapseDeltas):e},set:function(e){this.set("collapseDeltas",e)}},{key:"collapseStartMove",get:function(){return this.get("collapseStartMove",0)},set:function(e){this.set("collapseStartMove",e)}},{key:"tilesAmount",get:function(){return this.get("tilesAmount",10)},set:function(e){this.set("tilesAmount",e)}},{key:"tiles",get:function(){return this.get("tiles",[])},set:function(e){this.set("tiles",e)}},{key:"numbers",get:function(){return this.get("numbers",[])},set:function(e){this.set("numbers",e)}},{key:"episode",get:function(){return this.get("episode",1)},set:function(e){this.set("episode",e)}},{key:"square",get:function(){return this.get("square",!1)},set:function(e){this.set("square",e)}},{key:"reduce",get:function(){return this.get("reduce",!1)},set:function(e){this.set("reduce",e)}},{key:"columns",get:function(){return this.get("columns",!1)},set:function(e){this.set("columns",e)}}]),t}(yt.a);F.d;(function(e){function t(){return o()(this,t),d()(this,f()(t).apply(this,arguments))}return m()(t,e),a()(t,[{key:"getRallyByPlace",value:function(e){return this.getInt("rally".concat(e))}},{key:"updateLevel",value:function(e){this.set("level",Math.floor((e-1)/100))}},{key:"incrementRallyByPlace",value:function(e){t.rallyPlaces.includes(e)&&this.set("rally".concat(e),this.getRallyByPlace(e)+1)}},{key:"level",get:function(){return this.getInt("level")}},{key:"enabled",get:function(){return this.get("enabled")}}]),t}(yt.a)).rallyPlaces=[1,2,3];var wt,xt=[{id:1,map:[{x:2,y:2,number:11},{x:3,y:2,number:2},{x:2,y:3,number:2},{x:3,y:3,number:3},{x:6,y:3,number:12},{x:2,y:4,number:5},{x:3,y:4,number:6},{x:5,y:4,number:6},{x:6,y:4,number:7},{x:3,y:5,number:12},{x:4,y:5,number:8},{x:5,y:5,number:7},{x:6,y:5,number:11},{x:3,y:6,number:3},{x:5,y:6,number:8},{x:6,y:6,number:5}],collapseDeltas:[],tilesAmount:8,episode:2},{id:2,map:[{x:1,y:1,number:2},{x:2,y:1,number:2},{x:3,y:1,number:6},{x:4,y:1,number:2},{x:1,y:2,number:5},{x:2,y:2,number:3},{x:3,y:2,number:3},{x:4,y:2,number:1},{x:1,y:3,number:6},{x:2,y:3,number:4},{x:3,y:3,number:1},{x:4,y:3,number:5},{x:1,y:4,number:5},{x:2,y:4,number:3},{x:3,y:4,number:1},{x:4,y:4,number:4},{x:1,y:5,number:2},{x:2,y:5,number:4},{x:3,y:5,number:6},{x:4,y:5,number:5},{x:1,y:6,number:6},{x:2,y:6,number:1},{x:3,y:6,number:3},{x:4,y:6,number:4}],collapseDeltas:[],tilesAmount:6,episode:2},{id:3,map:[{x:3,y:1,number:1},{x:4,y:1,number:5},{x:2,y:2,number:5},{x:3,y:2,number:6},{x:4,y:2,number:4},{x:5,y:2,number:2},{x:1,y:3,number:2},{x:2,y:3,number:1},{x:3,y:3,number:5},{x:4,y:3,number:3},{x:5,y:3,number:4},{x:6,y:3,number:2},{x:1,y:5,number:6},{x:2,y:5,number:3},{x:3,y:5,number:5},{x:4,y:5,number:3},{x:5,y:5,number:6},{x:6,y:5,number:4},{x:2,y:6,number:1},{x:3,y:6,number:4},{x:4,y:6,number:2},{x:5,y:6,number:6},{x:3,y:7,number:1},{x:4,y:7,number:3}],collapseDeltas:[],tilesAmount:6,episode:2,reduce:!0},{id:4,map:[{x:1,y:0,number:6},{x:2,y:0,number:1},{x:3,y:0,number:2},{x:4,y:0,number:8},{x:5,y:0,number:5},{x:6,y:0,number:2},{x:1,y:1,number:4},{x:2,y:1,number:6},{x:3,y:1,number:1},{x:4,y:1,number:2},{x:5,y:1,number:4},{x:6,y:1,number:6},{x:1,y:2,number:6},{x:2,y:2,number:8},{x:3,y:2,number:8},{x:4,y:2,number:5},{x:5,y:2,number:1},{x:6,y:2,number:5},{x:1,y:3,number:5},{x:2,y:3,number:6},{x:3,y:3,number:4},{x:4,y:3,number:2},{x:5,y:3,number:6},{x:6,y:3,number:1},{x:1,y:4,number:2},{x:2,y:4,number:5},{x:3,y:4,number:4},{x:4,y:4,number:5},{x:5,y:4,number:6},{x:6,y:4,number:4},{x:1,y:5,number:5},{x:2,y:5,number:1},{x:3,y:5,number:6},{x:4,y:5,number:1},{x:5,y:5,number:4},{x:6,y:5,number:8}],collapseDeltas:[],tilesAmount:6,episode:1,collapseStartMove:0},{id:6,map:[{x:3,y:1,number:-1},{x:4,y:1,number:-1},{x:2,y:2,number:-1},{x:3,y:2,number:-1},{x:4,y:2,number:-1},{x:5,y:2,number:-1},{x:1,y:3,number:-1},{x:2,y:3,number:-1},{x:3,y:3,number:-1},{x:4,y:3,number:-1},{x:5,y:3,number:-1},{x:6,y:3,number:-1},{x:1,y:4,number:-1},{x:2,y:4,number:-1},{x:3,y:4,number:-1},{x:4,y:4,number:-1},{x:5,y:4,number:-1},{x:6,y:4,number:-1},{x:2,y:5,number:-1},{x:3,y:5,number:-1},{x:4,y:5,number:-1},{x:5,y:5,number:-1},{x:3,y:6,number:-1},{x:4,y:6,number:-1}],collapseDeltas:[{x:0,y:-1}],collapseStartMove:1,tilesAmount:9,episode:1},{id:7,map:[{x:3,y:1,number:-1},{x:4,y:1,number:-1},{x:5,y:1,number:-1},{x:2,y:2,number:-1},{x:3,y:2,number:-1},{x:4,y:2,number:-1},{x:5,y:2,number:-1},{x:6,y:2,number:-1},{x:2,y:3,number:-1},{x:3,y:3,number:-1},{x:5,y:3,number:-1},{x:6,y:3,number:-1},{x:2,y:4,number:-1},{x:6,y:4,number:-1},{x:2,y:5,number:-1},{x:3,y:5,number:-1},{x:5,y:5,number:-1},{x:6,y:5,number:-1},{x:3,y:6,number:-1},{x:4,y:6,number:-1},{x:5,y:6,number:-1},{x:2,y:7,number:-1},{x:3,y:7,number:-1},{x:4,y:7,number:-1},{x:5,y:7,number:-1},{x:6,y:7,number:-1}],collapseDeltas:[{x:1,y:0}],collapseStartMove:2,tilesAmount:8},{id:9,map:[{x:0,y:0,number:-1},{x:1,y:0,number:-1},{x:2,y:0,number:-1},{x:3,y:0,number:-1},{x:4,y:0,number:-1},{x:0,y:1,number:-1},{x:0,y:2,number:-1},{x:1,y:2,number:-1},{x:2,y:2,number:-1},{x:3,y:2,number:-1},{x:4,y:2,number:-1},{x:0,y:4,number:-1},{x:1,y:4,number:-1},{x:2,y:4,number:-1},{x:3,y:4,number:-1},{x:4,y:4,number:-1},{x:0,y:5,number:-1},{x:0,y:6,number:-1},{x:1,y:6,number:-1},{x:2,y:6,number:-1},{x:3,y:6,number:-1},{x:4,y:6,number:-1}],collapseDeltas:[],tilesAmount:9},{id:41,map:[{x:1,y:0,number:-1},{x:2,y:0,number:-1},{x:3,y:0,number:-1},{x:4,y:0,number:-1},{x:5,y:0,number:-1},{x:1,y:1,number:-1},{x:2,y:1,number:-1},{x:3,y:1,number:-1},{x:4,y:1,number:-1},{x:5,y:1,number:-1},{x:1,y:2,number:-1},{x:2,y:2,number:-1},{x:3,y:2,number:-1},{x:4,y:2,number:-1},{x:5,y:2,number:-1},{x:0,y:3,number:-1},{x:1,y:3,number:-1},{x:2,y:3,number:-1},{x:3,y:3,number:-1},{x:4,y:3,number:-1},{x:5,y:3,number:-1},{x:0,y:4,number:-1},{x:1,y:4,number:-1},{x:2,y:4,number:-1},{x:3,y:4,number:-1},{x:4,y:4,number:-1},{x:0,y:5,number:-1},{x:1,y:5,number:-1},{x:2,y:5,number:-1},{x:3,y:5,number:-1},{x:4,y:5,number:-1},{x:0,y:6,number:-1},{x:1,y:6,number:-1},{x:2,y:6,number:-1},{x:3,y:6,number:-1},{x:4,y:6,number:-1}],collapseDeltas:[{x:-1,y:0},{x:1,y:0},{x:0,y:-1},{x:0,y:1}],collapseStartMove:2,tilesAmount:10},{id:107,map:[{x:1,y:1,number:-1},{x:2,y:1,number:-1},{x:3,y:1,number:-1},{x:4,y:1,number:-1},{x:5,y:1,number:-1},{x:6,y:1,number:-1},{x:1,y:2,number:-1},{x:6,y:2,number:-1},{x:1,y:3,number:-1},{x:2,y:3,number:-1},{x:3,y:3,number:-1},{x:4,y:3,number:-1},{x:5,y:3,number:-1},{x:6,y:3,number:-1},{x:1,y:4,number:-1},{x:2,y:4,number:-1},{x:5,y:4,number:-1},{x:6,y:4,number:-1},{x:1,y:5,number:-1},{x:2,y:5,number:-1},{x:3,y:5,number:-1},{x:4,y:5,number:-1},{x:5,y:5,number:-1},{x:6,y:5,number:-1},{x:1,y:6,number:-1},{x:6,y:6,number:-1},{x:1,y:7,number:-1},{x:2,y:7,number:-1},{x:3,y:7,number:-1},{x:4,y:7,number:-1},{x:5,y:7,number:-1},{x:6,y:7,number:-1}],collapseDeltas:[],tilesAmount:16},{id:108,map:[{x:0,y:0,number:-1},{x:1,y:0,number:-1},{x:2,y:0,number:-1},{x:3,y:0,number:-1},{x:4,y:0,number:-1},{x:5,y:0,number:-1},{x:0,y:1,number:-1},{x:1,y:1,number:-1},{x:2,y:1,number:-1},{x:3,y:1,number:-1},{x:4,y:1,number:-1},{x:5,y:1,number:-1},{x:0,y:2,number:-1},{x:1,y:2,number:-1},{x:2,y:2,number:-1},{x:3,y:2,number:-1},{x:4,y:2,number:-1},{x:5,y:2,number:-1},{x:0,y:3,number:-1},{x:1,y:3,number:-1},{x:2,y:3,number:-1},{x:3,y:3,number:-1},{x:4,y:3,number:-1},{x:5,y:3,number:-1},{x:0,y:4,number:-1},{x:1,y:4,number:-1},{x:2,y:4,number:-1},{x:3,y:4,number:-1},{x:4,y:4,number:-1},{x:5,y:4,number:-1},{x:0,y:5,number:-1},{x:1,y:5,number:-1},{x:2,y:5,number:-1},{x:3,y:5,number:-1},{x:4,y:5,number:-1},{x:5,y:5,number:-1},{x:0,y:6,number:-1},{x:1,y:6,number:-1},{x:2,y:6,number:-1},{x:3,y:6,number:-1},{x:4,y:6,number:-1},{x:5,y:6,number:-1},{x:0,y:7,number:-1},{x:1,y:7,number:-1},{x:2,y:7,number:-1},{x:3,y:7,number:-1},{x:4,y:7,number:-1},{x:5,y:7,number:-1},{x:0,y:8,number:-1},{x:1,y:8,number:-1},{x:2,y:8,number:-1},{x:3,y:8,number:-1},{x:4,y:8,number:-1},{x:5,y:8,number:-1}],collapseDeltas:[],tilesAmount:14},{id:120,map:[{x:0,y:0,number:-1},{x:1,y:0,number:-1},{x:2,y:0,number:-1},{x:4,y:0,number:-1},{x:5,y:0,number:-1},{x:0,y:1,number:-1},{x:1,y:1,number:-1},{x:3,y:1,number:-1},{x:4,y:1,number:-1},{x:5,y:1,number:-1},{x:0,y:2,number:-1},{x:1,y:2,number:-1},{x:2,y:2,number:-1},{x:4,y:2,number:-1},{x:5,y:2,number:-1},{x:0,y:3,number:-1},{x:1,y:3,number:-1},{x:3,y:3,number:-1},{x:4,y:3,number:-1},{x:5,y:3,number:-1},{x:0,y:4,number:-1},{x:1,y:4,number:-1},{x:2,y:4,number:-1},{x:3,y:4,number:-1},{x:4,y:4,number:-1},{x:5,y:4,number:-1},{x:0,y:5,number:-1},{x:1,y:5,number:-1},{x:3,y:5,number:-1},{x:4,y:5,number:-1},{x:5,y:5,number:-1},{x:0,y:6,number:-1},{x:1,y:6,number:-1},{x:2,y:6,number:-1},{x:4,y:6,number:-1},{x:5,y:6,number:-1},{x:0,y:7,number:-1},{x:1,y:7,number:-1},{x:3,y:7,number:-1},{x:4,y:7,number:-1},{x:5,y:7,number:-1},{x:0,y:8,number:-1},{x:1,y:8,number:-1},{x:2,y:8,number:-1},{x:4,y:8,number:-1},{x:5,y:8,number:-1}],collapseDeltas:[],collapseStartMove:6,tilesAmount:14},{id:158,map:[{x:1,y:0,number:-1},{x:2,y:0,number:-1},{x:3,y:0,number:-1},{x:4,y:0,number:-1},{x:0,y:1,number:-1},{x:1,y:1,number:-1},{x:2,y:1,number:-1},{x:3,y:1,number:-1},{x:4,y:1,number:-1},{x:5,y:1,number:-1},{x:0,y:2,number:-1},{x:1,y:2,number:-1},{x:4,y:2,number:-1},{x:5,y:2,number:-1},{x:0,y:3,number:-1},{x:1,y:3,number:-1},{x:2,y:3,number:-1},{x:3,y:3,number:-1},{x:4,y:3,number:-1},{x:5,y:3,number:-1},{x:0,y:4,number:-1},{x:1,y:4,number:-1},{x:2,y:4,number:-1},{x:3,y:4,number:-1},{x:4,y:4,number:-1},{x:5,y:4,number:-1},{x:0,y:5,number:-1},{x:1,y:5,number:-1},{x:2,y:5,number:-1},{x:3,y:5,number:-1},{x:4,y:5,number:-1},{x:5,y:5,number:-1},{x:0,y:6,number:-1},{x:1,y:6,number:-1},{x:4,y:6,number:-1},{x:5,y:6,number:-1},{x:0,y:7,number:-1},{x:1,y:7,number:-1},{x:2,y:7,number:-1},{x:3,y:7,number:-1},{x:4,y:7,number:-1},{x:5,y:7,number:-1},{x:1,y:8,number:-1},{x:2,y:8,number:-1},{x:3,y:8,number:-1},{x:4,y:8,number:-1}],collapseDeltas:[{x:1,y:0},{x:0,y:1}],collapseStartMove:5,tilesAmount:15}],kt=function(e){function t(e){var n;return o()(this,t),(n=d()(this,f()(t).call(this)))._data=e,n}var n,i,s,r,c,u;return m()(t,e),a()(t,[{key:"getLevelsForTutorial",value:(u=X()(Y.a.mark(function e(){var t,n,i,o,s,a;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],(n=[[3,9],[2,6],[4,7,41,107],[120,108,158]]).forEach(function(e){return e.sort(function(){return.5-Math.random()})}),(i=[1,n[0][0],n[2][0],n[1][0],n[3][1],n[3][0],n[2][1],n[2][2],n[2][3],n[2][0],n[2][1],n[3][0],n[2][2],n[3][1],n[2][3],n[2][0],n[3][2],n[3][1],n[3][2],n[3][0],n[3][1],n[3][2],n[3][0]]).push.apply(i,ve()(i.slice(10))),o=0;o<10;++o)i.push.apply(i,ve()(i.slice(-10)));for(s=function(e){for(var n=i[e],o=JSON.parse(JSON.stringify(xt.find(function(e){return e.id===n}))),s=[],a=[2,3,5,6,7,8,9,10,11,12,13,14,15,16],r=1;r<=17;++r)a.includes(r)||s.push(r);s.sort(function(){return.5-Math.random()});var c=10;c=Math.min(17,10+e),0===e&&(c=8),o.tilesAmount=c,o.tiles=[].concat(a,s).slice(0,o.tilesAmount),o.collapseStartMove=1,o.collapseDeltas=[[-1,0],[1,0],[0,-1],[0,1]].map(function(e){var t=O()(e,2);return{x:t[0],y:t[1]}}),0===e&&(o.collapseStartMove=100),t.push(o)},a=0;a<i.length;++a)s(a);return e.abrupt("return",t.map(function(e){return new _t(e)}));case 9:case"end":return e.stop()}},e)})),function(){return u.apply(this,arguments)})},{key:"getLevelsForGame",value:(c=X()(Y.a.mark(function e(t){var n,i,o,s,a,r;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],(i=[[3,9],[2,6],[4,7,41,107],[120,108,158]]).forEach(function(e){return e.sort(function(){return.5-Math.random()})}),(o=[i[0][0],i[2][0],i[1][0],i[3][1],i[3][0],i[2][1],i[2][2],i[2][3],i[2][0],i[2][1],i[3][0],i[2][2],i[3][1],i[2][3],i[2][0],i[3][2],i[3][1],i[3][2],i[3][0],i[3][1],i[3][2],i[3][0]]).push.apply(o,ve()(o.slice(10))),s=0;s<10;++s)o.push.apply(o,ve()(o.slice(-10)));for(console.log(o.slice(0,5)),a=function(e){for(var i=o[e],s=JSON.parse(JSON.stringify(xt.find(function(e){return e.id===i}))),a=[],r=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17].sort(function(){return.5-Math.random()}),c=1;c<=17;++c)r.includes(c)||a.push(c);a.sort(function(){return.5-Math.random()}),s.tilesAmount=t,e>3?s.tilesAmount=15:e>5?s.tilesAmount=16:e>7&&(s.tilesAmount=17),s.tiles=[].concat(ve()(r),a).slice(0,s.tilesAmount),s.collapseStartMove=1,s.collapseDeltas=[[-1,0],[1,0],[0,-1],[0,1]].map(function(e){var t=O()(e,2);return{x:t[0],y:t[1]}}),n.push(s)},r=0;r<o.length;++r)a(r);return e.abrupt("return",n.map(function(e){return new _t(e)}));case 10:case"end":return e.stop()}},e)})),function(e){return c.apply(this,arguments)})},{key:"getLevel",value:(r=X()(Y.a.mark(function e(t){var n;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._data.get("levels",{},{})[t]||xt[t],e.abrupt("return",n&&new _t(n));case 2:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"getIds",value:(s=X()(Y.a.mark(function e(){var t;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object.assign({},this._data.get("levels",{},{}),xt),e.abrupt("return",Object.values(t).map(function(e){return e.id}));case 2:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"save",value:(i=X()(Y.a.mark(function e(t,n){var i;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(i=this._data.get("levels",{},{}))[t.level.id]={id:t.level.id,moves:t.moves,dots:n,map:{layers:t.levelMap.toJSON()},tasks:t.taskManager.tasks},this._data.set("levels",i);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return i.apply(this,arguments)})},{key:"removeLevel",value:(n=X()(Y.a.mark(function e(t){var n;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:delete(n=this._data.get("levels",{},{}))[t],this._data.set("levels",n);case 3:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})}]),t}(lt.a),St={DE:n(221),ENG:n(222),ES:n(223),FR:n(224),IT:n(225),PL:n(226),PT:n(227),RUS:n(228)},Et=function(e){function t(e){var n;return o()(this,t),(n=d()(this,f()(t).call(this))).language=e,n}var n;return m()(t,e),a()(t,[{key:"init",value:(n=X()(Y.a.mark(function e(){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.params.glossary=Object.assign(window.params.glossary,this.getGlossary());case 1:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"getGlossary",value:function(){return St[this.language.value]?St[this.language.value]:St.RUS}}]),t}(Re.x),Tt=n(60),Pt=n.n(Tt),Ot=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";o()(this,e),this.events=new $e.EventEmitter,this._namespace=t,this._isAvailable=this._checkAvailableLocalStorage(),this._data=this._initData(),this._validateVersion(n)}return a()(e,[{key:"_getDefaultData",value:function(){return{}}},{key:"_checkAvailableLocalStorage",value:function(){try{var e="checkLocalStorage";return localStorage.setItem(e,e),localStorage.getItem(e),localStorage.removeItem(e),!0}catch(e){return console.warn(e),!1}}},{key:"_initData",value:function(){var e=this._getDefaultData();if(this.isAvailable)for(var t="".concat(this._namespace,"."),n=0;n<localStorage.length;n++){var i=localStorage.key(n);if(i.includes(t))try{e[i.slice(t.length)]=JSON.parse(localStorage.getItem(i))}catch(e){console.warn(e)}}return e}},{key:"_validateVersion",value:function(e){if(e&&this.get("version")!==e){for(var t in this._data)this.remove(t);this._data=this._getDefaultData(),this.set("version",e)}}},{key:"_save",value:function(e){if(this.isAvailable){var t="".concat(this._namespace,".").concat(e);void 0!==this._data[e]?localStorage.setItem(t,JSON.stringify(this._data[e])):localStorage.removeItem(t)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return Object.prototype.hasOwnProperty.call(this._data,e)?this._data[e]:this.isAvailable?t:n}},{key:"set",value:function(e,t){null!==t&&"object"===Pt()(t)?this._data[e]=JSON.parse(JSON.stringify(t)):this._data[e]=t,this._save(e),this.events.emit("change:".concat(e))}},{key:"assign",value:function(e,t){this._data[e]=Object.assign(this.get(e,{},{}),t),this._save(e),this.events.emit("change:".concat(e))}},{key:"merge",value:function(e,t){this._data[e]=se.a.merge(this.get(e,{},{}),t),this._save(e),this.events.emit("change:".concat(e))}},{key:"remove",value:function(e){this.set(e,void 0),this.events.emit("change:".concat(e))}},{key:"isAvailable",get:function(){return this._isAvailable}}]),e}(),Ct=function(){function e(t,n,i){o()(this,e),this.data=t,this.key=n,this.defaultValue=i}return a()(e,[{key:"_getValue",value:function(){return this.data.get(this.key,this.defaultValue)}},{key:"value",get:function(){return this._getValue()},set:function(e){this.data.set(this.key,e)}}]),e}(),At=function(){function e(t){o()(this,e),k()(this,"_dataStorage",void 0),k()(this,"_languageProperty",void 0),this._dataStorage=t;var n=V.ENG;this._languageProperty=new Ct(t,"language",n.valueOf())}var t;return a()(e,[{key:"init",value:function(){}},{key:"updateLanguage",value:(t=X()(Y.a.mark(function e(t){var n,i;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(n=V.findByValue(t))&&(this._languageProperty.value=n.valueOf(),null!==(i=this._dataStorage.get("viewer",null))&&(i.language=n.valueOf(),this._dataStorage.set("viewer",i)));case 2:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"language",get:function(){return V.findByValue(this._languageProperty.value)}},{key:"locale",get:function(){return this.language.locale}}]),e}(),It=n(20),Rt=n.n(It),Nt=function(e){function t(){var e;o()(this,t),(e=d()(this,f()(t).call(this)))._fadeOpacity=195,e._events=new $e.EventEmitter,e._isFadeIn=!1;var n=cc.view.getViewPortRect().x/cc.view.getScaleX(),i=cc.view.getViewPortRect().y/cc.view.getScaleY(),s=cc.view.getCanvasSize().width/cc.view.getScaleX(),a=cc.view.getCanvasSize().height/cc.view.getScaleY();return e._fade=new cc.LayerColor(cc.color(0,0,0,0),s,a),e._fade.setPosition(-n,-i),e.addChild(e._fade,-1),cc.eventManager.addListener({event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:e._onTouchBegan.bind(Rt()(e)),onTouchEnded:e._onTouchEnded.bind(Rt()(e)),swallowTouches:!0},e._fade),e._inputEnabled=!0,e}return m()(t,e),a()(t,[{key:"setFadeColor",value:function(e){this._fade.setColor(e)}},{key:"onEnter",value:function(){Me()(f()(t.prototype),"onEnter",this).call(this);var e=new cc.EventCustom(te.j.WIDGET_ENTERED);e.setUserData({widget:this}),cc.eventManager.dispatchEvent(e)}},{key:"_onTouchBegan",value:function(e){return!!this.isFadeIn&&(this.isFade&&this._inputEnabled&&(this._fade.children.some(function(t){return cc.rectContainsPoint(t.getBoundingBoxToWorld(),e.getLocation())})?this.events.emit("touchOnChild",e):this.events.emit("touchOnFade",e)),!0)}},{key:"_onTouchEnded",value:function(){return!!this.isFadeIn}},{key:"fadeIn",value:function(){var e=this;return this.events.emit("before:fadeIn"),this._isFadeIn=!0,new Promise(function(t){var n=[cc.fadeTo(e._getFadeDuration(),e._getFadeOpacity()),cc.callFunc(e.events.emit.bind(e.events,"fadeIn")),cc.callFunc(function(){e._inputEnabled=!0,t()})];e._fade.runAction(cc.sequence(n))})}},{key:"fadeOut",value:function(){var e=this;return this.events.emit("before:fadeOut"),new Promise(function(t){var n=[cc.callFunc(function(){return e._fade.removeAllChildren(!0)}),cc.fadeOut(e._getFadeDuration()),cc.callFunc(e.events.emit.bind(e.events,"fadeOut")),cc.callFunc(function(){return e._isFadeIn=!1}),cc.callFunc(t)];e._fade.runAction(cc.sequence(n))})}},{key:"clear",value:function(){this.events.removeAllListeners()}},{key:"_getFadeOpacity",value:function(){return this._fadeOpacity}},{key:"setFadeOpacity",value:function(e){this._fadeOpacity=e}},{key:"_getFadeDuration",value:function(){return.175}},{key:"events",get:function(){return this._events}},{key:"inputEnabled",get:function(){return this._inputEnabled},set:function(e){this._inputEnabled=e}},{key:"isFade",get:function(){return this._fade.getOpacity()===this._getFadeOpacity()}},{key:"isFadeIn",get:function(){return this._isFadeIn}},{key:"fade",get:function(){return this._fade}},{key:"rect",set:function(e){this._fade.width=e.width,this._fade.height=e.height,this._fade.setPosition(cc.p(e.x,e.y))}}]),t}(cc.Node),Ft=function(e){function t(){var e;return o()(this,t),(e=d()(this,f()(t).call(this)))._events=new $e.EventEmitter,e._actions=null,e._fader=e._createFader(),e.addChild(e._fader,Number.MAX_SAFE_INTEGER-1),e.schedule(e.events.emit.bind(e.events,"tick"),1),e}return m()(t,e),a()(t,[{key:"_createFader",value:function(){return new Nt}},{key:"events",get:function(){return this._events}},{key:"fader",get:function(){return this._fader}},{key:"actions",get:function(){return this._actions},set:function(e){this._actions=e}}]),t}(cc.Scene),Bt=n(46),zt=n(91),Mt=n(229),Lt="popups",Ut=function(){function e(t){var n=t.fader,i=t.dataStorage;o()(this,e),this._fader=n,this._dataStorage=i,this._countOpenPopup=0,this._currentPopup=null,this._disabledHideShadow=!1,this._dataStorage.set(Lt,Object.entries(this._dataStorage.get(Lt,{},{})).reduce(function(e,t){var n=O()(t,2),i=n[0],o=n[1];return e[i]=Object.assign(o,{sessionViews:0}),e},{})),this.events=new $e.EventEmitter}var t;return a()(e,[{key:"getPopupInfo",value:function(e){var t=this._dataStorage.get(Lt)[e]||{key:e};return new Mt.a(t)}},{key:"_savePopupInfo",value:function(e){this._dataStorage.assign(Lt,k()({},e.key,e))}},{key:"_setCurrentPopup",value:function(e){if(e){var t=this.getPopupInfo(e.key);t.lastShow=Date.now(),++t.sessionViews,++t.views,this._savePopupInfo(t)}this._currentPopup=e}},{key:"_hideCurrentPopup",value:function(){var e=this,t=this.currentPopup;return t?(this._setCurrentPopup(null),t.hide().then(function(){return e.events.emit("hidePopup",t),t.removeFromParent()})):Promise.resolve()}},{key:"openPopup",value:function(e){var t=this;return this._countOpenPopup++,this._hideCurrentPopup().then(function(){return t._fader.fade.addChild(e)}).then(function(){return t._fader.isFadeIn?null:t._showShadow()}).then(function(){return t._setCurrentPopup(e)}).then(function(){return e.show()})}},{key:"closeCurrentPopup",value:function(){var e=this;return this._hideCurrentPopup().then(function(){return e._disabledHideShadow?null:e.hideShadow()})}},{key:"_showShadow",value:function(){return this._fader.fadeIn()}},{key:"hideShadow",value:(t=X()(Y.a.mark(function e(){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._fader.fadeOut();case 2:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"isShadowShowed",value:function(){return this._fader.isFade}},{key:"disableHideShadow",value:function(){var e=this;this._fader.events.once("before:fadeOut",function(){e._disabledHideShadow=!1}),this._disabledHideShadow=!0}},{key:"enableHideShadow",value:function(){this._disabledHideShadow=!1}},{key:"canShow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.getPopupInfo(e);return!(t&&Date.now()-i.lastShow<t)&&!(n&&i.sessionViews>=n)}},{key:"currentPopup",get:function(){return this._currentPopup}},{key:"disabledHideShadow",get:function(){return this._disabledHideShadow}}]),e}(),Ht=function(e){function t(e){var n;return o()(this,t),(n=d()(this,f()(t).call(this,Object.assign(e,{correctBoundingBox:!0})))).options.anchorPoint&&n.setAnchorPoint(n.options.anchorPoint),n}return m()(t,e),a()(t,[{key:"getBoundingBoxToWorld",value:function(){if(this.options.boundingBoxOffset){var e=this._skeletonAnimation.getBoundingBoxToWorld(),n=this.options.boundingBoxOffset;return cc.rect(e.x+n.x,e.y+n.y,e.width+n.width,e.height+n.height)}return Me()(f()(t.prototype),"getBoundingBoxToWorld",this).call(this)}},{key:"clearTrack",value:function(e){this._skeletonAnimation.clearTrack(e)}},{key:"skeleton",get:function(){return this._skeletonAnimation}}]),t}(te.a),Dt=1/1.5,jt=function(e){function t(e,n){var i;return o()(this,t),(i=d()(this,f()(t).call(this,n)))._thing=e,i._thingNumber=e.number,i.bg=new cc.Sprite(ke.getImage(n.bg)),i.bg.setScale(Dt),i.addChild(i.bg,0),i._selected=new cc.Sprite(ke.getImage(n.selected)),i._selected.setScale(Dt),i._selected.setOpacity(0),i.addChild(i._selected,1),i._tip=new cc.Sprite(ke.getImage(n.tip)),i._tip.setOpacity(0),i.addChild(i._tip,1),i.icon=new cc.Sprite(ke.getImage(n.icon)),i.icon.setPosition(cc.p(0,2)),i.icon.setScale(Dt),i.addChild(i.icon,5),Object(ie.a)(Rt()(i)),i.hammers=[],i._removed=!1,i._onTouch=i._onTouch.bind(Rt()(i)),i._thing.events.on("touch",i._onTouch),i}var n,i,s;return m()(t,e),a()(t,[{key:"_onTouch",value:function(){return this.animate()}},{key:"onRemove",value:(s=X()(Y.a.mark(function e(){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._removed=!0,e.next=3,this._animateRemove();case 3:this.removeFromParent();case 4:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"onHammerHit",value:(i=X()(Y.a.mark(function e(){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._removed=!0,e.next=4,se.a.runCocosAction(this,cc.spawn([cc.fadeOut(.35),cc.rotateBy(.35,-360),cc.moveBy(.35,cc.p(-20,-200))]));case 4:this.removeFromParent();case 5:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"select",value:function(){this.setLocalZOrder(this.getLocalZOrder()+100),this._selected.stopAllActions(),this._selected.runAction(cc.fadeIn(.12)),this.icon.stopAllActions(),this.icon.runAction(cc.scaleTo(.12,1.08*Dt))}},{key:"free",value:function(){this.setLocalZOrder(this.getLocalZOrder()-100),this._selected.stopAllActions(),this._selected.runAction(cc.fadeOut(.12)),this.icon.stopAllActions(),this.icon.runAction(cc.scaleTo(.12,Dt))}},{key:"animate",value:function(){return se.a.runCocosAction(this,cc.sequence([cc.scaleTo(.2,1.15),cc.scaleTo(.2,1)]))}},{key:"startTip",value:function(){this._tip.stopAllActions(),this._tip.runAction(cc.fadeIn(.12)),this.icon.stopAllActions(),this.icon.runAction(cc.repeatForever(cc.sequence([cc.scaleTo(.5,1.08*Dt),cc.scaleTo(.5,.95*Dt)])))}},{key:"stopTip",value:function(){this._tip.stopAllActions(),this._tip.setOpacity(0),this.icon.stopAllActions(),this.icon.setScale(Dt)}},{key:"_animateRemove",value:(n=X()(Y.a.mark(function e(){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,se.a.runCocosAction(this,cc.sequence([cc.scaleTo(.32,0),cc.fadeOut(.32)]));case 3:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"onExit",value:function(){Me()(f()(t.prototype),"onExit",this).call(this),this.thing.events.removeListener("touch",this._onTouch)}},{key:"addTutorial",value:function(){this.tutorial&&this.removeTutorial(),this.setEventEnabled(!1),this.tutorial=new cc.Sprite(ke.getImage("tile-bg-tutorial")),this.tutorial.setScale(Dt),this.addChild(this.tutorial,10)}},{key:"removeTutorial",value:function(){this.tutorial&&this.tutorial.parent&&(this.setEventEnabled(!0),this.tutorial.removeFromParent(),this.tutorial=void 0)}},{key:"addHammer",value:function(){var e=this;this.hammers.length&&this.removeHammers();for(var t=function(t){var n=new Ht(se.a.merge({position:cc.p(158,118),scale:1,anchorPoint:cc.p(.5,.5)},ke.getSpineAtlas(he.hammer)));n.skeleton.setAnchorPoint(cc.p(.5,.5)),n.skeleton.setScale(.65),e.addChild(n,10),e.setLocalZOrder(e.getLocalZOrder()+100),n.setAsyncAnimation(5,"appear").then(function(){n.setAnimation(6,"idle",!0),n.setAnimation(7,"preHitLoop",!0)}),e.hammers.push(n)},n=0;n<2;++n)t()}},{key:"removeHammers",value:function(){this.hammers.length&&this.hammers.splice(0).forEach(function(e){return e.removeFromParent()})}},{key:"getBoundingBoxToWorldForInput",value:function(){var e=Me()(f()(t.prototype),"getBoundingBoxToWorld",this).call(this);return e.x-=6,e.y-=6,e.width+=12,e.height+=12,e}},{key:"width",get:function(){return this.children.reduce(function(e,t){return cc.rectUnion(e,t._getBoundingBoxToCurrentNode())},cc.rect(0,0,0,0)).width}},{key:"height",get:function(){return this.children.reduce(function(e,t){return cc.rectUnion(e,t._getBoundingBoxToCurrentNode())},cc.rect(0,0,0,0)).height}},{key:"removed",get:function(){return this._removed}},{key:"thing",get:function(){return this._thing}},{key:"thingNumber",get:function(){return this._thingNumber}}]),t}(te.k),Gt=function(){function e(t,n){o()(this,e),k()(this,"x",void 0),k()(this,"y",void 0),this.x=t,this.y=n}return a()(e,[{key:"isNeighbor",value:function(e){return e.x==this.x&&1==Math.abs(e.y-this.y)||e.y==this.y&&1==Math.abs(e.x-this.x)}},{key:"isEqual",value:function(e){return this.x===e.x&&this.y===e.y}},{key:"update",value:function(e){this.x=e.x,this.y=e.y}},{key:"scale",value:function(t){return new e(this.x*t,this.y*t)}}]),e}(),Wt=[[-1,0],[1,0],[0,-1],[0,1]].map(function(e){var t=O()(e,2),n=t[0],i=t[1];return new Gt(n,i)});[[-1,0],[-1,-1],[1,0],[1,1],[0,-1],[-1,1],[0,1],[1,-1]].map(function(e){var t=O()(e,2),n=t[0],i=t[1];return new Gt(n,i)});!function(e){e.hammer="hammer",e.TUTORIAL="tutorial"}(wt||(wt={}));var Vt,qt=function e(t){o()(this,e),k()(this,"name",void 0),this.name=t},Kt=function(e){function t(e,n){var i;return o()(this,t),i=d()(this,f()(t).call(this,e)),k()(Rt()(i),"_value",void 0),k()(Rt()(i),"events",void 0),i._value=n,i.events=new $e.EventEmitter,i}return m()(t,e),a()(t,[{key:"value",get:function(){return this._value},set:function(e){var t=this._value;this._value=e,this.events.emit("update",t,e)}}]),t}(qt),Jt=function(){function e(t){o()(this,e),k()(this,"_components",void 0),this._components=t}return a()(e,[{key:"add",value:function(e){this.remove(e),this._components.push(e)}},{key:"remove",value:function(e){var t=this._components.findIndex(function(t){return t.name===e.name});t>=0&&this._components.splice(t,1)}},{key:"getNumberComponent",value:function(e){var t=this._components.find(function(t){return t.name===e});if(t&&t instanceof Kt)return t}},{key:"getHammerComponent",value:function(){var e=this._components.find(function(e){return e.name===wt.hammer});if(e&&e instanceof qt)return e}},{key:"getTutorialComponent",value:function(){var e=this._components.find(function(e){return e.name===wt.TUTORIAL});if(e&&e instanceof qt)return e}},{key:"removeByName",value:function(e){var t=this;this._components.filter(function(t){return t.name===e}).forEach(function(e){return t.remove(e)})}}]),e}();!function(e){e[e.RANDOM=-1]="RANDOM",e[e.OUT=0]="OUT"}(Vt||(Vt={}));var Yt,Zt=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];o()(this,e),k()(this,"x",void 0),k()(this,"y",void 0),k()(this,"number",void 0),k()(this,"events",void 0),k()(this,"componentManager",void 0),this.x=t.x,this.y=t.y,this.number=n,this.events=new $e.EventEmitter,this.componentManager=new Jt(i)}return a()(e,[{key:"toJSON",value:function(){return{x:this.x,y:this.y,number:this.number}}},{key:"onTouch",value:function(){this.events.emit("touch")}},{key:"onRemove",value:function(){this.events.emit("remove")}},{key:"position",get:function(){return new Gt(this.x,this.y)},set:function(e){this.x=e.x,this.y=e.y}}]),e}(),Xt=function(){function e(){o()(this,e)}return a()(e,[{key:"create",value:function(e){return new Zt(new Gt(e.x,e.y),void 0===e.number?Vt.OUT:e.number)}}]),e}(),Qt=function e(t,n,i){o()(this,e),this.steps=t,this.turns=n,this.added=i},$t=function e(t){o()(this,e),this.edges=t,this.used=!1},en=function(){function e(t,n,i,s){o()(this,e),this._maxTurns=s,this._fromPosition=new Gt(n.x+1,n.y+1),this._toPosition=new Gt(i.x+1,i.y+1),this._bufferField=new Array(t.length+2).fill(null).map(function(){return new Array(t[0].length+2).fill(void 0)}),this._bufferField.forEach(function(e,n){e.forEach(function(i,o){var s=t[n-1];s&&(e[o]=!!s[o-1]&&s[o-1].number!==Vt.OUT)})}),this._bufferField[this._fromPosition.y][this._fromPosition.x]=void 0,this._bufferField[this._toPosition.y][this._toPosition.x]=void 0,this._height=this._bufferField.length,this._width=this._bufferField[0].length,this._nodes=[]}return a()(e,[{key:"_positionToIndex",value:function(e){return e.y*this._width+e.x}},{key:"build",value:function(){var e=this._build();if(!e.length){var t=new Gt(this._toPosition.x,this._toPosition.y);return this._toPosition=new Gt(this._fromPosition.x,this._fromPosition.y),this._fromPosition=t,this._build().reverse()}return e}},{key:"_build",value:function(){var e=this,t=[];if(2===this._maxTurns){if(this._fromPosition.y===this._toPosition.y){for(var n=(this._toPosition.x-this._fromPosition.x)/Math.abs(this._toPosition.x-this._fromPosition.x),i=this._fromPosition.x;i!==this._toPosition.x;i+=n)t.push(new Gt(i,this._fromPosition.y));if(t.every(function(t){return!e._bufferField[t.y][t.x]}))return t.concat([this._toPosition]).map(function(e){return new Gt(e.x-1,e.y-1)})}if(this._fromPosition.x===this._toPosition.x){for(var o=(this._toPosition.y-this._fromPosition.y)/Math.abs(this._toPosition.y-this._fromPosition.y),s=this._fromPosition.y;s!==this._toPosition.y;s+=o)t.push(new Gt(this._fromPosition.x,s));if(t.every(function(t){return!e._bufferField[t.y][t.x]}))return t.concat([this._toPosition]).map(function(e){return new Gt(e.x-1,e.y-1)})}}this._nodes=new Array(this._height*this._width).fill(null).map(function(){return new $t(Wt.map(function(){return new Qt(e._width*e._height,e._maxTurns+1,!1)}))});var a=[this._fromPosition];this._nodes[this._positionToIndex(this._fromPosition)].edges.forEach(function(e){e.steps=0,e.turns=0});for(var r=function(){var n=a.shift(),i=e._positionToIndex(n),o=e._nodes[i];if(o.used=!0,n.isEqual(e._toPosition))return"break";var s=o.edges;Wt.forEach(function(i,o){var r=new Gt(n.x+i.x,n.y+i.y);if(!(r.x<0||r.y<0||r.x>=e._width||r.y>=e._height||t.some(function(e){return e.isEqual(r)}))){var c=e._positionToIndex(r),u=e._nodes[c],p=u.edges;e._bufferField[r.y][r.x]||u.used||Wt.forEach(function(t,n){var i=o===n?0:1,c=i+s[n].turns<=e._maxTurns,u=s[n].steps<p[o].steps,l=s[n].turns+i<p[o].turns;u&&l&&c&&(p[o].turns=s[n].turns+i,p[o].steps=s[n].steps+1,p[o].added||(p[o].added=!0,a.push(r)))})}})};a.length;){if("break"===r())break}return this._nodes[this._positionToIndex(this._toPosition)].used?this._buildWay():[]}},{key:"_buildWay",value:function(){for(var e=new Gt(this._toPosition.x,this._toPosition.y),t=[e],n=-1;!e.isEqual(this._fromPosition);){for(var i=0,o=0;o<Wt.length;++o){var s=-1===n||n===o?0:1,a=this._positionToIndex(e),r=this._nodes[a].edges;(r[o].steps<r[i].steps||r[o].steps===r[i].steps&&r[o].turns+s<=r[i].turns)&&(i=o)}e=new Gt(e.x-Wt[i].x,e.y-Wt[i].y),n=i,t.push(e)}return t.reverse().map(function(e){return new Gt(e.x-1,e.y-1)})}}]),e}(),tn=cc.size(8,9),nn=function(){function e(t){var n=this;o()(this,e),k()(this,"thingFactory",void 0),k()(this,"field",void 0),k()(this,"startRect",cc.rect(0,0,0,0)),this.thingFactory=new Xt,this.field=new Array(this.height).fill(null).map(function(e,t){return new Array(n.width).fill(null).map(function(e,n){return new Zt(new Gt(n,t),Vt.OUT)})}),t.forEach(function(e){var t=n.thingFactory.create(e);n.addThing(t)})}return a()(e,[{key:"addThing",value:function(e){var t=this.field[e.y];t&&(t[e.x]=e)}},{key:"removeThing",value:function(e){var t=this.getThing(e);t&&(t.number=Vt.OUT)}},{key:"shuffle",value:function(t){var n=this;if(2===this.things.length){var i=this.things,o=O()(i,2),s=o[0],a=o[1],r=s.position;return s.position=a.position,a.position=r,this.addThing(s),void this.addThing(a)}var c=new e(this.toJSON()),u=new e([]);u.field.forEach(function(e,t){e.forEach(function(e,i){var o=n.getThing(new Gt(i,t));o&&u.addThing(o)})});var p=this.things.map(function(e){return e.number}).sort().map(function(e,t){return t%2==0?e:Vt.OUT}).filter(function(e){return e!==Vt.OUT});c.fillRandom(p,t);for(var l=[],d=0;d<this.height;++d)for(var h=function(e){var t=c.getThing(new Gt(e,d));if(t&&t.number!==Vt.OUT){var i=n.getThing(t.position);if(!i)throw new Error("Не смогли найти thing1");var o=n.things.filter(function(e){return!l.includes(e)}).find(function(e){return e.number===t.number});if(!o)throw new Error("Не смогли найти thing2");l.push(o),i.position=o.position,o.position=t.position,n.addThing(i),n.addThing(o)}},f=0;f<this.width;++f)h(f);for(var g=0;g<this.height;++g){var m=function(e){var t=new Gt(e,g),i=u.getThing(t),o=n.getThing(t);if(i&&o&&i===o){var s=n.things.find(function(e){return e!==o&&e.number===o.number});s&&(o.position=s.position,s.position=t,n.addThing(o),n.addThing(s))}};for(f=0;f<this.width;++f)m(f)}}},{key:"fillRandom",value:function(e,t){for(var n=this,i=function(i,o){var s=n.things.sort(function(){return Math.random()<.5?1:-1}),a=function(e,t){var i;Math.random()<t&&(i=function(e){return s.findIndex(function(t){return n.getNeighbors([t.position],Wt).concat([t]).every(function(t){return t.number!==e})})}(e)),void 0===i&&(i=se.a.getRandomInt(0,s.length));var o=s.splice(i,1),a=O()(o,1)[0];a&&(a.number=e)};e.forEach(function(e){a(e,i),a(e,o)});var r=n.things.length/2<10?2:4;return n.findAllConnects(t).length>=r},o=1;!i(1/Math.pow(1.5,o-1),1/Math.pow(1.25,o-1));)++o,this.things.forEach(function(e){return e.number=Vt.RANDOM})}},{key:"getNeighbors",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wt,i=e.slice(0);return e.reduce(function(e,o){return n.forEach(function(n){var s=new Gt(o.x+n.x,o.y+n.y),a=t.getThing(s);a instanceof Zt&&a.position.isEqual(s)&&!i.some(function(e){return e.isEqual(s)})&&(i.push(s),e.push(a))}),e},[])}},{key:"print",value:function(){for(var e="",t=this.height-1;t>=0;--t){for(var n=0;n<this.width;++n){var i=this.getThing(new Gt(n,t));e+="|".concat(i&&i.number!==Vt.OUT?i.number:"-")}e+="|\n"}console.log(e)}},{key:"getRect",value:function(){var e=cc.p(this.width-1,this.height-1),t=cc.p(0,0);return this.things.forEach(function(n){e.x=Math.min(e.x,n.x),e.y=Math.min(e.y,n.y),t.x=Math.max(t.x,n.x),t.y=Math.max(t.y,n.y)}),cc.rect(e.x,e.y,t.x-e.x+1,t.y-e.y+1)}},{key:"getColumn",value:function(e){for(var t=[],n=0;n<this.height;++n)t.push(this.getThing(new Gt(e,n)));return t}},{key:"reduceWidth",value:function(){for(var e=!1,t=this.getRect(),n=t.y;n<t.y+t.height;++n){var i=this.field[n].filter(function(e){return e.number!==Vt.OUT});if(i.length){var o=this.getRect(),s=o.x,a=o.x+o.width-1;if(1===i.length){var r=i[0];if(o.width%2&&r.x===(a+s)/2)continue;if(Math.abs((a+s)/2-r.x)<1.5)continue}e=this.shift(new Gt(-1,0),new Gt(Math.ceil((a+s)/2)+1,n),new Gt(a+1,n+1))||e,e=this.shift(new Gt(1,0),new Gt(Math.floor((a+s)/2)-1,n),new Gt(s-1,n+1))||e}}return e}},{key:"reduceHeight",value:function(){for(var e=!1,t=this.getRect(),n=t.x;n<t.x+t.width;++n){var i=this.getColumn(n).filter(function(e){return e.number!==Vt.OUT});if(i.length){var o=this.getRect(),s=o.y,a=o.y+o.height-1;if(1===i.length){var r=i[0];if(o.height%2&&r.y===(a+s)/2)continue;if(Math.abs((a+s)/2-r.y)<1.5)continue}e=this.shift(new Gt(0,-1),new Gt(n,Math.ceil((a+s)/2)+1),new Gt(n+1,a+1))||e,e=this.shift(new Gt(0,1),new Gt(n,Math.floor((a+s)/2)-1),new Gt(n+1,s-1))||e}}return e}},{key:"reduce",value:function(){var e=this.getRect();return e.width>e.height?this.reduceWidth()||this.reduceHeight():this.reduceHeight()||this.reduceWidth()}},{key:"shift",value:function(e,t,n){for(var i=!1,o=new Gt(0===e.x?1:-e.x,0===e.y?1:-e.y),s=new Gt(t.x,t.y),a=new Gt(o.x,o.y),r=t.y;r!==n.y;r+=a.y)for(var c=t.x;c!==n.x;c+=a.x)if(a.update(o),0!==e.y&&r===t.y+e.y||0!==e.x&&c===t.x+e.x)c=s.x,r=s.y;else{var u=new Gt(c,r),p=this.getThing(u);if(p&&p.number!==Vt.OUT){var l=new Gt(c+e.x,r+e.y),d=this.getThing(l);d||(d=new Zt(l,Vt.OUT)),d.number===Vt.OUT&&(i=!0,p.position=l,this.addThing(p),d.position=u,this.addThing(d),s.update(u),c=l.x,r=l.y,a.x=0,a.y=0)}}return i}},{key:"collapse",value:function(e){var t=this.getRect(),n=[[new Gt(-1,0),new Gt(t.x+1,0),new Gt(this.width,this.height)],[new Gt(1,0),new Gt(t.x+t.width-2,0),new Gt(-1,this.height)],[new Gt(0,-1),new Gt(0,t.y+1),new Gt(this.width,this.height)],[new Gt(0,1),new Gt(0,t.y+t.height-2),new Gt(this.width,-1)]].find(function(t){return t[0].isEqual(e)});if(!n)throw new Error("Неправильный delta");return this.shift(n[0],n[1],n[2])}},{key:"toJSON",value:function(){return this.things.map(function(e){return e.toJSON()})}},{key:"getThing",value:function(e){var t=this.field[e.y];if(t)return t[e.x]}},{key:"buildWay",value:function(e,t,n){return new en(this.field,e,t,n).build()}},{key:"findAllConnects",value:function(e){var t=this,n=[];this.field.flat().filter(function(e){return e.number!==Vt.OUT}).sort(function(e,t){return e.number-t.number}).forEach(function(e){var t=n[e.number];t?t.push(e):n[e.number]=[e]});var i=[];n.forEach(function(e){for(var t=0;t<e.length-1;++t)for(var n=t+1;n<e.length;++n){var o=e[t],s=e[n];o&&s&&i.push([o,s])}});var o=[];return i.forEach(function(n){var i=O()(n,2),s=i[0],a=i[1],r=new en(t.field,s.position,a.position,e).build();r.length&&o.push([s,a,r])}),o.sort(function(e,t){return e[2].length-t[2].length})}},{key:"moveCycle",value:function(e){for(var t=this,n=e.map(function(e){return t.getThing(e)}),i=0;i<e.length;++i){var o=n[i];o.position=e[(i+1)%e.length],this.addThing(o)}}},{key:"moveSquare",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1?arguments[1]:void 0,o=se.a.shuffle(this.things),s=[],a=[new Gt(1,0),new Gt(1,-1),new Gt(0,-1)],r=a.slice(0).reverse(),c=0,u=!0,p=!1,l=void 0;try{for(var d,h=function(){var o=d.value.position,u=c%2?a:r,p=u.map(function(e){var n=new Gt(o.x+e.x,o.y+e.y),i=t.getThing(n);return i&&i.number!==Vt.OUT&&n}).filter(Boolean),l=[o].concat(ve()(p));if(l.some(function(e){return s.some(function(t){return t.isEqual(e)})}))return"continue";if(p.length!==u.length)return"continue";var h=new e(t.toJSON());return h.moveCycle(l),h.findAllConnects(i).length>0&&(t.moveCycle(l),s.push.apply(s,ve()(l)),++c===n)?{v:!0}:void 0},f=o[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var g=h();switch(g){case"continue":continue;default:if("object"===Pt()(g))return g.v}}}catch(e){p=!0,l=e}finally{try{u||null==f.return||f.return()}finally{if(p)throw l}}return c>0}},{key:"moveColumns",value:function(){for(var e=this.getRect(),t=[],n=0,i=0;i<this.width;++i){var o=this.getColumn(i).filter(function(e){return e.number!==Vt.OUT});if(o.length){var s=0;if(n?n>0&&o[0].y>e.y?s=-1:n<0&&o[o.length-1].y<e.y+e.height-1&&(s=1):(o[0].y>e.y&&(s=-1),o[o.length-1].y<e.y+e.height-1&&(!s||Math.random()<.5)&&(s=1)),s){n=s,s<0&&o.reverse(),t.push(o);for(var a=0;a<o.length;++a){var r=o[a],c=r.position;r.position=new Gt(c.x,c.y+s),this.addThing(r),this.getThing(c)===r&&this.addThing(new Zt(c,Vt.OUT))}}}}return t}},{key:"findThingForHammer",value:function(e){var t=this.findAllConnects(e).map(function(e){var t=O()(e,2);return[t[0],t[1]]}).flat(),n=this.things.filter(function(e){return!t.includes(e)});return n.length?se.a.getRandomElement(n):void 0}},{key:"width",get:function(){return tn.width}},{key:"height",get:function(){return tn.height}},{key:"things",get:function(){return this.field.flat().filter(function(e){return e&&e.number!==Vt.OUT})}}]),e}();function on(e){return{101:1,102:2,103:3,104:5}[e]||0}!function(e){e[e.level=0]="level",e[e.challenge=1]="challenge"}(Yt||(Yt={}));var sn=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yt.level;o()(this,e),k()(this,"id",-1),k()(this,"levelMaps",void 0),k()(this,"levels",void 0),k()(this,"events",void 0),k()(this,"_points",0),k()(this,"_coins",0),k()(this,"maxCoins",0),k()(this,"part",0),k()(this,"moves",0),k()(this,"marks",0),k()(this,"selectedThings",[]),k()(this,"editor",!1),k()(this,"duration",0),k()(this,"shuffle",0),k()(this,"hammer",!1),k()(this,"limitedTurns",!1),k()(this,"mergedTiles",new Map),k()(this,"type",void 0),this.id=t,this.levels=n,this.levelMaps=n.map(function(e){return new nn(e.map)}),this.events=new $e.EventEmitter,this.type=i}return a()(e,[{key:"mergeTiles",value:function(e,t){this.mergedTiles.has(e)?this.mergedTiles.set(e,this.mergedTiles.get(e)+t):this.mergedTiles.set(e,t)}},{key:"addCoins",value:function(e){var t=on(e)||0;if(!(t<=0))return this._coins+=t,this.events.emit("update:coins",this._coins),t}},{key:"fillNumbers",value:function(){var e=this.level,t=this.levelMap,n=e.tiles.slice(0).sort(function(){return Math.random()<.5?1:-1}).slice(0,e.tilesAmount),i=new Array(t.width*this.levelMap.height).fill(n).flat();this.level.id>1&&this.levelMap.fillRandom(i.slice(0,this.levelMap.things.length/2),this.maxTurns),this.part>0&&this.addCoinThings()}},{key:"addCoinThings",value:function(){var e=this,t=this.levelMap.things.sort(function(){return.5-Math.random()}),n=this.levelMap.findAllConnects(this.maxTurns),i=se.a.arrayUnique(n.map(function(e){return e.slice(0,2)}).flat()),o=t.reduce(function(e,t){return e[t.number]||(e[t.number]=[]),i.includes(t)?e[t.number].push(t):e[t.number].unshift(t),e},{}),s=Object.values(o).sort(function(){return.5-Math.random()}).sort(function(e,t){return e[0]&&i.includes(e[0])?1:t[0]&&i.includes(t[0])?-1:e.length-t.length}),a=se.a.getRandomElement([[101],[102],[101,102],[101,102],[101,102],[101,102],[101,102],[101,102],[101,103],[104],[101,103],[104],[102,103],[102,103],[104],[101,104],[101,104],[102,104],[102,104]]),r=0;a.forEach(function(t,n){var i=on(t);if(!(i+r+e.coins>e.maxCoins)){r+=i;var o=s[n].slice(0,2);o[0]&&(o[0].number=t),o[1]&&(o[1].number=t)}})}},{key:"connectPoints",get:function(){return Math.min(100*(this.part+1),800)}},{key:"maxTurns",get:function(){return this.limitedTurns?2:200}},{key:"points",get:function(){return this._points},set:function(e){this._points=e,this.events.emit("update:points",e)}},{key:"coins",get:function(){return this._coins}},{key:"levelMap",get:function(){return this.levelMaps[this.part]}},{key:"level",get:function(){return this.levels[this.part]}},{key:"episodeKey",get:function(){return"1"}}]),e}(),an=(cc.size(16,20),function(e){function t(e){var n;return o()(this,t),n=d()(this,f()(t).call(this,e.episodeKey)),e.winter&&(n._bgKey+="-winter"),n}return m()(t,e),t}(function(){function e(t){o()(this,e),this._episode=t,this._bgKey="tile-bg"}return a()(e,[{key:"create",value:function(e){var t=[Vt.OUT,Vt.RANDOM].includes(e.number)?"tile-".concat(e.number):"episode-".concat(this._episode,"-tile-").concat(e.number);return e.number>100&&(t="episode-".concat(this._episode,"-coin-").concat(e.number%100)),new jt(e,{bg:this._bgKey,selected:"tile-bg-selected",tip:"tile-bg-tip",icon:t})}}]),e}())),rn=function(e){function t(e,n,i){var s;return o()(this,t),(s=d()(this,f()(t).call(this,e)))._thingViewFactory=null,s._widgetFactory=i,s._blocker=n,s._game=void 0,s._coinsTarget=void 0,s._touchedView=void 0,s.goodConnectPromise=Promise.resolve(),s._addEventListener(),s}var n,i,s,r,c,u,p,l,h,g;return m()(t,e),a()(t,[{key:"_addEventListener",value:function(){var e={event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:this._onTouchBegan.bind(this),onTouchEnded:this._onTouchEnded.bind(this),swallowTouches:!0};cc.eventManager.addListener(e,this)}},{key:"showPoints",value:function(e,t){var n=this,i=oe.a.getRandomInt(1,6),o=e.map(function(e){var o=n._widgetFactory.createSpriteWidget("points-".concat(i,"-").concat(t));return o.setScale(.7*Dt),o.setPosition(e.getPosition()),Object(ie.a)(o),o.setOpacity(0),o}),s=[1.1,1.1+.01*oe.a.getRandomInt(25,41)],a=[80,80+oe.a.getRandomInt(21,41)];o.sort(function(){return.5-Math.random()}).forEach(function(){var e=X()(Y.a.mark(function e(t,i){var o;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.addChild(t,802),A(t,n.parent),t.setLocalZOrder(n.getLocalZOrder()+1),t.setScale(0),o=s[i],e.next=7,oe.a.runCocosAction(t,cc.spawn([cc.fadeIn(.25),cc.scaleTo(o,1),cc.sequence([cc.delayTime(o-.4),cc.fadeOut(.4)]),cc.sequence([cc.delayTime(o-.2),cc.scaleTo(.2,.2).easing(cc.easeBackIn())]),cc.moveBy(o,cc.p(0,a[i]))]));case 7:t.removeFromParent();case 8:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}())}},{key:"goodConnect",value:(g=X()(Y.a.mark(function e(t,n,i,o){var s,a=this;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=Promise.all([this.showPoints(t,i),this.showWay(n)].concat(ve()(t.map(function(e){return o>0?a._animateCoins(e):a._removeView(e)})))),this.goodConnectPromise=this.goodConnectPromise.then(function(){return s}),e.next=4,s;case 4:this.events.emit("after:goodConnect");case 5:case"end":return e.stop()}},e,this)})),function(e,t,n,i){return g.apply(this,arguments)})},{key:"_removeView",value:(h=X()(Y.a.mark(function e(t){var n;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=this._widgetFactory.createAnimationWidget({name:this._game.winter?he.winterTile:he.tile,position:t.getPosition(),scale:this._game.winter?oe.a.getRandomElement([2.7,2.3])/3:1})).setAsyncAnimation(1,"explode").then(function(){return n.removeFromParent()}),this.addChild(n,t.getLocalZOrder()+1),e.next=5,t.onRemove();case 5:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"_animateCoins",value:(l=X()(Y.a.mark(function e(t){var n,i;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=this._widgetFactory.createAnimationWidget({name:he.tile,position:t.getPosition(),scale:1})).setAsyncAnimation(1,"explode").then(function(){return n.removeFromParent()}),this.addChild(n,t.getLocalZOrder()+1),i=t.icon,this._moveCoinsToHeader([i]),e.next=7,t.onRemove();case 7:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"badConnect",value:(p=X()(Y.a.mark(function e(){var t,n,i=arguments;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:[],n=this.children.filter(function(e){return e instanceof jt}).filter(function(e){return e.thing&&e.thing.number!==Vt.OUT}),e.next=4,Promise.all([].concat(ve()(n.map(function(){var e=X()(Y.a.mark(function e(t){var n,i,o,s,a;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.getPosition(),i=t.getPosition(),o=0;case 3:if(!(o<6)){e.next=10;break}return s=oe.a.getRandomInt(2,5)*oe.a.getRandomElement([1,-1]),a=oe.a.getRandomInt(2,5)*oe.a.getRandomElement([1,-1]),e.next=7,oe.a.runCocosAction(t,cc.moveTo(.1,cc.pAdd(i,cc.p(s,a))));case 7:++o,e.next=3;break;case 10:return e.next=12,oe.a.runCocosAction(t,cc.moveTo(.1,n));case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())),[t.length&&this.showBadWay(t,1e3)]).filter(Boolean));case 4:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"showWay",value:function(e){for(var t=[],n=0;n<e.length-1;++n){var i=e[n+2]&&e[n].x!==e[n+2].x&&e[n].y!==e[n+2].y,o=this.createConnector(this.calcPosition(e[n]),this.calcPosition(e[n+1]),cc.color("#ffcb06"),i);Object(ie.a)(o),t.push(o),o.setOpacity(0),o.runAction(cc.fadeIn(.1)),this.addChild(o,801)}oe.a.delay(250)().then(function(){return t.forEach(function(e){return e.removeFromParent()})})}},{key:"showBadWay",value:(u=X()(Y.a.mark(function e(t,n){var i,o,s,a,r,c,u,p,l,d,h=this;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(i=function(e,t,n){var i=h.createConnector(h.calcPosition(e),h.calcPosition(t),cc.color("#f33e1e"),n);return Object(ie.a)(i),i.setOpacity(0),h.addChild(i,801),i},o=[],s=[[]],a=0;a<t.length-1;++a)r=t[a+2]&&t[a].x!==t[a+2].x&&t[a].y!==t[a+2].y,(c=s[s.length-1]).length||c.push(t[a]),c[1]=t[a+1],r&&(s.push([]),u=i(c[0],c[1],r),o.push(u));return(p=s[s.length-1]).length&&(l=i(p[0],p[1],!1),o.push(l)),d=[],o.forEach(function(e,t){var n=e.getBoundingBox(),i=h._widgetFactory.createSpriteWidget("game-scene-wrong-connect");i.addChild(new te.e(ae({string:t+1,stroke:{size:1,color:cc.color("#e0280e"),fontSize:20}})),1),Object(ie.a)(i),i.setOpacity(0),i.setPosition(n.x+n.width/2,n.y+n.height/2),i.setScale(Dt),h.addChild(i,802),d.push(i)}),o.concat(d).forEach(function(e){return e.runAction(cc.fadeIn(.08))}),e.next=11,oe.a.delay(n)();case 11:o.concat(d).forEach(function(e){return e.runAction(cc.sequence([cc.fadeOut(.08),cc.callFunc(function(e){return e.removeFromParent()})]))});case 12:case"end":return e.stop()}},e)})),function(e,t){return u.apply(this,arguments)})},{key:"_moveCoinsToHeader",value:(c=X()(Y.a.mark(function e(t){var n,i,o=this;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._coinsTarget.getPosition(),t.forEach(function(e){return A(e,o._coinsTarget.parent)}),i=t.map(function(e){return{icon:e,distance:cc.pDistance(o._coinsTarget.getPosition(),e.getPosition())}}).sort(function(e,t){return e.distance-t.distance}).map(function(){var e=X()(Y.a.mark(function e(t,i){var s,a,r,c,u;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(s=t.icon).setLocalZOrder(Number.MAX_SAFE_INTEGER-1),a=.6+.085*i,r=.15*Math.pow(.9,i),s.runAction(cc.sequence([cc.delayTime(a+r-.05),cc.spawn([cc.fadeOut(.3),cc.scaleTo(.3,0)])])),c=cc.pSub(n,s.getPosition()),e.next=8,oe.a.runCocosAction(s,cc.sequence([cc.delayTime(r),cc.spawn([cc.sequence([cc.moveBy(.5*a,cc.p(0,c.y/2)).easing(cc.easeSineIn()),cc.moveBy(.5*a,cc.p(0,c.y/2)).easing(cc.easeQuadraticActionOut())]),cc.moveBy(a,cc.p(c.x,0)).easing(cc.easeBackIn()),cc.scaleTo(a,1),cc.rotateBy(a,360)])]));case 8:o.events.emit("coin"),Ce.playEffect(L.STAR_COUNT.id),u=o._widgetFactory.createAnimationWidget({name:he.headerCoin}),console.log(u,s),u.setScale(.7+.05*oe.a.getRandomInt(0,5)),u.setRotation(oe.a.getRandomInt(0,359)),u.setPosition(cc.p(28,28)),s.addChild(u,1),A(u,o._coinsTarget),u.setAsyncAnimation(1,"explode").then(function(){s.removeFromParent(),u.removeFromParent()});case 18:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),e.next=5,Promise.all(i);case 5:case"end":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)})},{key:"showWithAnimation",value:(r=X()(Y.a.mark(function e(){var t,n,i,o,s,a=this;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.children.forEach(function(e){var t=a.calcPosition(e.thing.position);e.setPosition(t.x,t.y+cc.view.getVisibleSize().height)}),this.setVisible(!0),Ce.playEffect(L.FIELD_APP.id),t=-1,n=[],i=[],this._game.levelMap.things.map(function(e){return a.findView(e)}).sort(function(e,t){return e.thing.position.y!==t.thing.position.y?e.thing.position.y-t.thing.position.y:e.thing.position.x-t.thing.position.x}).forEach(function(e){t!==e.thing.position.y&&t>=0&&(n.length%2&&i.reverse(),n.push(i.splice(0))),t=e.thing.position.y;var o=a.calcPosition(e.thing.position),s=cc.pDistance(e.getPosition(),o);i.push({view:e,position:o,distance:s,row:n.length})}),n.push(i.splice(0)),o=n.map(function(e){return e.map(function(e,t){var n=e.view,i=e.position,o=.1*e.row+.05*t;return oe.a.runCocosAction(n,cc.sequence([cc.delayTime(o),cc.moveTo(.4,i).easing(cc.easeQuadraticActionOut())]))})}).flat(),e.next=10,Promise.all(o);case 10:if(!(s=this._game.levelMap.things.filter(function(e){return e.componentManager.getHammerComponent()}).map(function(e){return a.findView(e)})).length){e.next=14;break}return e.next=14,Promise.all(s.map(function(){var e=X()(Y.a.mark(function e(t,n){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.a.delay(150+350*n)();case 2:Ce.playEffect(L.HAMMER_APPEAR.id),t.addHammer();case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()));case 14:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"redraw",value:function(){var e=this;this.resetField(),this._game.levelMap.things.forEach(function(t){var n=e._thingViewFactory.create(t);n&&e._addView(n)})}},{key:"redrawEditor",value:function(){this.resetField();for(var e=0;e<this._game.levelMap.height;++e)for(var t=0;t<this._game.levelMap.width;++t){var n=new Gt(t,e),i=this._game.levelMap.getThing(n);i||(i=new Zt(n,Vt.OUT));var o=this._thingViewFactory.create(i);o&&this._addView(o)}}},{key:"resetFieldWithAnimation",value:(s=X()(Y.a.mark(function e(){var t,n=this;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._game.levelMap.things.map(function(e){return n.findView(e)}).map(function(e,t){return oe.a.runCocosAction(e,cc.sequence([cc.delayTime(.01*t),cc.spawn([cc.scaleTo(.25,0).easing(cc.easeBackIn()),cc.fadeOut(.25)])]))}),e.next=3,Promise.all(t);case 3:this.resetField();case 4:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"resetField",value:function(){this.goodConnectPromise=Promise.resolve(),this.removeAllChildren()}},{key:"_addView",value:function(e){e.setPosition(this.calcPosition(e.thing.position)),this.addChild(e)}},{key:"redrawWidthAnimation",value:(i=X()(Y.a.mark(function e(t){var n,i,o=this;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._game.levelMap.things.map(function(e){return o.findView(e)}).map(function(e){var t=o.calcPosition(e.thing.position),n=cc.pDistance(e.getPosition(),t);return{view:e,position:t,distance:n}}),i=n.map(function(e){var n=e.view,i=e.position;return oe.a.runCocosAction(n,cc.moveTo(t,i).easing(cc.easeBackOut()))}),e.next=4,Promise.all(i);case 4:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"moveColumnsUp",value:(n=X()(Y.a.mark(function e(t,n){var i,o=this;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(){var e=X()(Y.a.mark(function e(n){var i,s,a,r,c;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.map(function(e){return o.findView(e)}),s=i.slice(0,n.length-1).map(function(e){return oe.a.runCocosAction(e,cc.moveTo(t,o.calcPosition(e.thing.position)))}),a=i[i.length-1],r=a.getScale(),c=o.calcPosition(a.thing.position),Math.abs(c.y-a.getPositionY())>2*a.getBoundingBoxToWorld().height?s.push(oe.a.runCocosAction(a,cc.sequence([cc.scaleTo(t/2,0),cc.callFunc(function(){return a.setPosition(c)}),cc.scaleTo(t/2,r)]))):s.push(oe.a.runCocosAction(a,cc.moveTo(t,c))),e.next=8,Promise.all(s);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),e.next=3,Promise.all(n.map(i));case 3:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)})},{key:"calcPosition",value:function(e){var t=e.x,n=e.y,i=(this.cellSize.width+this.cellPadding)/2,o=(this.cellSize.height+this.cellPadding)/2;return cc.p(t*this.cellSize.width+t*this.cellPadding/2+i,n*this.cellSize.height+n*this.cellPadding/2+o)}},{key:"createConnector",value:function(e,t,n,i){var o=new cc.LayerColor(n,0,0);o.setAnchorPoint(cc.p(0,.5)),o.ignoreAnchorPointForPosition(!1),o.height=10,o.setPosition(e);var s=e,a=t,r=cc.pSub(a,s);return o.setRotation(180*Math.atan2(r.x,r.y)/Math.PI-90),o.width=Math.sqrt(Math.pow(s.x-a.x,2)+Math.pow(s.y-a.y,2))+(i?o.height/2:0),o}},{key:"findView",value:function(e){return this.children.find(function(t){return t.thing===e})}},{key:"_onTouchBegan",value:function(e){this._touchedView=void 0;var t=e.getLocation();if(!this.isGlobalVisible()||this._blocker.isBlock("touchBegan")||!this._game||this._game.selectedThings.length>=2)return this.events.emit("touchNoThing"),!1;var n=this.children.find(function(e){return e.eventEnabled&&cc.rectContainsPoint(e.getBoundingBoxToWorld(),t)});if(n&&n.thing){if(this._touchedView=n,this.events.emit("touchThing",n.thing),0===this._game.selectedThings.length)return this._game.selectedThings.push(n.thing),n.select(),Ce.playEffect(L.CHIP_CLICK.id),!0;if(this._game.selectedThings[0]===n.thing)return!(this._game.levelNumber>1)||(this._game.selectedThings.pop(),n.free(),Ce.playEffect(L.CHIP_CLICK.id),!0);var i=this.findView(this._game.selectedThings[0]);if(this._game.selectedThings[0].number!==n.thing.number)return i&&i.free(),this._game.selectedThings[0]=n.thing,n.select(),Ce.playEffect(L.CHIP_CLICK.id),!0;var o=this._game.levelMap.buildWay(this._game.selectedThings[0].position,n.thing.position,this._game.limitedTurns?2:200);return i.free(),this.events.emit("connect",n.thing),o.length?(Ce.playEffect(L.CHIP_MATCH.id),this.events.emit("good connect",n.thing,o)):(Ce.playEffect(L.CHIP_ERROR.id),this.events.emit("bad connect",n.thing)),!0}return this.events.emit("touchNoThing"),!1}},{key:"_onTouchEnded",value:function(e){if(this._touchedView){var t=e.getLocation(),n=this.children.find(function(e){return e.eventEnabled&&cc.rectContainsPoint(e.getBoundingBoxToWorld(),t)});n&&this.events.emit("touchThing:ended",n.thing,n===this._touchedView)}return!0}},{key:"coinsTarget",set:function(e){this._coinsTarget=e}},{key:"cellPadding",get:function(){return 0}},{key:"cellSize",get:function(){return cc.size(61,63)}},{key:"game",set:function(e){this._game=e}},{key:"thingViewFactory",set:function(e){this._thingViewFactory=e}}]),t}(n(31).a);var cn=function(e){function t(e){var n;return o()(this,t),n=d()(this,f()(t).call(this,e)),function(e,t,n){try{var i=Object.entries(t||{}).filter(function(e){var t=O()(e,2),n=(t[0],t[1]);return n&&"object"===Pt()(n)}).map(function(e){var t=O()(e,2),n=t[0],i=t[1],o=new i.ctor(i);return i.anchorPoint&&o.setAnchorPoint(i.anchorPoint),[n,o]}).map(function(t){var n=O()(t,2),i=n[0],o=n[1];if(e[i])throw new Error("Rewriting popup fields with config.nodes");return e[i]=o,e.addChild(o,o.options.order||0),"string"==typeof o.options.name&&o.setName(o.options.name),o.options.scale&&o.setScale(o.options.scale),"boolean"==typeof o.options.visible&&o.setVisible(o.options.visible),o});n&&n.align&&(console.log(n.align,n.padding),Object(se.b)(i,n))}catch(i){console.log(i,e,t,n)}}(Rt()(n),n.options.nodes,{align:n.options.align,padding:n.options.padding}),Object.entries(n.options.nodes).forEach(function(e){var t=O()(e,2),i=t[0],o=t[1];o.ctor===te.g&&n[i]&&o.sprite&&o.sprite.anchorPoint&&n[i].sprite.setAnchorPoint(o.sprite.anchorPoint)}),n}return m()(t,e),a()(t,[{key:"getTargetNode",value:function(){return this.options.targetNodeName?this.getChildByName(this.options.targetNodeName):Me()(f()(t.prototype),"getTargetNode",this).call(this)}},{key:"_getBaseChildren",value:function(){var e=this;return this.options.baseChildren?this.children.filter(function(t){return e.options.baseChildren.includes(t.getName())}):this.children}},{key:"width",get:function(){return this._getBaseChildren().reduce(function(e,t){return cc.rectUnion(e,t._getBoundingBoxToCurrentNode())},cc.rect(0,0,0,0)).width}},{key:"height",get:function(){return this._getBaseChildren().reduce(function(e,t){return cc.rectUnion(e,t._getBoundingBoxToCurrentNode())},cc.rect(0,0,0,0)).height}}]),t}(te.k),un=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,t),(e=d()(this,f()(t).call(this,n))).progress=new cc.ProgressTimer(new cc.Sprite(e.options.progress.sprite)),e.progress.setPosition(e.options.progress.position),e.addChild(e.progress),e.scheduleUpdate(),e.fullTimer=30,e.steps=6,e._timer=0,e._points=0,e.skipUpdates=0,e}var n;return m()(t,e),a()(t,[{key:"update",value:function(e){this._timer===this.fullTimer&&this.skipUpdates<=0&&(this.skipUpdates=2),this.skipUpdates<=0&&(this._timer=Math.max(0,this._timer-e)),this.progress.percentage=this._timer/this.fullTimer*100,--this.skipUpdates<=0&&this._timer===this.fullTimer&&(this._timer=0,this.showPoints(),this.events.emit("full",this._points))}},{key:"updatePoints",value:function(e){this._points=e;var t="0";e>0&&(t="+".concat(y(e))),this.points.setString(t)}},{key:"doStep",value:function(){this._timer=Math.min(this._timer+this.fullTimer/this.steps,this.fullTimer)}},{key:"clear",value:function(){this._timer=0}},{key:"showPoints",value:(n=X()(Y.a.mark(function e(){var t;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.points.options,i=void 0,i=new n.ctor(n),n.anchorPoint&&i.setAnchorPoint(n.anchorPoint),"number"==typeof n.scale&&i.setScale(n.scale),"boolean"==typeof n.visible&&i.setVisible(n.visible),"number"==typeof n.rotation&&i.setRotation(n.rotation),"string"==typeof n.name&&i.setName(n.name),"string"==typeof n.tag&&i.setTag(n.tag),t=i,Object(ie.a)(t),t.setString(this.points.getString()),this.addChild(t),this.points.setScale(0),this.points.runAction(cc.sequence([cc.delayTime(.25),cc.scaleTo(.2,this.points.options.scale)])),e.next=9,Promise.all([oe.a.runCocosAction(t,cc.spawn([cc.scaleTo(1,.9).easing(cc.easeQuadraticActionOut()),cc.sequence([cc.delayTime(1),cc.spawn([cc.fadeOut(1).easing(cc.easeQuadraticActionIn()),cc.scaleTo(1,.35).easing(cc.easeQuarticActionIn())])]),cc.moveBy(2,cc.p(0,300)).easing(cc.easeQuadraticActionOut())])),oe.a.runCocosAction(this.bg,cc.sequence([cc.scaleTo(.2,1.1,.9),cc.scaleTo(.2,.95,1.05),cc.scaleTo(.2,1,1)]))]);case 9:t.removeFromParent();case 10:case"end":return e.stop()}var n,i},e,this)})),function(){return n.apply(this,arguments)})}]),t}(cn),pn={HIDDEN:-1,INITIAL:0,SHOWED:1},ln=function(){function e(){o()(this,e),this._visibleStatus=pn.INITIAL,this._wasShown=!1,this._events=new $e.EventEmitter,this._root=new cc.Node,this._root.setVisible(!1)}return a()(e,[{key:"_addEventListener",value:function(){}},{key:"isVisible",value:function(){return this._visibleStatus===pn.SHOWED}},{key:"append",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.addChild(this._root,t)}},{key:"forceHide",value:function(){this.events.emit("hide"),this._root.visible=!1,this._visibleStatus=pn.HIDDEN}},{key:"forceShow",value:function(){this.events.emit("show"),this._root.visible=!0,this._visibleStatus=pn.SHOWED}},{key:"root",get:function(){return this._root}},{key:"events",get:function(){return this._events}},{key:"wasShown",get:function(){return this._wasShown}}]),e}(),dn=function(){function e(t){o()(this,e),this._widget=t,this._duration=0,this._rest=0,this._fullWidth=this._widget.progress.options.fullWidth,this._warning=!1,this._paused=!1,this._warningSoundId=void 0}return a()(e,[{key:"stopAnimation",value:function(){this._widget.progress.stopAllActions()}},{key:"init",value:function(e){this.duration=e,this._rest=this.duration,this._warning=!1;var t=this._widget.progress.sprite.getTextureRect();this._widget.progress.sprite.setTextureRect(Object.assign(t,{width:this._fullWidth})),this._paused=!0}},{key:"_update",value:function(){var e=this._rest<=10;e&&!this._warning?this._warning=!0:!e&&this._warning&&(this._warning=!1),e&&!this._warningSoundId&&(this._warningSoundId=Ce.playEffect(L.CLOCK_PROGRESS_DOWN_LOOP.id,!0));var t=this._widget.progress.sprite.getTextureRect().width,n=this._rest>=0?Math.min(this._rest/this._duration,1)*this._fullWidth:0;this._widget.progress.stopAllActions(),this._widget.progress.runAction(E(1,{start:t,end:n,measurement:"width"}))}},{key:"paused",get:function(){return this._paused},set:function(e){if(e){if(this._warningSoundId&&(Ce.stopEffect(this._warningSoundId),this._warningSoundId=void 0),this.rest<0){var t=this._widget.progress.sprite.getTextureRect();this._widget.progress.sprite.setTextureRect(Object.assign(t,{width:0}))}this.stopAnimation()}this._paused=e}},{key:"duration",get:function(){return this._duration},set:function(e){this._duration=e}},{key:"rest",get:function(){return this._rest},set:function(e){this._rest=Math.max(e,-1),this._update()}}]),e}(),hn={FOOTER:40,HEADER:40,BG:10,FIELD:20},fn=function(e){function t(e){var n,i=e.context,s=e.widgetFactory,a=e.blocker;return o()(this,t),(n=d()(this,f()(t).call(this)))._game=null,n._blocker=a,n._context=i,n._player=n._context.viewer.player,n._widgetFactory=s,n._root=new cc.Node,n._root.setVisible(!1),n._bg=void 0,n._bgEpisodeNumber="",n._header=s.createGameHeader(),n._root.addChild(n._header,hn.HEADER),n.timer=new dn(n._header.timer),n._footer=s.createGameFooter(),n._root.addChild(n._footer,hn.FOOTER),n._field=new rn({position:cc.p(0,0)},n._blocker,n._widgetFactory),n._field.coinsTarget=n.header.coins.icon,n._root.addChild(n._field,hn.FIELD),Object(ie.a)(n._root),n.updatePoints(0),n.updateCoins(0),n._addEventListener(),n._UIVisibility=!1,n}var n,i,s,r,c,u;return m()(t,e),a()(t,[{key:"_getWidgetDeltas",value:function(){return[[this._footer,cc.p(0,200)],[this._header,cc.p(0,-200)]]}},{key:"updatePoints",value:function(e){this._header.points.label.setString(y(e))}},{key:"updateCoins",value:function(e){this._header.coins.label.setString(y(e))}},{key:"_addEventListener",value:function(){var e=this;this._player.events.on("update",function(){}),this._header.setup.events.on("touch",function(){return!e.blocker.isBlock("touchBegan")&&e.events.emit("touchSetupWidget")}),this.field.events.on("good connect",function(){var t=X()(Y.a.mark(function t(n,i){var o,s,a,r,c,u;return Y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((o=e.game).mergeTiles(n.number,2),s=o.connectPoints,o.points+=2*s,a=o.addCoins(n.number),++o.moves,r=[o.selectedThings[0],n].map(function(t){return e.field.findView(t)}),c=e.blocker.block("touchBegan"),o.selectedThings.splice(0).concat(n).forEach(function(e){return o.levelMap.removeThing(e.position)}),e.field.goodConnect(r,i,s,a),0!==o.levelMap.things.length){t.next=17;break}return t.next=13,e.field.goodConnectPromise;case 13:return e.events.emit("empty field"),t.abrupt("return");case 17:if(!(u=r.find(function(e){return e.thing.componentManager.getHammerComponent()}))){t.next=26;break}return t.next=21,e._removeHammer(u);case 21:if(0!==o.levelMap.things.length){t.next=24;break}return e.events.emit("empty field"),t.abrupt("return");case 24:t.next=27;break;case 26:i.length>=10&&!e.blocker.isBlock("super")&&e.game.levelMap.things.length>6&&e.timer.rest>10&&e.game.moves>1&&e.game.levelNumber>1&&(e.blocker.block("super",15*N.c),e._showSuper());case 27:e.events.emit("after move");case 28:c.resolve();case 29:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()),this.field.events.on("bad connect",function(){var t=X()(Y.a.mark(function t(n){var i,o,s,a;return Y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.blocker.block("touchBegan"),o=e.game.levelMap.buildWay(e.game.selectedThings[0].position,n.position,200),e.game.selectedThings.splice(0),s=Promise.resolve(),o.length&&(a=e._widgetFactory.createBadConnectMessage(),e._root.addChild(a,hn.HEADER+1),Object(ie.a)(a),s=oe.a.runCocosAction(a,cc.sequence([cc.fadeIn(.08),cc.delayTime(1),cc.fadeOut(.08),cc.callFunc(function(e){return e.removeFromParent()})]))),t.next=7,Promise.all([s,e.field.badConnect(o)]);case 7:i.resolve();case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},{key:"_removeHammer",value:(u=X()(Y.a.mark(function e(t){var n,i,o,s,a,r;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return A((n=t.hammers)[0],t.parent),A(n[1],t.parent),e.next=5,oe.a.delay(300)();case 5:if(i=oe.a.getRandomElement(this.game.levelMap.things.filter(function(e){return!e.componentManager.getHammerComponent()}))){e.next=8;break}return e.abrupt("return");case 8:return o=this.field.findView(i),s=this.game.levelMap.things.find(function(e){return e!==i&&e.number===i.number&&!e.componentManager.getHammerComponent()}),a=this.field.findView(s),this.game.levelMap.removeThing(i.position),this.game.levelMap.removeThing(s.position),r=function(){var e=X()(Y.a.mark(function e(t,n){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return setTimeout(function(){return Ce.playEffect(L.HAMMER_HIT.id)},185),n.setAnimation(8,"preHit"),n.setAnimation(7,"preHitLoopEnd"),n.setAsyncAnimation(6,"hit").then(function(){n.removeFromParent()}),n.runAction(cc.spawn([cc.moveTo(.45,cc.pAdd(cc.p(252,190),t.getPosition())),cc.scaleBy(.45,1.4)])),e.abrupt("return",oe.a.delay(580)().then(function(){return t.onHammerHit()}));case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),e.next=16,Promise.all([r(o,n[0]),r(a,n[1])]);case 16:case"end":return e.stop()}},e,this)})),function(e){return u.apply(this,arguments)})},{key:"_getFieldRect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.field.getScale();return cc.rect((this._field.cellSize.width+this._field.cellPadding)*t*e.x-this._field.cellPadding*t,(this._field.cellSize.height+this._field.cellPadding)*t*e.y-this._field.cellPadding*t,(this._field.cellSize.width+this._field.cellPadding)*t*e.width-this._field.cellPadding*t,(this._field.cellSize.height+this._field.cellPadding)*t*e.height-this._field.cellPadding*t)}},{key:"updateBg",value:function(e){if(this._bgEpisodeNumber!==e)if(this._bgEpisodeNumber=e,this._bg){var t=this._widgetFactory.createFullScreenSprite("episode-".concat(e,"-game"));this._bg.setTexture(t.getTexture()),this._bg.setTextureRect(t.getTextureRect())}else this._bg=this._widgetFactory.createFullScreenSprite("episode-".concat(e,"-game")),this._root.addChild(this._bg,hn.BG)}},{key:"show",value:(c=X()(Y.a.mark(function e(t){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._visibleStatus!==pn.SHOWED){e.next=2;break}return e.abrupt("return");case 2:return this.events.emit("show"),this._UIVisibility||this._getWidgetDeltas().forEach(function(e){var t=O()(e,2),n=t[0],i=t[1];return n.setPosition(cc.pSub(n.getPosition(),i))}),this._bg.setScale(1),this._root.visible=!0,this._visibleStatus=pn.SHOWED,Object(ie.a)(this.field),this.field.setOpacity(255),e.next=12,Promise.all([!this._UIVisibility&&this.showUI(.35,1.65),oe.a.runCocosAction(this._bg,cc.scaleTo(2,1.1))]);case 12:case"end":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)})},{key:"showUI",value:(r=X()(Y.a.mark(function e(t,n){var i;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=this._getWidgetDeltas(),e.next=3,Promise.all(i.map(function(e){var i=O()(e,2),o=i[0],s=i[1];return oe.a.runCocosAction(o,cc.sequence([cc.delayTime(n),cc.spawn([cc.callFunc(function(){return Ce.playEffect(L.FIELD_PANEL_APP.id)}),cc.moveBy(t,s)])]))}));case 3:this._UIVisibility=!0;case 4:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})},{key:"hide",value:(s=X()(Y.a.mark(function e(t){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._visibleStatus!==pn.HIDDEN){e.next=2;break}return e.abrupt("return");case 2:return this.events.emit("hide"),e.next=6,Promise.all([this._UIVisibility&&this.hideUI(),oe.a.runCocosAction(this._bg,cc.scaleTo(1.5,1))]);case 6:this._root.visible=!1,this._visibleStatus=pn.HIDDEN,this._getWidgetDeltas().forEach(function(e){var t=O()(e,2),n=t[0],i=t[1];return n.setPosition(cc.pAdd(n.getPosition(),i))});case 10:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"hideUI",value:(i=X()(Y.a.mark(function e(){var t;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._getWidgetDeltas(),Object(ie.a)(this.field),e.next=5,Promise.all(t.map(function(e){var t=O()(e,2),n=t[0],i=t[1];return oe.a.runCocosAction(n,cc.moveBy(.35,cc.pSub(cc.p(0,0),i)))}).concat([oe.a.runCocosAction(this.field,cc.fadeOut(.35))]));case 5:this._UIVisibility=!1;case 6:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"initGame",value:function(e){this._game=e,e.levelMap.startRect=e.levelMap.getRect(),this._thingViewFactory=new an(e),this._field.game=e,this._field.thingViewFactory=this._thingViewFactory,this.adjustField(),this.header.points.visible=!0,this.header.timer.setPosition(this.header.timer.options.position),this.header.timer.icon.setVisible(!0)}},{key:"adjustFieldWithAnimation",value:(n=X()(Y.a.mark(function e(t){var n,i,o,s;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.field.getScale(),i=this._calcFieldScale(),Math.abs(i-n)<.08&&(i=n),o=this.field.getPosition(),s=this._calcFieldPosition(this._getFieldRect(this._game.levelMap.getRect(),i)),!cc.pFuzzyEqual(o,s,1)){e.next=7;break}return e.abrupt("return",!1);case 7:return e.next=9,Promise.all([oe.a.runCocosAction(this.field,cc.spawn([cc.moveTo(t,s),cc.scaleTo(t,i)]))]);case 9:return e.abrupt("return",!0);case 10:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"adjustField",value:function(){this.field.setScale(1);var e=this._calcFieldScale();this.field.setScale(e);var t=this.game.levelMap.getRect();this.field.setPosition(this._calcFieldPosition(this._getFieldRect(t)))}},{key:"_calcFieldScale",value:function(){var e=this.game.levelMap.getRect(),t=this._getFieldRect(e,1),n=cc.view.getVisibleSize(),i=n.width-120,o=Math.min(this.game.levelMap.width/e.width,i/t.width),s=(n.height-144-120-30)/t.height;return Math.max(1,Math.min(1.5,Math.min(o,s)))}},{key:"adjustFieldEditor",value:function(){this.field.setScale(1),this.field.setPosition(this._calcFieldPosition(this._getFieldRect(cc.rect(0,0,this._game.levelMap.width,this._game.levelMap.height))))}},{key:"_calcFieldPosition",value:function(e){var t=cc.view.getVisibleSize();return cc.pAdd(cc.p(0,-45),cc.pSub(cc.p(t.width/2,t.height/2),cc.pAdd(cc.p(e.x,e.y),cc.p(e.width/2,e.height/2))))}},{key:"_showSuper",value:function(){var e=this._widgetFactory.createAnimationWidget({name:he.super,position:cc.p(cc.winSize.width/2,cc.winSize.height/2)});this._root.addChild(e,hn.FIELD+1),Ce.playEffect(L.WIN_SUPER.id),e.setAsyncAnimation(1,"appear").then(function(){return e.removeFromParent()})}},{key:"blocker",get:function(){return this._blocker}},{key:"game",get:function(){return this._game},set:function(e){this._game=e}},{key:"field",get:function(){return this._field}},{key:"header",get:function(){return this._header}},{key:"footer",get:function(){return this._footer}}]),t}(ln),gn="homeHUDVisibilityChanged",mn={FOOTER:40,HEADER:40,PLAY:40,REWARD:40},bn=function(e){function t(e){var n,i=e.context,s=e.widgetFactory,a=e.bg,r=e.blocker;return o()(this,t),(n=d()(this,f()(t).call(this)))._bg=a,n._context=i,n._blocker=r,n._player=n._context.viewer.player,n._widgetFactory=s,n._header=s.createHomeHeader(),n._root.addChild(n._header,mn.HEADER),n._footer=s.createHomeFooter(),n._root.addChild(n._footer,mn.FOOTER),n._playButton=n._createPlayButton(),n._root.addChild(n._playButton,mn.PLAY),n._backButton=n._createBackButton(),n._root.addChild(n._backButton,mn.PLAY),n.bestResult=n._widgetFactory.createBestResult(),n._root.addChild(n.bestResult,mn.PLAY),n.totalPoints=n._widgetFactory.createTotalPoints(),n._root.addChild(n.totalPoints,mn.PLAY),n._authorizeButton=s.createAuthorizeButton(),n._context.socialService.unauthorized&&n._root.addChild(n._authorizeButton),n._chiefNode=new cc.Node,n._chiefNode.setPosition(I()),n._root.addChild(n._chiefNode,mn.REWARD),Object(ie.a)(n._root),n._updateEnergyWidget(),n._updateTotalPoints(),n._updateBestResult(),n._addEventListener(),n.events.on("show",function(){var e=new cc.EventCustom(gn);e.setUserData({visibility:!0}),cc.eventManager.dispatchEvent(e)}),n.events.on("hide",function(){var e=new cc.EventCustom(gn);e.setUserData({visibility:!1}),cc.eventManager.dispatchEvent(e)}),n._UIVisibility=!1,n}var n,i,s,r;return m()(t,e),a()(t,[{key:"_createPlayButton",value:function(){return this._widgetFactory.createHomePlayButton()}},{key:"_createBackButton",value:function(){return this._widgetFactory.createHomeBackButton()}},{key:"_getWidgetDeltas",value:function(){return[[this._footer,cc.p(0,200)],[this._header,cc.p(0,-200)],[this.bestResult,cc.p(-cc.winSize.width,0)],[this.totalPoints,cc.p(-cc.winSize.width,0)],[this._chiefNode,cc.p(-cc.winSize.width,0)],[this._playButton,cc.p(cc.winSize.width,0)],[this._backButton,cc.p(-cc.winSize.width,0)]].filter(Boolean)}},{key:"_addEventListener",value:function(){var e=this;this._playButton.events.on("touch",function(){return!e._blocker.isBlock("touchBegan")&&e.events.emit("touchPlayButton")}),this._backButton.events.on("touch",function(){return!e._blocker.isBlock("touchBegan")&&e.events.emit("touchBackButton")}),this._player.events.on("update",function(){e._updateEnergyWidget(),e._updateTotalPoints(),e._updateBestResult()}),this._header.setup.events.on("touch",function(){return e.events.emit("touchSetupWidget")}),this._authorizeButton.events.on("touch",function(){e._context.socialService.showAuthDialog().then(function(){return location.reload()}).catch(function(){})})}},{key:"_updateEnergyWidget",value:function(){this._header.energy.label.setString("".concat(this._player.energy.toString(),"/20"))}},{key:"_updateTotalPoints",value:function(){this.totalPoints.points.setString(y(this._player.points))}},{key:"_updateBestResult",value:function(){this.bestResult.points.setString(y(this._player.record))}},{key:"show",value:(r=X()(Y.a.mark(function e(t){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._visibleStatus!==pn.SHOWED){e.next=2;break}return e.abrupt("return");case 2:if(this._bg.visible=!0,this.events.emit("show"),this._UIVisibility||this._getWidgetDeltas().forEach(function(e){var t=O()(e,2),n=t[0],i=t[1];return n.setPosition(cc.pSub(n.getPosition(),i))}),this._root.visible=!0,this._visibleStatus=pn.SHOWED,this._UIVisibility){e.next=10;break}return e.next=10,this.showUI();case 10:this.blocker.unblock("touchBegan");case 11:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"hide",value:(s=X()(Y.a.mark(function e(t){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._visibleStatus!==pn.HIDDEN){e.next=2;break}return e.abrupt("return");case 2:if(this.events.emit("hide"),!this._UIVisibility){e.next=6;break}return e.next=6,this.hideUI();case 6:this._root.visible=!1,this._visibleStatus=pn.HIDDEN,this._getWidgetDeltas().forEach(function(e){var t=O()(e,2),n=t[0],i=t[1];return n.setPosition(cc.pAdd(n.getPosition(),i))}),this._bg.visible=!1;case 11:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"showUI",value:(i=X()(Y.a.mark(function e(){var t;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._getWidgetDeltas(),Ce.playEffect(L.FIELD_PANEL_APP.id),e.next=5,Promise.all(t.map(function(e){var t=O()(e,2),n=t[0],i=t[1];return se.a.runCocosAction(n,cc.moveBy(.35,i))}));case 5:this._UIVisibility=!0;case 6:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"hideUI",value:(n=X()(Y.a.mark(function e(){var t;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._getWidgetDeltas(),e.next=4,Promise.all(t.map(function(e){var t=O()(e,2),n=t[0],i=t[1];return se.a.runCocosAction(n,cc.moveBy(.35,cc.pSub(cc.p(0,0),i)))}));case 4:this._UIVisibility=!1;case 5:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"blocker",get:function(){return this._blocker}}]),t}(ln),vn=n(61),yn=n.n(vn),_n=n(128),wn=function(e){function t(){return o()(this,t),d()(this,f()(t).apply(this,arguments))}return m()(t,e),a()(t,[{key:"create",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return yn()(bt,t)}}]),t}(_n.a),xn=(_n.b,n(39)),kn=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,t),(e=d()(this,f()(t).call(this,n)))._shower=n.shower||Promise.resolve,e._hider=n.hider||Promise.resolve,e._key=e.options.key,e._hasBottomBoard=!1,e._promises=[],e._buttons={},e._content=new cc.Node,e._createChildren(),e._setup(),e.setScale(0,0),e}return m()(t,e),a()(t,[{key:"_createChildren",value:function(){var e=this;if(Object.entries(this.options.nodes||{}).filter(function(e){var t=O()(e,2),n=(t[0],t[1]);return n&&"object"===Pt()(n)}).map(function(e){var t=O()(e,2),n=t[0],i=t[1];return[n,new i.ctor(i)]}).forEach(function(t){var n=O()(t,2),i=n[0],o=n[1];if(e[i])throw console.log(i,e[i]),new Error("Rewriting popup fields with config.nodes");e[i]=o,o.options&&o.options.scale&&o.setScale(o.options.scale),o.options&&o.options.order&&o.setLocalZOrder(o.options.order),o.options.button&&(e._addButton(o.options.name,o),o.events.on("touch",function(){return e.events.emit(o.options.name)})),o.options&&"string"==typeof o.options.name&&o.setName(o.options.name),e._appendContent(o)}),this.options.closeButton){var t=new te.b(this.options.closeButton);t.events.on("touch",this._onTouchClose.bind(this)),this._appendContent(t),this._addButton("close",t)}}},{key:"_onTouchClose",value:function(){this.events.emit("close")}},{key:"_addButton",value:function(e,t){if(this.buttons[e])throw new Error("Кнопка с ключом ".concat(e," уже есть"));this.buttons[e]=t}},{key:"addPromise",value:function(e){this._promises.push(e)}},{key:"show",value:function(){return this._preShow().then(this._show.bind(this)).then(this._afterShow.bind(this))}},{key:"_preShow",value:function(){return Object.values(this.buttons).forEach(function(e){return e.setEventEnabled(!0)}),Promise.resolve()}},{key:"_show",value:function(){return this._shower(this)}},{key:"_afterShow",value:function(){}},{key:"hide",value:function(){var e=this;return Promise.all(this._promises).then(function(){return e._hider(e)})}},{key:"_setup",value:function(){this._setupContent()}},{key:"_setupContent",value:function(){this._content.setAnchorPoint(.5,.5),this.addChild(this._content)}},{key:"_appendContent",value:function(e,t){this._content.addChild(e,t)}},{key:"disableButtons",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;Object.values(this.buttons).forEach(function(t){t.disable(e)})}},{key:"enableButtons",value:function(){Object.values(this.buttons).forEach(function(e){e.setEnabled(!0)})}},{key:"getLowerOrderOfArrival",value:function(){var e=this.getOrderOfArrival(),t=function t(n){e=Math.min(e,n.getOrderOfArrival()),n.children.forEach(t)};return t(this),e}},{key:"getContentChildByName",value:function(e){return this._content.getChildByName(e)}},{key:"shower",set:function(e){this._shower=e}},{key:"hider",set:function(e){this._hider=e}},{key:"key",get:function(){return this._key},set:function(e){this._key=e}},{key:"buttons",get:function(){return this._buttons}},{key:"closeButton",get:function(){return this._closeButton}},{key:"hasBottomBoard",get:function(){return!!this._hasBottomBoard},set:function(e){this._hasBottomBoard=e}}]),t}(te.k),Sn=function(e){function t(e){var n;return o()(this,t),(n=d()(this,f()(t).call(this,e)))._bg=new cc.Scale9Sprite(e.bg,e.caps),n.addChild(n._bg),n.options.size&&n.setSize(n.options.size),n.options.anchorPoint&&n._bg.setAnchorPoint(n.options.anchorPoint),n}return m()(t,e),a()(t,[{key:"setSize",value:function(e){this._bg._setWidth(e.width),this._bg._setHeight(e.height)}},{key:"getTargetNode",value:function(){return this.bg}},{key:"updateTweenAction",value:function(e,t){"x"===t?this.setPosition(e,this.getPosition().y):"y"===t&&this.setPosition(this.getPosition().x,e)}},{key:"sprite",get:function(){return this._bg}},{key:"width",get:function(){return this._bg.width}},{key:"height",get:function(){return this._bg.height}},{key:"bg",get:function(){return this._bg}}]),t}(te.k),En=function(){function e(){o()(this,e)}return a()(e,[{key:"create",value:function(){return new kn}},{key:"_getCloseButtonConfig",value:function(e){return se.a.merge({ctor:xn.a,button:!0,name:"close",normalImage:ke.getImage("popup-close-button"),highlightedImage:ke.getImage("popup-close-button-pressed")},e)}},{key:"_getBGConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return se.a.merge({ctor:te.g},e)}},{key:"_getHeaderConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return se.a.merge({ctor:cn,nodes:{bg:{ctor:te.g,bg:ke.getImage("popup-header-464x102"),position:cc.p(0,0)},label:re({position:cc.p(0,-4),fontSize:42,fillStyle:cc.color("#fcf9dc"),stroke:{color:cc.color("#822e00"),size:2}})}},e)}},{key:"_getWrapperConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return se.a.merge({ctor:Sn,bg:ke.getImage("popup-wrapper"),caps:cc.rect(20,20,348,146),size:cc.size(388,186)},e)}},{key:"widgetFactory",set:function(e){this._widgetFactory=e},get:function(){return this._widgetFactory}}]),e}(),Tn=function(e){return function(t){return new Promise(function(n){t.setScale(.85),t.runAction(cc.sequence([cc.spawn([cc.moveTo(.25,e),cc.scaleTo(.25,1,1)]).easing(cc.easeBackOut()),cc.callFunc(n)]))})}},Pn=function(e){return function(t){return new Promise(function(n){Object(ie.a)(t),t.runAction(cc.sequence([cc.spawn([cc.moveTo(.25,e),cc.scaleTo(.25,.35,.35).easing(cc.easeBackIn()),cc.sequence([cc.delayTime(.175),cc.fadeOut(.075)])]),cc.callFunc(function(){t.setScale(0),n()})]))})}},On=function(e){function t(e){return o()(this,t),d()(this,f()(t).call(this,e))}var n,i;return m()(t,e),a()(t,[{key:"_preShow",value:(i=X()(Y.a.mark(function e(){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me()(f()(t.prototype),"_preShow",this).call(this);case 2:Object(ie.a)(this.header),this.header.setPosition(cc.pAdd(this.header.options.position,cc.p(0,-120))),this.header.setScale(.25),Object(ie.a)(this.currentPoints),this.currentPoints.setPosition(cc.pAdd(this.currentPoints.options.position,cc.p(0,60))),Object(ie.a)(this.currentCoins),this.currentCoins.setPosition(cc.pAdd(this.currentCoins.options.position,cc.p(0,60))),Object(ie.a)(this.totalPoints),this.totalPoints.setScale(0),Object(ie.a)(this.totalCoins),this.totalCoins.setScale(0),Object(ie.a)(this.bgSprite),[this.header,this.currentPoints,this.currentCoins,this.totalPoints,this.totalCoins,this.bgSprite].forEach(function(e){return e.setOpacity(0)}),this.setScale(1);case 16:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"_show",value:(n=X()(Y.a.mark(function e(){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setPosition(this.options.position),e.next=3,Promise.all([se.a.runCocosAction(this.header,cc.spawn([cc.scaleTo(.45,1),cc.fadeIn(.45),cc.moveBy(.45,cc.p(0,120))]))].concat(ve()([this.currentPoints,this.currentCoins].map(function(e){return se.a.runCocosAction(e,cc.sequence([cc.delayTime(.35),cc.spawn([cc.fadeIn(.2),cc.moveBy(.6,cc.p(0,-60)),cc.sequence([cc.scaleTo(.6,1.15).easing(cc.easeBackOut())])])]))})),ve()([this.totalPoints,this.totalCoins].map(function(e){return se.a.runCocosAction(e,cc.sequence([cc.delayTime(.8),cc.spawn([cc.scaleTo(.35,1).easing(cc.easeBackOut()),cc.fadeIn(0)])]))}))));case 3:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})}]),t}(kn),Cn=function(e){function t(){return o()(this,t),d()(this,f()(t).apply(this,arguments))}return m()(t,e),a()(t,[{key:"getBoundingBoxToWorld",value:function(){var e=this._scrollView.getBoundingBoxToWorld();return e.height=this._scrollView.getViewSize().height,this._scrollView.getContentOffset().y<0?Object.assign({},e,{y:e.y-this._scrollView.getContentOffset().y}):e}},{key:"setContentOffset",get:function(){return this._setContentOffset.bind(this)}}]),t}(te.f),An=n(52),In=function(e){function t(e){var n;o()(this,t),(n=d()(this,f()(t).call(this,e))).checkBoxBg=new te.g(n.options.checkBoxBg),n.addChild(n.checkBoxBg),n.checkBoxMark=new te.g(n.options.checkBoxMark),n.addChild(n.checkBoxMark),n.label=new te.e(n.options.label),n.addChild(n.label),n.state=n.options.state,n.language=n.options.language,n.setState(n.options.state);var i=!1;return T(Rt()(n),function(e){if(i){n.events.emit("touch",n.language);var t=new cc.EventCustom(An.a.BUTTON_WIDGET_CLICKED);t.setUserData({widget:Rt()(n)}),cc.eventManager.dispatchEvent(t)}return i=!1,e},function(e){return e&&(i=!0),e}),n}return m()(t,e),a()(t,[{key:"setState",value:function(e){this.state=e,this.checkBoxMark.setVisible(e)}}]),t}(te.k),Rn=function(e){function t(e){var n;return o()(this,t),(n=d()(this,f()(t).call(this,e)))._scrollView=new Cn(e.languageContainer),n._appendContent(n._scrollView),n._scrollViewTop=new te.g(e.scrollViewTop),n._appendContent(n._scrollViewTop),n._scrollViewBottom=new te.g(e.scrollViewBottom),n._appendContent(n._scrollViewBottom),n._fillScrollView(),n}return m()(t,e),a()(t,[{key:"_fillScrollView",value:function(){var e=this;this._languages=[],this.options.languages.sort(function(e,t){return e.state?1:t.state?-1:e.language.name<t.language.name?1:-1});var t=this.options.languageContainer.topOffset;this.options.languages.forEach(function(n,i){var o=new In(n),s=o.getBoundingBoxToWorld().height;i&&(t+=e.options.languageContainer.margin),o.setPosition(e.options.languageContainer.viewSize.width/2,t+s/2),t+=s,e._languages.push(o),o.events.addListener("touch",function(t){return e._onLanguageTouch(t)})}),t+=this.options.languageContainer.bottomOffset,this._scrollView.addScrollChilds({size:cc.size(this.options.languageContainer.viewSize.width,t)},this._languages)}},{key:"_onLanguageTouch",value:function(e){this._languages.forEach(function(t){return t.setState(t.language===e)}),this.events.emit("selectedLanguage",e)}},{key:"getSelectedLanguage",value:function(){var e=this._languages.find(function(e){return e.state});return e?e.language:null}}]),t}(kn),Nn=function(e){function t(e){var n,i=e.position,s=e.player,a=e.points,r=e.coins;return o()(this,t),(n=d()(this,f()(t).call(this)))._position=i,n._texts=R.a.get("out-of-moves-popup"),n._player=s,n._points=a,n._coins=r,n}return m()(t,e),a()(t,[{key:"create",value:function(){var e=new On(this._getConfig());return e.shower=Tn(this._position),e.hider=Pn(this._position),e}},{key:"_getConfig",value:function(){var e={bgSprite:this._getBGConfig(),totalPoints:this._getTotalPointsConfig(),currentPoints:this._getCurrentPointsConfig(),totalCoins:this._getTotalCoinsConfig(),currentCoins:this._getCurrentCoinsConfig(),header:this._getHeaderConfig()};return{position:this._position,widgetFactory:this.widgetFactory,nodes:e}}},{key:"_getTotalPointsConfig",value:function(){return{ctor:cn,position:cc.p(-150,-135),nodes:{bg:{ctor:te.g,bg:ke.getImage("popup-total-points-bg")},icon:{ctor:te.g,bg:ke.getImage("popup-total-points-icon"),position:cc.p(0,58)},title:re({string:R.a.get("total-points"),position:cc.p(0,-24),fontSize:22,fillStyle:cc.color("#ffffff"),stroke:{size:2,color:cc.color("#0064ec")}}),points:re({string:y(this._player.points),fontSize:24,position:cc.p(0,-66),fillStyle:cc.color("#ffffff")})}}}},{key:"_getTotalCoinsConfig",value:function(){return{ctor:cn,position:cc.p(150,-135),nodes:{bg:{ctor:te.g,bg:ke.getImage("popup-total-coins-bg")},icon:{ctor:te.g,bg:ke.getImage("popup-total-coins-icon"),position:cc.p(0,58)},title:re({string:R.a.get("total-coins"),position:cc.p(0,-24),fontSize:22,fillStyle:cc.color("#ffffff"),stroke:{size:2,color:cc.color("#bb01cc")}}),coins:re({string:y(this._player.balance),fontSize:24,position:cc.p(0,-66),fillStyle:cc.color("#ffffff")})}}}},{key:"_getCurrentPointsConfig",value:function(){return{ctor:cn,position:cc.p(-150,150),nodes:{text:re({position:cc.p(0,-74),fillStyle:cc.color("#ffffff"),fontSize:50,string:y(this._points)}),shine:{ctor:te.g,bg:ke.getImage("popup-out-of-time-blue-shine"),position:cc.p(0,0)},icon:{position:cc.p(0,0),ctor:te.g,bg:ke.getImage("game-scene-header-star")}}}}},{key:"_getCurrentCoinsConfig",value:function(){return{ctor:cn,position:cc.p(150,150),nodes:{text:re({position:cc.p(0,-74),fillStyle:cc.color("#ffffff"),fontSize:50,string:y(this._coins)}),shine:{ctor:te.g,bg:ke.getImage("popup-out-of-time-pink-shine"),position:cc.p(0,0)},icon:{position:cc.p(0,0),ctor:te.g,bg:ke.getImage("game-scene-header-coins-icon")}}}}},{key:"_getHeaderConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Me()(f()(t.prototype),"_getHeaderConfig",this).call(this,oe.a.merge({ctor:te.g,bg:ke.getImage("out-of-time"),position:cc.p(0,280)},e))}},{key:"_getBGConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Me()(f()(t.prototype),"_getBGConfig",this).call(this,oe.a.merge({bg:ke.getImage("popup-shadow"),position:cc.p(0,0)},e))}}]),t}(En),Fn=Object.freeze({ON:"on",OFF:"off"}),Bn=function(e){function t(e){var n;switch(o()(this,t),(n=d()(this,f()(t).call(this,e)))._state=e.state||Fn.ON,n._state){case Fn.ON:n.getContentChild("iconOff").setVisible(!1);break;case Fn.OFF:n.getContentChild("iconOn").setVisible(!1)}return n}return m()(t,e),a()(t,[{key:"toggle",value:function(){switch(this._state){case Fn.ON:this._state=Fn.OFF,this.getContentChild("iconOn").setVisible(!1),this.getContentChild("iconOff").setVisible(!0);break;case Fn.OFF:this._state=Fn.ON,this.getContentChild("iconOn").setVisible(!0),this.getContentChild("iconOff").setVisible(!1)}}},{key:"state",get:function(){return this._state}}]),t}(te.h),zn=function(e){function t(){return o()(this,t),d()(this,f()(t).apply(this,arguments))}return m()(t,e),a()(t,[{key:"_initControlButton",value:function(){Me()(f()(t.prototype),"_initControlButton",this).call(this),this._button.addTargetWithActionForControlEvents(this,this._onTouchEvent,cc.CONTROL_EVENT_TOUCH_DRAG_ENTER)}},{key:"setGrayscale",value:function(e){this._button.getBackgroundSpriteForState(cc.CONTROL_STATE_NORMAL).setState(e?1:0),this._button.getBackgroundSpriteForState(cc.CONTROL_STATE_HIGHLIGHTED).setState(e?1:0)}},{key:"_onTouchEvent",value:function(e,t){var n=this.options.touchScale||.95;if(t===cc.CONTROL_EVENT_TOUCH_DOWN||t===cc.CONTROL_EVENT_TOUCH_DRAG_ENTER)switch(this._scaleOnTouchType){case xn.b.EACH:this._contentNode.children.forEach(function(e){return e.setScale(n)});break;case xn.b.CENTER:default:this._contentNode.setScale(n)}else{switch(this._scaleOnTouchType){case xn.b.EACH:this._contentNode.children.forEach(function(e){return e.setScale(1)});break;case xn.b.CENTER:default:this._contentNode.setScale(1)}t===cc.CONTROL_EVENT_TOUCH_UP_INSIDE&&this._onTouchUp()}}}]),t}(xn.a),Mn=function(e){function t(e){var n;o()(this,t),(n=d()(this,f()(t).call(this,e)))._text=new te.e(n.options.text),n.addChild(n._text,n.options.text.zOrder||0),n._icon=new te.g(n.options.icon),n.addChild(n._icon,n.options.icon.zOrder||0);var i=n.options.reversed?[n._icon,n._text]:[n._text,n._icon];return Object(se.b)(i,n.options.align),n}return m()(t,e),a()(t,[{key:"width",get:function(){return this._text.width+this._icon.width+(this.options.align.padding||0)}}]),t}(te.k),Ln=function(e){function t(e){var n,i=e.position,s=e.soundState,a=e.musicState,r=e.language;return o()(this,t),(n=d()(this,f()(t).call(this)))._position=i,n._texts=R.a.get("setup-popup"),n._soundState=s,n._musicState=a,n._language=r,n}return m()(t,e),a()(t,[{key:"create",value:function(){return new kn(this._getConfig())}},{key:"_getConfig",value:function(){return{key:M.SETUP.value,position:this._position,shower:Tn(this._position),hider:Pn(this._position),nodes:{_bg:this._getBGConfig(),_header:this._getHeaderConfig(),_buttonClose:this._getCloseButtonConfig({position:cc.p(184,188)}),_wrapper:this._getWrapperConfig({position:cc.p(0,15)}),_soundButton:this._getSoundButtonConfig(),_soundLabel:this._getSoundLabelConfig(),_musicButton:this._getMusicButtonConfig(),_musicLabel:this._getMusicLabelConfig(),_homeButton:this._getHomeButtonConfig()}}}},{key:"_getHomeButtonConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._texts.home;return this._getButtonConfig(se.a.merge({position:cc.p(0,-160),name:"home",nodes:{label:{align:{padding:10},text:{string:t},icon:{bg:ke.getImage("popup-home-icon")}}}},e))}},{key:"_getButtonConfig",value:function(e){return se.a.merge({ctor:xn.a,button:!0,normalImage:ke.getImage("popup-green-button-300-101"),highlightedImage:ke.getImage("popup-green-button-300-101-pressed"),nodes:{label:{ctor:Mn,position:cc.p(0,-2),reversed:!0,align:{align:se.c.CENTER_X},text:re({position:cc.p(23,0),fillStyle:H.WHITE,fontSize:32,stroke:{color:cc.color("#007033"),size:2}}),icon:{position:cc.p(-55,6),ctor:te.g}}}},e)}},{key:"_getMusicLabelConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return re(se.a.merge({position:cc.p(-77,72),fontSize:30,fillStyle:H.TEXT,string:this._texts.music},e))}},{key:"_getMusicButtonConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return se.a.merge({ctor:Bn,size:cc.size(96,98),position:cc.p(-77,-7),button:!0,name:"musicButton",normalImage:ke.getImage("popup-blue-button-96x98"),highlightedImage:ke.getImage("popup-blue-button-96x98-pressed"),state:this._musicState,nodes:{iconOn:{ctor:te.g,bg:ke.getImage("popup-music-on-icon")},iconOff:{ctor:te.g,bg:ke.getImage("popup-music-off-icon")}}},e)}},{key:"_getLanguageButtonConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return se.a.merge({ctor:zn,size:cc.size(96,98),button:!0,name:"languageButton",normalImage:ke.getImage("popup-blue-button-96x98"),highlightedImage:ke.getImage("popup-blue-button-96x98-pressed"),state:this._musicState,nodes:{label:re({string:this._language.value,fontSize:22,stroke:{size:2,color:cc.color("#2e8a12")}})}},e)}},{key:"_getLanguageLabelConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return re(se.a.merge({fontSize:22,fillStyle:H.TEXT,string:R.a.get("language-popup").header},e))}},{key:"_getSoundLabelConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return re(se.a.merge({position:cc.p(77,72),fontSize:30,fillStyle:H.TEXT,string:this._texts.sound},e))}},{key:"_getSoundButtonConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return se.a.merge({ctor:Bn,size:cc.size(96,98),position:cc.p(77,-7),button:!0,name:"soundButton",normalImage:ke.getImage("popup-blue-button-96x98"),highlightedImage:ke.getImage("popup-blue-button-96x98-pressed"),state:this._soundState,nodes:{iconOn:{ctor:te.g,bg:ke.getImage("popup-sound-on-icon")},iconOff:{ctor:te.g,bg:ke.getImage("popup-sound-off-icon")}}},e)}},{key:"_getHeaderConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Me()(f()(t.prototype),"_getHeaderConfig",this).call(this,se.a.merge({ctor:cn,position:cc.p(-2,187),nodes:{bg:{position:cc.p(0,0)},label:re({string:this._texts.header})}},e))}},{key:"_getBGConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Me()(f()(t.prototype),"_getBGConfig",this).call(this,se.a.merge({bg:ke.getImage("popup-bg-464x406"),position:cc.p(0,-50)},e))}}]),t}(En),Un=function(e){function t(e){return o()(this,t),d()(this,f()(t).call(this,e))}var n,i;return m()(t,e),a()(t,[{key:"_preShow",value:(i=X()(Y.a.mark(function e(){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me()(f()(t.prototype),"_preShow",this).call(this);case 2:Object(ie.a)(this.header),this.header.setPosition(cc.pAdd(this.header.options.position,cc.p(0,-120))),this.header.setScale(.25),Object(ie.a)(this.energy),this.energy.setScale(0),Object(ie.a)(this.bgSprite),[this.header,this.energy,this.bgSprite].forEach(function(e){return e.setOpacity(0)}),this.setScale(1);case 10:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"_show",value:(n=X()(Y.a.mark(function e(){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setPosition(this.options.position),e.next=3,Promise.all([se.a.runCocosAction(this.header,cc.spawn([cc.scaleTo(.45,1),cc.fadeIn(.45),cc.moveBy(.45,cc.p(0,120))])),se.a.runCocosAction(this.energy,cc.sequence([cc.delayTime(.35),cc.spawn([cc.scaleTo(.35,1).easing(cc.easeBackOut()),cc.fadeIn(0)])]))]);case 3:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})}]),t}(kn),Hn=function(e){function t(e){var n,i=e.position,s=e.player;return o()(this,t),(n=d()(this,f()(t).call(this)))._position=i,n._texts=R.a.get("not-enough-energy-popup"),n._player=s,n}return m()(t,e),a()(t,[{key:"create",value:function(){var e=new Un(this._getConfig());return e.shower=Tn(this._position),e.hider=Pn(this._position),e}},{key:"_getConfig",value:function(){var e={bgSprite:this._getBGConfig(),energy:this._getEnergyConfig(),header:this._getHeaderConfig()};return{position:this._position,widgetFactory:this.widgetFactory,nodes:e}}},{key:"_getEnergyConfig",value:function(){return{ctor:cn,position:cc.p(0,0),nodes:{bg:{ctor:te.g,bg:ke.getImage("not-enough-energy-icon")}}}}},{key:"_getHeaderConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Me()(f()(t.prototype),"_getHeaderConfig",this).call(this,oe.a.merge({ctor:te.g,bg:ke.getImage("not-enough-energy"),position:cc.p(0,280)},e))}},{key:"_getBGConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Me()(f()(t.prototype),"_getBGConfig",this).call(this,oe.a.merge({bg:ke.getImage("popup-shadow"),position:cc.p(0,0)},e))}}]),t}(En),Dn=function(e){function t(e){var n,i=e.position,s=e.description,a=e.showSupportButton;return o()(this,t),(n=d()(this,f()(t).call(this)))._position=i,n._texts=R.a.get("error-popup"),n._description=s,n._showSupportButton=a,n}return m()(t,e),a()(t,[{key:"create",value:function(){return new kn(this._getConfig())}},{key:"_getConfig",value:function(){var e={key:M.ERROR.value,position:this._position,shower:Tn(this._position),hider:Pn(this._position),nodes:{_bg:this._getBGConfig(),_header:this._getHeaderConfig(),_description:this._getDescriptionConfig(),_refreshButton:this._getRefreshButtonConfig()}};return this._showSupportButton&&(e.nodes._supportButton=this._getSupportButtonConfig(),e.nodes._text=this._getTextConfig()),e}},{key:"_getDescriptionConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return re(se.a.merge({string:this._description,fontSize:35,position:cc.p(0,this._showSupportButton?109:43),fillStyle:cc.color("#d66942")},e))}},{key:"_getTextConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return re(se.a.merge({string:this._texts["if-you-often-see"],fontSize:26,position:cc.p(0,-24),fillStyle:cc.color("#e49461")},e))}},{key:"_getHeaderConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Me()(f()(t.prototype),"_getHeaderConfig",this).call(this,se.a.merge({ctor:cn,position:cc.p(0,230),nodes:{bg:{position:cc.p(0,0)},label:re({string:this._texts.header,position:cc.p(0,5),fontSize:32})}},e))}},{key:"_getBGConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Me()(f()(t.prototype),"_getBGConfig",this).call(this,se.a.merge({bg:ke.getImage("popup-bg-453x485"),position:cc.p(0,0)},e))}},{key:"_getSupportButtonConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return se.a.merge({ctor:xn.a,position:cc.p(100,-135),button:!0,name:"sendMessage",normalImage:ke.getImage("error-green-button"),highlightedImage:ke.getImage("error-green-button-pressed"),nodes:{text:re({zOrder:1,string:this._texts["send-message"],fontSize:22,fillStyle:H.WHITE,stroke:{color:cc.color("#50a00b"),size:2}})}},e)}},{key:"_getRefreshButtonConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return se.a.merge({ctor:xn.a,position:cc.p(this._showSupportButton?-100:0,-135),button:!0,name:"reloadPage",normalImage:ke.getImage("error-orange-button"),highlightedImage:ke.getImage("error-orange-button-pressed"),nodes:{text:re({zOrder:1,string:this._texts["reload-page"],fontSize:22,fillStyle:H.WHITE,stroke:{color:cc.color("#c5751a"),size:2}})}},e)}}]),t}(En),jn=function(e){function t(e){var n,i=e.position,s=e.currentLanguage;return o()(this,t),(n=d()(this,f()(t).call(this)))._position=i,n._currentLanguage=s,n._texts=R.a.get("language-popup"),n}return m()(t,e),a()(t,[{key:"create",value:function(){return new Rn(this._getConfig())}},{key:"_getConfig",value:function(){var e=Object.values(V).filter(function(e){return!!e.name});return{position:this._position,key:M.LANGUAGE.value,shower:Tn(this._position),hider:Pn(this._position),languageContainer:this._getLanguageContainerConfig(),languages:this._getLanguageConfigs(e),scrollViewTop:this._getScrollViewTopConfig(),scrollViewBottom:this._getScrollViewBottomConfig(),nodes:{_bg:this._getBGConfig(),_plank:this._getPlankConfig(),_scrollBarBg:this._getScrollBarBgConfig(),_header:this._getHeaderConfig(),_closeButton:this._getCloseButtonConfig({position:cc.p(213,291)})}}}},{key:"_getHeaderConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Me()(f()(t.prototype),"_getHeaderConfig",this).call(this,se.a.merge({position:cc.p(0,289),nodes:{label:{string:this._texts.header,position:cc.p(0,5)}}},e))}},{key:"_getLanguageContainerConfig",value:function(){return{image:ke.getImage("popup-scroll-slider"),position:cc.p(-175,-181),viewSize:cc.size(350,407),scrollBarRect:cc.rect(0,10,11,35),scrollBarPadding:{left:12},topOffset:35,margin:30,bottomOffset:35}}},{key:"_getBGConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Me()(f()(t.prototype),"_getBGConfig",this).call(this,se.a.merge({ctor:Sn,caps:cc.rect(30,30,393,425),size:cc.size(450,558),bg:ke.getImage("popup-bg-453x485"),position:cc.p(0,26)},e))}},{key:"_getPlankConfig",value:function(){return{ctor:Sn,bg:ke.getImage("popup-shop-row-bg"),caps:cc.rect(20,20,10,10),size:cc.size(350,408),position:cc.p(0,24)}}},{key:"_getScrollBarBgConfig",value:function(){return{ctor:te.g,bg:ke.getImage("popup-scroll"),position:cc.p(193,24)}}},{key:"_getScrollViewTopConfig",value:function(){return{ctor:te.g,bg:ke.getImage("popup-scroll-view-top"),position:cc.p(0,207)}}},{key:"_getScrollViewBottomConfig",value:function(){return{ctor:te.g,bg:ke.getImage("popup-scroll-view-bottom"),position:cc.p(0,-161)}}},{key:"_getLanguageConfigs",value:function(e){var t=this,n=[];return e.forEach(function(e){n.push(t._getLanguageConfig(e,e===t._currentLanguage))}),n}},{key:"_getLanguageConfig",value:function(e,t){return{language:e,state:t,checkBoxBg:{bg:ke.getImage("popup-check-box"),position:cc.p(-90,0)},checkBoxMark:{bg:ke.getImage("popup-check-mark"),position:cc.p(-90,0)},label:re({string:e.name,fontSize:26,fillStyle:cc.color("#d66942"),position:cc.p(-32,0),label:{anchorPoint:cc.p(0,.5)}})}}}]),t}(En),Gn=function(){function e(t){o()(this,e),k()(this,"_widgetFactory",void 0),this._widgetFactory=t}return a()(e,[{key:"create",value:function(t,n){var i=e.getFactoryMap()[t];if(!i)throw new Error("Нет фабрики для попапа ".concat(t));var o=new i(n);o.widgetFactory=this._widgetFactory;var s=o.create();return s.key=t,s}}],[{key:"getFactoryMap",value:function(){var e;return e={},k()(e,M.OUT_OF_TIME.value,Nn),k()(e,M.NOT_ENOUGH_ENERGY.value,Hn),k()(e,M.ERROR.value,Dn),k()(e,M.SETUP.value,Ln),k()(e,M.LANGUAGE.value,jn),e}}]),e}(),Wn=function(){function e(t){var n=t.widgetFactory;o()(this,e),this._widgetFactory=n}return a()(e,[{key:"create",value:function(){return this._createConfigs()}},{key:"_createConfigs",value:function(){return{gradientBg:this._createGradientBg(),bg:this._createBG(),title:this._createTitle(),percentLabel:this._createPercentLabel(),progressSprite:this._createProgressSprite(),progressBgSprite:this._createProgressBgSprite(),tipsLabel:this._createTipsLabel()}}},{key:"_createGradientBg",value:function(){return new cc.LayerGradient(H.BLUE_BACKGROUND,H.AZURE_BACKGROUND)}},{key:"_createBG",value:function(){return this._widgetFactory.createFullScreenSprite("preloader")}},{key:"_createProgressSprite",value:function(){return this._widgetFactory.createSpriteWidget("preloader-progress",{position:cc.p(-220,0),fullWidth:492})}},{key:"_createProgressBgSprite",value:function(){var e=cc.view.getVisibleSize();return this._widgetFactory.createSpriteWidget("preloader-progress-bg",{position:cc.p(e.width/2,e.height/2-200)})}},{key:"_createTitle",value:function(){var e=cc.view.getVisibleSize();return this._widgetFactory.createSpriteWidget("preloader-title",{position:cc.p(e.width/2,e.height/2+100)})}},{key:"_createPercentLabel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new te.e(se.a.merge({fillStyle:H.WHITE,fontSize:24,position:cc.p(0,2),fontName:r.Riffic,stroke:{size:2,color:cc.color("#45942b")},string:""},e))}},{key:"_createTipsLabel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new te.e(se.a.merge({position:cc.p(cc.winSize.width/2,cc.winSize.height/2-325),fontSize:22,fontName:r.Riffic,fillStyle:H.WHITE,stroke:{color:cc.color("#8a4730"),size:2}},e));return t.setCascadeOpacityEnabled(!0),t}}]),e}(),Vn=function(e){function t(e){var n;return o()(this,t),(n=d()(this,f()(t).call(this,e))).options.size&&(n._bg._setWidth(n.options.size.width),n._bg._setHeight(n.options.size.height)),n.options.image&&n.addChild(new te.g(n.options.image)),n}return m()(t,e),t}(te.d),qn=function(e){function t(e){var n;o()(this,t),n=d()(this,f()(t).call(this,e)),k()(Rt()(n),"_amount",void 0);var i=!1;return T(Rt()(n),function(e){return n.button._button.setHighlighted(!1),n.button._onTouchEvent(),i&&(n.events.emit("touch"),i=!1),e},function(e){return e&&(i=!0,n.button._button.setHighlighted(!0),n.button._onTouchEvent(n._button._button,cc.CONTROL_EVENT_TOUCH_DOWN)),e}),n.button.events.on("touch",function(){return n.events.emit("touch")}),n}return m()(t,e),a()(t,[{key:"setAmount",value:function(e){this.label.setString(e.toString()),this.amount=e}},{key:"button",get:function(){return this.getChildByName("button")}},{key:"label",get:function(){return this.getChildByName("amount")}},{key:"amount",get:function(){return this._amount},set:function(e){this._amount=e}}]),t}(cn),Kn=function(e){function t(){return o()(this,t),d()(this,f()(t).apply(this,arguments))}var n,i;return m()(t,e),a()(t,[{key:"update",value:function(e,t){this.updateLabel(e,t);var n=e/t,i=this.progress.sprite.getTextureRect(),o=Math.min(1,n)*this.progress.options.fullWidth;this.progress.sprite.setTextureRect(Object.assign(i,{width:o}))}},{key:"updateWithAnimation",value:(i=X()(Y.a.mark(function e(t,n,i){var o,s;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this.progress.sprite.getTextureRect().width,s=Math.min(1,t/n)*this.progress.options.fullWidth,this.progress.stopAllActions(),e.next=5,se.a.runCocosAction(this.progress,E(i,{start:o,end:s,measurement:"width"}));case 5:case"end":return e.stop()}},e,this)})),function(e,t,n){return i.apply(this,arguments)})},{key:"updateLabel",value:function(e,t){var n=e<t?Math.min(Math.floor(100*e/t),99):100;this.label.setString(n+"%")}},{key:"updateLabelWithAnimation",value:(n=X()(Y.a.mark(function e(t,n,i,o){var s,a;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=Math.min(Math.floor(100*t/i),99),a=n<i?Math.min(Math.floor(100*n/i),99):100,e.next=4,se.a.runCocosAction(this.label,v(o,s,a,!0));case 4:case"end":return e.stop()}},e,this)})),function(e,t,i,o){return n.apply(this,arguments)})}]),t}(cn),Jn=function(e){function t(){return o()(this,t),d()(this,f()(t).apply(this,arguments))}return m()(t,e),t}(function(){function e(){o()(this,e)}return a()(e,[{key:"createFullScreenSprite",value:function(e){var t=new cc.Sprite(ke.getImage(e)),n=cc.view.getVisibleSize();t.setPosition(n.width/2,n.height/2);var i=t.getTextureRect(),o=cc.rect((i.width-n.width)/2,(i.height-n.height)/2,n.width,n.height);return t.setTextureRect(o),t}},{key:"createAnimationWidget",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new Ht(se.a.merge({widgetFactory:this},ke.getSpineAtlas(e.name),e));return void 0!==e.anchorPoint&&t.setAnchorPoint(e.anchorPoint),void 0!==e.scale&&t.setScale(e.scale),t}},{key:"createSpriteWidget",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=e instanceof Object?e:se.a.merge({bg:ke.getImage(e)},n),new te.g(t)}},{key:"createLabelWidget",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new te.e(ae(e))}},{key:"createLoaderWidgets",value:function(){return new Wn({widgetFactory:this}).create()}},{key:"createSvgButton",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"yellow"};return new te.h(se.a.merge({normalImage:ke.getImage("".concat(e.type||"yellow","-button")),highlightedImage:ke.getImage("".concat(e.type||"yellow","-button-highlighted")),nodes:{}},e))}},{key:"createInGameNotify",value:function(e){return e.position=e.position||cc.p(cc.winSize.width/2,100),new Vn(se.a.merge({caps:cc.rect(30,30,394,76),size:cc.size(454,136),bg:ke.getImage("payment-notify-bg"),hider:Pn(e.position),shower:Tn(e.position),image:{bg:ke.getImage("payment-notify-icon"),position:cc.p(-160,8)},label:re({position:cc.p(35,8),fillStyle:H.TEXT,string:e.message,fontSize:24,lineHeight:20})},e))}},{key:"createBadConnectMessage",value:function(){var e=cc.winSize.width,t=new cn({position:cc.p(0,0),nodes:{bg:{ctor:Sn,caps:cc.rect(15,15,30,114),size:cc.size(e,144),position:cc.p(e/2,0),bg:ke.getImage("game-scene-bad-connect-bg")},label:re({string:ne.a.getText("bad-connect"),position:cc.p(cc.winSize.width/2,0),fontSize:46,stroke:{size:2,color:cc.color("#b81b07")}})}}),n=t.bg.sprite.getBoundingBox();return t.setPositionY(cc.winSize.height+n.height/2-144),t}},{key:"createGameHeader",value:function(){var e=cc.view.getVisibleSize(),t=new cn({position:cc.p(0,0),nodes:{bg:{ctor:Sn,caps:cc.rect(20,20,870,100),size:cc.size(e.width,144),position:cc.p(e.width/2,0),bg:ke.getImage("game-scene-header")},setup:{ctor:zn,position:cc.p(e.width-56,25),normalImage:ke.getImage("game-scene-setup-button"),highlightedImage:ke.getImage("game-scene-setup-button-pressed"),nodes:{icon:{ctor:te.g,bg:ke.getImage("game-scene-pause-icon"),position:cc.p(0,1)}}},timer:{ctor:cn,position:cc.p(297,-36),nodes:{bg:{ctor:te.g,bg:ke.getImage("game-scene-timer-bg"),position:cc.p(0,0)},progress:{ctor:te.g,bg:ke.getImage("game-scene-timer-value"),position:cc.p(-224,2),fullWidth:480,sprite:{anchorPoint:cc.p(0,.5)}},light:{ctor:te.g,bg:ke.getImage("game-scene-timer-light"),position:cc.p(2,4)},icon:{ctor:te.g,bg:ke.getImage("game-scene-header-timer-icon"),position:cc.p(-242,0)}}},points:{ctor:cn,position:cc.p(134,22),nodes:{bg:{ctor:Sn,bg:ke.getImage("game-scene-header-label-wrap"),caps:cc.rect(10,10,140,12),size:cc.size(160,32),position:cc.p(0,0)},icon:{ctor:te.g,bg:ke.getImage("game-scene-header-star"),position:cc.p(-80,1)},label:re({string:"0",fontSize:24,position:cc.p(-40,-2.5),textAlign:cc.TEXT_ALIGNMENT_LEFT,label:{anchorPoint:cc.p(0,.5)}})}},coins:{ctor:cn,position:cc.p(326,22),nodes:{bg:{ctor:Sn,bg:ke.getImage("game-scene-header-label-wrap"),caps:cc.rect(10,10,140,12),size:cc.size(90,32),position:cc.p(0,0)},icon:{ctor:te.g,bg:ke.getImage("game-scene-header-coins-icon"),position:cc.p(-56,1)},label:re({string:"0",fontSize:24,position:cc.p(-18,-2.5),textAlign:cc.TEXT_ALIGNMENT_LEFT,label:{anchorPoint:cc.p(0,.5)}})}}}}),n=t.bg.sprite.getBoundingBox();return t.setPositionY(e.height+n.height/2-144),t.bg.removeFromParent(),t}},{key:"createGameCombo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new un(se.a.merge({position:cc.p(47,39),progress:{sprite:ke.getImage("game-scene-combo-progress"),position:cc.p(0,-10)},nodes:{bg:{ctor:te.g,bg:ke.getImage("game-scene-combo"),order:-1},points:re({string:"0",fontSize:52,scale:.7,fillStyle:cc.color("#ffe704"),stroke:{size:2,color:cc.color("#940f0f")},position:cc.p(0,-9),textAlign:cc.TEXT_ALIGNMENT_CENTER,label:{anchorPoint:cc.p(.5,.5)},order:1})}},e))}},{key:"createGameFooter",value:function(){var e=cc.winSize.width,t=new cn({position:cc.p(0,0),nodes:{bg:{ctor:Sn,caps:cc.rect(20,20,870,121),size:cc.size(e,161),position:cc.p(e/2,0),bg:ke.getImage("game-scene-footer")}}}),n=t.bg.sprite.getBoundingBox();return t.setPositionY(-n.height/2+64),t.bg.removeFromParent(),t}},{key:"createBestResult",value:function(){var e=cc.view.getVisibleSize();return new cn({position:cc.p(e.width/2+126,e.height/2+130),nodes:{bg:{ctor:te.g,bg:ke.getImage("game-scene-best-result")},title:re({string:ne.a.get("best-result"),position:cc.p(0,-32.5),fontSize:16,fillStyle:cc.color("#ffffff"),stroke:{size:2,color:cc.color("#c03f00")}}),points:re({string:"1 K",fontSize:22,position:cc.p(0,-65),fillStyle:cc.color("#ffffff")})}})}},{key:"createTotalPoints",value:function(){var e=cc.view.getVisibleSize();return new cn({position:cc.p(e.width/2-126,e.height/2+130),nodes:{bg:{ctor:te.g,bg:ke.getImage("game-scene-total-points")},title:re({string:ne.a.get("total-points"),position:cc.p(0,-32.5),fontSize:16,fillStyle:cc.color("#ffffff"),stroke:{size:2,color:cc.color("#0064ec")}}),points:re({string:"1 K",fontSize:22,position:cc.p(0,-65),fillStyle:cc.color("#ffffff")})}})}},{key:"createHomePlayButton",value:function(){return new zn({position:cc.p(cc.winSize.width/2,cc.winSize.height/2-217),normalImage:ke.getImage("game-scene-play-button"),highlightedImage:ke.getImage("game-scene-play-button-pressed"),nodes:{label:re({string:ne.a.getText("home-play-button"),fontSize:42,position:cc.p(0,0),stroke:{color:cc.color("#007033"),size:2}})}})}},{key:"createHomeBackButton",value:function(){return new zn({position:cc.p(cc.winSize.width/2,cc.winSize.height/2-355),normalImage:ke.getImage("game-scene-back-button"),highlightedImage:ke.getImage("game-scene-back-button-pressed"),nodes:{label:re({string:ne.a.getText("home-back-button"),fontSize:28,position:cc.p(0,0),stroke:{color:cc.color("#1d27b4"),size:2}})}})}},{key:"createAuthorizeButton",value:function(){return new zn({position:cc.p(cc.winSize.width/2,cc.winSize.height/2-293),normalImage:ke.getImage("game-scene-auth-button"),highlightedImage:ke.getImage("game-scene-auth-button-pressed"),nodes:{label:re({string:ne.a.getText("home-auth-button"),fontSize:20,position:cc.p(0,0),stroke:{color:cc.color("#147ac9"),size:2}})}})}},{key:"_createHeaderCoinsConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return se.a.merge({ctor:qn,position:cc.p(cc.winSize.width/2-(cc.view._designResolutionSize.width/2-340),-28),changeCursorOnHover:!0,nodes:{_bg:{ctor:Sn,bg:ke.getImage("game-scene-header-label-wrap"),caps:cc.rect(10,10,150,20),size:cc.size(170,40),position:cc.p(0,0)},_icon:{ctor:te.g,bg:ke.getImage("game-scene-header-coins-icon"),position:cc.p(-58,-1)},_button:{ctor:te.b,name:"button",normalImage:ke.getImage("game-scene-header-coins-button"),highlightedImage:ke.getImage("game-scene-header-coins-button-pressed"),position:cc.p(68,0),nodes:{cross:{ctor:te.g,bg:ke.getImage("game-scene-header-coins-plus"),position:cc.p(0,1)}}},_label:re({string:"",name:"amount",fontSize:24,position:cc.p(12,-1),stroke:{color:cc.color("#a92708"),size:2}})}},e)}},{key:"createHomeHeader",value:function(){var e=new cn({position:cc.p(0,0),nodes:{setup:{ctor:zn,position:cc.p(cc.view.getVisibleSize().width-56,40),normalImage:ke.getImage("game-scene-setup-button"),highlightedImage:ke.getImage("game-scene-setup-button-pressed"),nodes:{icon:{ctor:te.g,bg:ke.getImage("game-scene-setup-icon"),position:cc.p(-1,2)}}},energy:{ctor:cn,position:cc.p(134,22),nodes:{bg:{ctor:Sn,bg:ke.getImage("game-scene-header-label-wrap"),caps:cc.rect(10,10,140,12),size:cc.size(160,32),position:cc.p(0,0)},icon:{ctor:te.g,bg:ke.getImage("game-scene-header-energy"),position:cc.p(-80,1)},label:re({string:"100/100",fontSize:20,position:cc.p(4,-2.5),textAlign:cc.TEXT_ALIGNMENT_CENTER,label:{anchorPoint:cc.p(.5,.5)}})}}}});return e.setPositionY(cc.view.getVisibleSize().height-86),e}},{key:"createHomeFooter",value:function(){var e=cc.winSize.width,t={position:cc.p(0,0),nodes:{bg:{ctor:Sn,caps:cc.rect(20,20,870,121),size:cc.size(e,161),position:cc.p(e/2,0),bg:ke.getImage("game-scene-footer")}}},n=new cn(t),i=n.bg.sprite.getBoundingBox();return n.setPositionY(-i.height/2+96),n.bg.removeFromParent(),n}},{key:"createChestProgress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Kn(se.a.merge(this._createChestProgressConfig(),e))}},{key:"_createChestProgressConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return se.a.merge({ctor:Kn,position:cc.p(0,-2),nodes:{bg:{ctor:te.g,bg:ke.getImage("chest-progress-bg"),position:cc.p(0,0)},progress:{ctor:te.g,bg:ke.getImage("chest-progress-value"),position:cc.p(-140,2),fullWidth:278,sprite:{anchorPoint:cc.p(0,.5)}},light:{ctor:te.g,bg:ke.getImage("chest-progress-light"),position:cc.p(0,2)},label:re({string:"0%",fontSize:24,position:cc.p(0,-1),stroke:{color:cc.color("#575e66"),size:2}})}},e)}},{key:"createChestRewardButton",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new zn(se.a.merge({position:cc.p(cc.winSize.width/2,cc.winSize.height/2-224),normalImage:ke.getImage("game-scene-play-button"),highlightedImage:ke.getImage("game-scene-play-button-pressed"),nodes:{label:re({string:ne.a.getText("open"),fontSize:42,position:cc.p(0,0),stroke:{color:cc.color("#2e8a12"),size:2}})}},e))}},{key:"createTargetWidget",value:function(e){return new te.i({bg:ke.getImage("pointer-target"),count:1,color:cc.color("#dfffb8"),position:e})}},{key:"createContinueLabel",value:function(e){var t=new te.e(ae({fontSize:30,string:ne.a.getText("continue"),fillStyle:cc.color("#fefdfc"),position:cc.p(cc.winSize.width/2,120)}));return Object(ie.a)(t),t.setOpacity(0),e.addChild(t),t.show=function(){return se.a.runCocosAction(t,cc.fadeIn(.25))},t}},{key:"getIconsForRewardAnimation",value:function(e,t,n,i){for(var o=[],s=0;s<t;s++){var a=this.createSpriteWidget(se.a.merge(e,{position:i}));a.setPosition(cc.pAdd(a.getPosition(),cc.p(se.a.getRandomInt(-50,50),se.a.getRandomInt(-20,20)))),Object(ie.a)(a),a.setOpacity(0),a.setScale(0),n.addChild(a),o.push(a)}return o}},{key:"createTutorialMessage",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new cn(se.a.merge({position:cc.p(0,0),nodes:{bg:{ctor:Sn,bg:ke.getImage("popup-bg"),caps:cc.rect(50,50,332,418),size:e},label:re({string:t,fontSize:24,dimensions:e,fillStyle:cc.color("#d66942")})}},n))}},{key:"createExtraTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=cc.view.getVisibleSize();return new cn(se.a.merge({position:cc.p(n.width/2,n.height/2-35),nodes:{icon:{ctor:te.g,bg:ke.getImage("game-scene-combo"),position:cc.p(0,0)},label:re({string:"+".concat(e),position:cc.p(0,-10),fontSize:50,fillStyle:cc.color("#dc7a0c"),stroke:{color:cc.color("#ffffff"),size:2}})}},t))}},{key:"createPointsWidget",value:function(e){return new te.e(ae(e))}},{key:"createXWidget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=cc.view.getVisibleSize();return new cn(se.a.merge({position:cc.p(n.width/2+100,n.height/2-35),nodes:{icon:{ctor:te.g,bg:ke.getImage("game-scene-x-wrapper"),position:cc.p(0,0)},label:re({string:"x".concat(e),position:cc.p(0,-10),fontSize:50,fillStyle:cc.color("#ff9e1d"),stroke:{color:cc.color("#ffffff"),size:1}})}},t))}}]),e}()),Yn=n(34),Zn=0,Xn=0,Qn=function(e){function t(e){var n;return o()(this,t),(n=d()(this,f()(t).call(this)))._hud=e,n._game=n._hud.game,++Zn,n}var n,i;return m()(t,e),a()(t,[{key:"run",value:(i=X()(Y.a.mark(function e(){var t,n,i,o,s,a,r,c=this;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._hud.blocker.block("touchBegan"),n=this._game,s=.45,!(n.levelMap.things.length>6&&n.moves>=n.level.collapseStartMove)){e.next=13;break}if((a=this._doReduce())||(r=[function(){return c._doCollapse()},function(){return c._doSquare()}],Math.random()<.3&&r.reverse(),(a=r[0]())||(a=r[1]())),!a){e.next=12;break}return Ce.playEffect(L["FIELD_CHIP_MOVE_".concat(oe.a.getRandomElement([0,1,2]))].id),e.next=11,oe.a.delay(200)();case 11:i=this._hud.field.redrawWidthAnimation(s);case 12:o=this._hud.adjustFieldWithAnimation(s);case 13:return e.next=15,Promise.all([i,o].filter(Boolean));case 15:if(n.levelMap.findAllConnects(n.maxTurns).length){e.next=24;break}return++n.shuffle,n.levelMap.shuffle(n.maxTurns),Ce.playEffect(L.HINT_SHUFFLE.id),e.next=22,this._hud.field.redrawWidthAnimation(s);case 22:e.next=26;break;case 24:return e.next=26,this._addHammer();case 26:t.resolve();case 27:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"_doCollapse",value:function(){console.log("_doCollapse");for(var e=oe.a.shuffle(this._game.level.collapseDeltas.slice(0)),t=0;t<e.length;++t)if(this._game.levelMap.collapse(e[t]))return!0;return!1}},{key:"_doSquare",value:function(){return console.log("_doSquare"),this._game.levelMap.moveSquare(2)}},{key:"_doReduce",value:function(){return console.log("_doReduce"),this._game.levelMap.reduce()}},{key:"_addHammer",value:(n=X()(Y.a.mark(function e(){var t,n,i,o,s,a;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._hud.game.hammer,n=!this._hud.game.levelMap.things.some(function(e){return e.componentManager.getHammerComponent()}),i=this._hud.game.levelMap.findThingForHammer(),o=Math.random()<.25,s=Zn-Xn>3,!(o&&t&&n&&s&&this._hud.game.levelMap.things.length/2>8&&i)){e.next=13;break}if(!(a=this._hud.field.findView(i))){e.next=13;break}return Xn=Zn,i.componentManager.add(new qt(wt.hammer)),Ce.playEffect(L.HAMMER_APPEAR.id),e.next=13,a.addHammer();case 13:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})}]),t}(Yn.a),$n=n(127),ei=function(e){function t(){return o()(this,t),d()(this,f()(t).apply(this,arguments))}var n;return m()(t,e),a()(t,[{key:"run",value:(n=X()(Y.a.mark(function e(){var t;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this._context.musicState>0?1:0,Ce.setEffectsVolume(this._context.soundState),Ce.setMusicVolume(t);case 3:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})}]),t}($n.a),ti={TOGGLE_FULLSCREEN:"toggleFullscreen",SHOW_POPUPS_ON_START:"ShowPopupsOnStart",SHOW_ERROR_POPUP:"showErrorPopup",START_LEVEL:"startLevel",START_NEXT_LEVEL:"startNextLevel",GO_TO_NEXT_PART:"goToNextPart",OUT_OF_TIME:"outOfTime",SHOW_OUT_OF_TIME_POPUP:"showOutOfTimePopup",SHOW_NOT_ENOUGH_ENERGY_POPUP:"showNotEnoughEnergyPopup",SHOW_SHOP_POPUP:"showShopPopup",SET_VOLUME:"setVolume",LEVEL_1_TUTORIAL:"level1Tutorial",UPDATE_PLAYER_PROGRESS:"UpdatePlayerProgress",SHOW_HOME_HUD:"showHomeHud",SHOW_GAME_HUD:"showGameHud",SHOW_MIDROLL:"showMidroll",SHOW_IN_GAME_NOTIFY:"showInGameNotify",SHOW_LANGUAGE_POPUP:"showLanguagePopup",SHOW_SETUP_POPUP:"showSetupPopup",SHOW_TIP:"showTip",AFTER_MOVE:"afterMove",SHOW_CONFETTI:"showConfetti",AWAIT_LOADING_RESOURCES:"awaitLoadingResources"},ni=function(e){function t(){return o()(this,t),d()(this,f()(t).apply(this,arguments))}return m()(t,e),a()(t,[{key:"run",value:function(){return this._context.playerProgressService.saveAll(this._context.playerProgress)}}]),t}($n.a),ii=function(e){function t(e){var n;return o()(this,t),(n=d()(this,f()(t).call(this)))._scene=e,n}return m()(t,e),a()(t,[{key:"scene",get:function(){return this._scene}}]),t}(Yn.a),oi=function(e){function t(e,n){var i;return o()(this,t),(i=d()(this,f()(t).call(this,e)))._options=n,i}var n;return m()(t,e),a()(t,[{key:"run",value:(n=X()(Y.a.mark(function e(){var t;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.scene.widgetFactory.createInGameNotify(this._options),this.scene.addChild(t),t.setLocalZOrder(this.scene.fader.getLocalZOrder()+1),e.next=5,t.show();case 5:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})}]),t}(ii),si=function(e){function t(e){var n;return o()(this,t),n=d()(this,f()(t).call(this,e)),k()(Rt()(n),"levelNumber",void 0),k()(Rt()(n),"hud",void 0),n.hud=e.gameHUD,n.levelNumber=81,n}var n,i;return m()(t,e),a()(t,[{key:"run",value:(i=X()(Y.a.mark(function e(){var t,n,i,o,s,a=this;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(se.i)(!1),this.hud.blocker.block("touchBegan"),t=0==this.scene.context.viewer.player.finishes,e.next=5,this.showActivitiesBeforeGame();case 5:return e.next=7,this.scene.context.gameService.startGame({levelId:2});case 7:if(n=e.sent,i=[],!t){e.next=15;break}return e.next=12,this.scene.context.levelService.getLevelsForTutorial();case 12:i=e.sent,e.next=18;break;case 15:return e.next=17,this.scene.context.levelService.getLevelsForGame(14);case 17:i=e.sent;case 18:(o=new sn(n.id,i)).maxCoins=n["max-coins"]||0,o.limitedTurns=this.scene.context.limitedTurns,o.duration=t?20:45,++this.scene.context.gamesCount,this.hud.timer.init(o.duration),this.hud.updateBg(o.episodeKey);try{o.fillNumbers(),this.scene.context.hammer&&Math.random()<.35&&this.levelNumber>10&&(o.hammer=!0,(s=o.levelMap.findThingForHammer(o.maxTurns))&&s.componentManager.add(new qt(wt.hammer))),this.hud.initGame(o),this.hud.field.redraw(),this.hud.field.setVisible(!1)}catch(e){console.error(e)}return this.hud.header.setup.visible=this.levelNumber>1,this.hud.updatePoints(0),this.hud.updateCoins(0),e.next=31,Promise.all([this.scene.actions.run(ti.SHOW_GAME_HUD),se.a.delay(500)().then(function(){return a.hud.field.showWithAnimation()}),this.scene.fader.isFade&&this.scene.fader.fadeOut()]);case 31:if(this.hud.game.events.on("update:points",function(){return a.hud.updatePoints(a.hud.game.points)}),this.hud.game.events.on("update:coins",function(){return a.hud.updateCoins(a.hud.game.coins)}),this.hud.blocker.unblock("touchBegan"),Object(se.i)(!0),!t){e.next=38;break}return e.next=38,this.scene.actions.run(ti.LEVEL_1_TUTORIAL);case 38:this.addTimerListeners(),this.hud.events.removeAllListeners("empty field"),this.hud.events.on("empty field",function(){a.scene.actions.run(ti.GO_TO_NEXT_PART)});case 41:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"showActivitiesBeforeGame",value:(n=X()(Y.a.mark(function e(){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)})},{key:"addTimerListeners",value:function(){var e=this,t=function(){e.hud.timer.paused||e.hud.timer.rest<0||0!==e.hud.game.levelMap.things.length&&--e.hud.timer.rest<0&&(e.hud.timer.paused=!0,e.scene.actions.run(ti.OUT_OF_TIME))},n=function(){e.hud.timer.paused=!1,e.scene.events.on("tick",t)};this.hud.field.events.once("good connect",n);var i=function(){return e.hud.timer.paused=!0},o=function(){return e.hud.timer.paused=!1};this.scene.fader.events.on("before:fadeIn",i),this.scene.fader.events.on("fadeOut",o);var s=function s(){e.hud.timer.paused=!0,e.hud.field.events.removeListener("good connect",n),e.scene.events.removeListener("tick",t),e.scene.fader.events.removeListener("before:fadeIn",i),e.scene.fader.events.removeListener("fadeOut",o),e.scene.actions.events.removeListener("before:".concat(ti.SHOW_HOME_HUD),s),e.scene.actions.events.removeListener("before:".concat(ti.START_LEVEL),s)};this.scene.actions.events.once("before:".concat(ti.SHOW_HOME_HUD),s),this.scene.actions.events.once("before:".concat(ti.START_LEVEL),s)}}]),t}(ii),ai=function(e){function t(e){var n;return o()(this,t),(n=d()(this,f()(t).call(this,e)))._popup=null,n._audioId=L.POPUP_OPEN.id,n}var n,i,s,r;return m()(t,e),a()(t,[{key:"run",value:(r=X()(Y.a.mark(function e(){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._popup=this._createPopup(),this._addPopupEvents(),e.abrupt("return",this._run());case 3:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"_run",value:(s=X()(Y.a.mark(function e(){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Ce.playEffect(this.audioId),e.next=3,this.scene.popupManager.openPopup(this._popup);case 3:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"_closePopup",value:(i=X()(Y.a.mark(function e(){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Ce.playEffect(L.POPUP_CLOSE.id),e.next=3,this.scene.popupManager.closeCurrentPopup();case 3:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"_onPopupClose",value:(n=X()(Y.a.mark(function e(){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._disableInput(),this._popup.events.removeAllListeners(),e.next=4,this._closePopup();case 4:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"_getPopupPosition",value:function(){return cc.p(this.scene.fader.fade.width/2,this.scene.fader.fade.height/2)}},{key:"_createPopup",value:function(){}},{key:"_addPopupEvents",value:function(){var e=this,t=function(e,t){var n=new Set,i=new Set;i.add(e);for(var o=[];i.size;){var s=i.values().next().value,a=s.getChildByName(t);a&&o.push(a),s.children.forEach(function(e){n.has(e)||(n.add(e),i.add(e))}),i.delete(s)}return o}(this._popup,"resourceBoard")[0];t&&t.events.on("update",function(t){return e._popup.addPromise(t)})}},{key:"_disableInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._popup.disableButtons(e)}},{key:"_enableInput",value:function(){this._popup.enableButtons()}},{key:"audioId",get:function(){return this._audioId}}]),t}(ii),ri=function(e){function t(e){var n;return o()(this,t),(n=d()(this,f()(t).call(this,e)))._events=new et.a,n}var n,i,s,r,c,u,p;return m()(t,e),a()(t,[{key:"_createPopup",value:function(){return this.scene.popupFactory.create(M.OUT_OF_TIME,{position:this._getPopupPosition(),player:this.scene.context.viewer.player,points:this.scene.gameHUD.game.points,coins:this.scene.gameHUD.game.coins})}},{key:"_addPopupEvents",value:function(){var e=this;Me()(f()(t.prototype),"_addPopupEvents",this).call(this),this._popup.events.on("continue",function(){return e._doContinue()})}},{key:"_doContinue",value:(p=X()(Y.a.mark(function e(){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._onPopupClose());case 1:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"_removePopupEvents",value:function(){}},{key:"_onPopupClose",value:(u=X()(Y.a.mark(function e(){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._removePopupEvents(),e.next=3,Me()(f()(t.prototype),"_onPopupClose",this).call(this);case 3:this._resolve();case 4:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)})},{key:"_run",value:(c=X()(Y.a.mark(function e(){var n=this;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.scene.gameHUD.field.setVisible(!1),e.next=3,Promise.all([Me()(f()(t.prototype),"_run",this).call(this),this.scene.gameHUD.hideUI()]);case 3:return e.next=5,Promise.all([this._processStars(),this._processCoins()]);case 5:return Object(se.i)(!0,!0),e.abrupt("return",new Promise(function(e){n._resolve=e,n._showContinueLabel().then(function(){return $()}).then(function(){return n._doContinue()})}));case 7:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:"_showContinueLabel",value:(r=X()(Y.a.mark(function e(){var t;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new te.e(ae({fontSize:30,string:R.a.getText("touch-to-continue"),fillStyle:cc.color("#fefdfc"),position:cc.p(cc.view.getVisibleSize().width/2,100)})),Object(ie.a)(t),t.setOpacity(0),this.scene.fader.fade.addChild(t),e.next=6,se.a.runCocosAction(t,cc.fadeTo(.25,200));case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"_processStars",value:(s=X()(Y.a.mark(function e(){var t,n,i,o,s,a=this;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=.96,n=[],i=se.a.shuffle([-60,60,-45,45,-30,30,-10,10]),o=function(e){var t=a.scene.widgetFactory.createSpriteWidget("popup-current-points");a._popup.currentPoints.icon.addChild(t,1),A(t,a._popup.totalPoints.icon),n.push(se.a.delay(120*e)().then(X()(Y.a.mark(function n(){return Y.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Ce.playEffect(L.STAR_COUNT.id),n.next=3,a._runStarAnimation(.8,t,e,i[e%i.length]);case 3:a._popup.totalPoints.icon.stopAllActions(),a._popup.totalPoints.icon.runAction(cc.sequence([cc.scaleTo(.1,1.1),cc.callFunc(function(e){return e.setScale(1)})])),Ce.playEffect(L.COUNT_PERCENT.id);case 6:case"end":return n.stop()}},n)}))))},s=0;s<8;++s)o(s);return e.next=9,se.a.delay(800)();case 9:return e.next=11,Promise.all([].concat(n,[se.a.runCocosAction(this._popup.totalPoints.points,w(t,this.scene.context.viewer.player.points,this.scene.context.viewer.player.points+this.scene.gameHUD.game.points))]));case 11:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"_processCoins",value:(i=X()(Y.a.mark(function e(){var t,n,i,o,s,a,r=this;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=Math.min(this.scene.gameHUD.game.coins,8),n=120*t/1e3,i=[],o=se.a.shuffle([-60,60,-45,45,-30,30,-10,10]),s=function(e){var t=r.scene.widgetFactory.createSpriteWidget("game-scene-header-coins-icon");r._popup.currentCoins.icon.addChild(t,1),A(t,r._popup.totalCoins.icon),i.push(se.a.delay(120*e)().then(X()(Y.a.mark(function n(){return Y.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Ce.playEffect(L.STAR_COUNT.id),n.next=3,r._runStarAnimation(.8,t,e,o[e%o.length]);case 3:r._popup.totalCoins.icon.stopAllActions(),r._popup.totalCoins.icon.runAction(cc.sequence([cc.scaleTo(.1,1.1),cc.callFunc(function(e){return e.setScale(1)})])),Ce.playEffect(L.COUNT_PERCENT.id);case 6:case"end":return n.stop()}},n)}))))},a=0;a<t;++a)s(a);return e.next=9,se.a.delay(800)();case 9:return e.next=11,Promise.all([].concat(i,[se.a.runCocosAction(this._popup.totalCoins.coins,w(n,this.scene.context.viewer.player.balance,this.scene.context.viewer.player.balance+this.scene.gameHUD.game.coins))]));case 11:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"_runStarAnimation",value:(n=X()(Y.a.mark(function e(t,n,i,o){var s,a,r,c,u;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.getPosition(),a=cc.p(0+o,0),r=cc.pSub(a,s),c=se.a.getRandomInt(1,2),u=i%2==0?-1:1,n.setVisible(!0),e.next=9,se.a.runCocosAction(n,cc.sequence([cc.spawn([cc.scaleTo(t,.5).easing(cc.easeSineInOut()),cc.rotateBy(t,180*u*c).easing(cc.easeSineInOut()),cc.sequence([cc.moveBy(.5*t,cc.p(0,r.y/2)).easing(cc.easeSineIn()),cc.moveBy(.5*t,cc.p(0,r.y/2)).easing(cc.easeQuadraticActionOut())]),cc.moveBy(t,cc.p(r.x,0)).easing(cc.easeBackOut())])]));case 9:n.removeFromParent();case 10:case"end":return e.stop()}},e)})),function(e,t,i,o){return n.apply(this,arguments)})}]),t}(ai),ci=function(e){function t(e){var n;return o()(this,t),(n=d()(this,f()(t).call(this,e)))._events=new et.a,n}var n,i,s,r;return m()(t,e),a()(t,[{key:"_createPopup",value:function(){return this.scene.popupFactory.create(M.NOT_ENOUGH_ENERGY,{position:this._getPopupPosition(),player:this.scene.context.viewer.player})}},{key:"_addPopupEvents",value:function(){var e=this;Me()(f()(t.prototype),"_addPopupEvents",this).call(this),this._popup.events.on("continue",function(){return e._doContinue()})}},{key:"_doContinue",value:(r=X()(Y.a.mark(function e(){var t=this;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._onPopupClose().then(function(){return t.scene.homeHUD.showUI()}));case 1:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"_removePopupEvents",value:function(){}},{key:"_onPopupClose",value:(s=X()(Y.a.mark(function e(){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._removePopupEvents(),e.next=3,Me()(f()(t.prototype),"_onPopupClose",this).call(this);case 3:this._resolve();case 4:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"_run",value:(i=X()(Y.a.mark(function e(){var n=this;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Me()(f()(t.prototype),"_run",this).call(this),this.scene.homeHUD.hideUI()]);case 2:return Object(se.i)(!0,!0),e.abrupt("return",new Promise(function(e){n._resolve=e,n._showContinueLabel().then(function(){return $()}).then(function(){return n._doContinue()})}));case 4:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"_showContinueLabel",value:(n=X()(Y.a.mark(function e(){var t;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new te.e(ae({fontSize:30,string:R.a.getText("touch-to-continue"),fillStyle:cc.color("#fefdfc"),position:cc.p(cc.view.getVisibleSize().width/2,100)})),Object(ie.a)(t),t.setOpacity(0),this.scene.fader.fade.addChild(t),e.next=6,se.a.runCocosAction(t,cc.fadeTo(.25,200));case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})}]),t}(ai),ui=function(e){function t(e,n){var i,s=n.soundState,a=n.musicState;return o()(this,t),(i=d()(this,f()(t).call(this,e))).soundState=s>0?Fn.ON:Fn.OFF,i.musicState=a>0?Fn.ON:Fn.OFF,i._events=new et.a,i}var n,i;return m()(t,e),a()(t,[{key:"_createPopup",value:function(){return this.scene.popupFactory.create(M.SETUP.value,{position:this._getPopupPosition(),soundState:this.soundState,musicState:this.musicState,language:this.scene.context.languageService.language})}},{key:"_addPopupEvents",value:function(){var e=this;Me()(f()(t.prototype),"_addPopupEvents",this).call(this),this._popup.events.on("close",function(){return e._onPopupClose()}),this._popup.events.on("sendMessage",function(){window.open(e.scene.context.links.support)}),this._popup.events.on("soundButton",function(){var t=e._popup.buttons.soundButton;t.toggle();var n=+(t.state===Fn.ON);e.scene.context.soundState=n,e.scene.actions.run(ti.SET_VOLUME)}),this._popup.events.on("languageButton",function(){e.scene.actions.run(ti.SHOW_LANGUAGE_POPUP),e._resolve()}),this._popup.events.on("musicButton",function(){var t=e._popup.buttons.musicButton;t.toggle();var n=+(t.state===Fn.ON);e.scene.context.musicState=n,e.scene.actions.run(ti.SET_VOLUME)}),this._popup.events.on("home",X()(Y.a.mark(function t(){return Y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e._disableInput(),!e.scene.gameHUD.game){t.next=5;break}return t.next=4,e.scene.context.gameService.lossGame(e.scene.gameHUD.game);case 4:e.scene.gameHUD.game=null;case 5:return t.next=7,Promise.all([e._onPopupClose(),e.scene.actions.run(ti.SHOW_HOME_HUD)]);case 7:case"end":return t.stop()}},t)})))}},{key:"_removePopupEvents",value:function(){}},{key:"_onPopupClose",value:(i=X()(Y.a.mark(function e(){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._removePopupEvents(),e.next=3,Me()(f()(t.prototype),"_onPopupClose",this).call(this);case 3:this._resolve();case 4:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"_getPopupPosition",value:function(){return cc.p(this.scene.fader.fade.width/2,this.scene.fader.fade.height/2)}},{key:"_run",value:(n=X()(Y.a.mark(function e(){var n=this;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me()(f()(t.prototype),"_run",this).call(this);case 2:return Object(se.i)(!0,!0),e.abrupt("return",new Promise(function(e){n._resolve=e}));case 4:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})}]),t}(ai),pi=function(e){function t(e,n){var i;return o()(this,t),(i=d()(this,f()(t).call(this,e)))._description=n,i}var n;return m()(t,e),a()(t,[{key:"_createPopup",value:function(){return this.scene.popupFactory.create(M.ERROR,{position:this._getPopupPosition(),description:this._description,showSupportButton:!!this.scene.context.links.support})}},{key:"_addPopupEvents",value:function(){var e=this;Me()(f()(t.prototype),"_addPopupEvents",this).call(this),this._popup.events.on("reloadPage",function(){location.reload()}),this._popup.events.on("sendMessage",function(){window.open(e.scene.context.links.support)})}},{key:"_run",value:(n=X()(Y.a.mark(function e(){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.scene.popupManager.enableHideShadow(),this.scene.actions.disable(),e.next=4,Me()(f()(t.prototype),"_run",this).call(this);case 4:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})}]),t}(ai),li=function(e){function t(e){var n;return o()(this,t),(n=d()(this,f()(t).call(this,e)))._popupManager=n.scene.popupManager,n}var n;return m()(t,e),a()(t,[{key:"run",value:(n=X()(Y.a.mark(function e(){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)})}]),t}(ii),di=function(e){function t(){return o()(this,t),d()(this,f()(t).apply(this,arguments))}var n;return m()(t,e),a()(t,[{key:"_createPopup",value:function(){return this.scene.popupFactory.create(M.LANGUAGE.valueOf(),{position:this._getPopupPosition(),currentLanguage:this.scene.context.language})}},{key:"_addPopupEvents",value:function(){Me()(f()(t.prototype),"_addPopupEvents",this).call(this),this._popup.events.once("close",this._onPopupClose.bind(this)),this._popup.events.once("selectedLanguage",this._onSelectedLanguage.bind(this))}},{key:"_onSelectedLanguage",value:(n=X()(Y.a.mark(function e(t){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(se.i)(!1),e.next=3,this.scene.context.languageService.updateLanguage(t.value);case 3:return e.next=5,this._onPopupClose();case 5:window.location.reload();case 6:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})}]),t}(ai);var hi=function(){function e(){o()(this,e),this._promise=Promise.resolve()}return a()(e,[{key:"add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(){var t=X()(Y.a.mark(function t(){return Y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e());case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();t&&(n=function(){var t=X()(Y.a.mark(function t(){return Y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Object(se.i)(!1),t.next=3,e();case 3:Object(se.i)(!0);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()),this._promise=this._promise.then(n)}}]),e}(),fi=function(){function e(){o()(this,e),this._blocked={}}return a()(e,[{key:"block",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=t;Array.isArray(t)||(i=[t]);var o=new Q;return i.forEach(function(t){void 0===e._blocked[t]&&(e._blocked[t]=[]),e._blocked[t].push(o),o.promise.then(function(){var n=e._blocked[t].find(function(e){return e===o});n>=0&&e._blocked.splice(n,1)})}),n&&se.a.delay(n)().then(function(){return o.resolve()}),o}},{key:"unblock",value:function(e){var t=this,n=e;Array.isArray(e)||(n=[e]),n.forEach(function(e){return t._blocked[e]&&t._blocked[e].splice(0)})}},{key:"isBlock",value:function(e){var t=this,n=e;return Array.isArray(e)||(n=[e]),n.some(function(e){return t._blocked[e]&&t._blocked[e].find(function(e){return e.pending})})}},{key:"blocked",get:function(){return this._blocked}}]),e}(),gi=function(e){function t(){return o()(this,t),d()(this,f()(t).apply(this,arguments))}var n;return m()(t,e),a()(t,[{key:"run",value:(n=X()(Y.a.mark(function e(){var n,i,o,s,a,r,c,u,p,l;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Me()(f()(t.prototype),"run",this).call(this);case 3:return n=[new Gt(3,4),new Gt(5,4)],this._addTutorials(n),i=this._runTipAnimation(n),e.next=8,this._waitForConnect();case 8:return i.removeFromParent(),e.next=11,se.a.delay(750)();case 11:return o=[new Gt(5,5),new Gt(6,4)],this._addTutorials(o),s=this._runTipAnimation(o),e.next=16,this._waitForConnect();case 16:return s.removeFromParent(),e.next=19,se.a.delay(750)();case 19:return a=[new Gt(2,4),new Gt(6,6)],this._addTutorials(a),r=this._runTipAnimation(a),e.next=24,this._waitForConnect();case 24:return r.removeFromParent(),e.next=27,se.a.delay(750)();case 27:return c=[new Gt(3,2),new Gt(2,3)],this._addTutorials(c),u=this._runTipAnimation(c),e.next=32,this._waitForConnect();case 32:return u.removeFromParent(),e.next=35,se.a.delay(1200)();case 35:return p=[new Gt(3,3),new Gt(3,6)],this._addTutorials(p),l=this._runTipAnimation(p),e.next=40,this._waitForConnect();case 40:return l.removeFromParent(),e.next=43,se.a.delay(1200)();case 43:this._removeTutorials(),e.next=49;break;case 46:e.prev=46,e.t0=e.catch(0),console.error(e.t0);case 49:case"end":return e.stop()}},e,this,[[0,46]])})),function(){return n.apply(this,arguments)})}]),t}(function(e){function t(e){var n;return o()(this,t),(n=d()(this,f()(t).call(this,e)))._promise=new Q,n}var n,i;return m()(t,e),a()(t,[{key:"_addTutorials",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._removeTutorials(),this.scene.gameHUD.game.levelMap.things.map(function(t){return e.scene.gameHUD.field.findView(t)}).filter(Boolean).filter(function(e){return!t.some(function(t){return e.thing.position.isEqual(t)})}).forEach(function(e){e.addTutorial()})}},{key:"_removeTutorials",value:function(){var e=this;this.scene.gameHUD.game.levelMap.things.map(function(t){return e.scene.gameHUD.field.findView(t)}).filter(Boolean).forEach(function(e){e.removeTutorial()})}},{key:"_waitForTouchThing",value:(i=X()(Y.a.mark(function e(){var t;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Q,this.scene.gameHUD.field.events.once("touchThing",function(){return t.resolve()}),e.next=4,t.promise;case 4:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"_waitForConnect",value:(n=X()(Y.a.mark(function e(){var t,n=this;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Q,this.scene.gameHUD.field.events.once("connect",function(e){return t.resolve([n.scene.gameHUD.game.selectedThings[0],e])}),e.abrupt("return",t.promise);case 3:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"_runTipAnimation",value:function(e){var t=this,n=e.map(function(e){return t.scene.gameHUD.game.levelMap.getThing(e)}).map(function(e){return t.scene.gameHUD.field.findView(e)}),i=this.scene.widgetFactory.createSpriteWidget("tutorial-pointer");i.sprite.setAnchorPoint(0,1),i.sprite.setScale(Dt),i.setPosition(cc.pAdd(n[0].getPosition(),cc.p(-30,-30))),Object(ie.a)(i),i.setOpacity(0),this.scene.gameHUD.field.addChild(i,901);var o=function(){var e=X()(Y.a.mark(function e(n){var i;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(i=t.scene.widgetFactory.createTargetWidget(cc.p(0,0))).setPosition(n),t.scene.gameHUD.field.addChild(i,901),i.animateTouch(),e.next=6,se.a.delay(3500)();case 6:i.removeFromParent();case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return se.a.runCocosAction(i,cc.sequence([cc.sequence([cc.spawn([cc.fadeIn(.45),cc.moveTo(.45,cc.p(n[0].getPosition())).easing(cc.easeSineOut()),cc.sequence([cc.delayTime(.32),cc.callFunc(function(){return o(n[0].getPosition())}),cc.scaleTo(.1,.85),cc.delayTime(.05),cc.scaleTo(.1,1)])])])])).then(function(){i.runAction(cc.repeatForever(cc.sequence([cc.delayTime(.35),cc.spawn([cc.moveTo(1.2,cc.p(n[1].getPosition())).easing(cc.easeSineOut()),cc.sequence([cc.delayTime(1.2-.13),cc.callFunc(function(){return o(n[1].getPosition())}),cc.scaleTo(.1,.85),cc.delayTime(.05),cc.scaleTo(.1,1)])]),cc.delayTime(.35),cc.spawn([cc.moveTo(1.2,cc.p(n[0].getPosition())).easing(cc.easeSineOut()),cc.sequence([cc.delayTime(1.2-.13),cc.callFunc(function(){return o(n[0].getPosition())}),cc.scaleTo(.1,.85),cc.delayTime(.05),cc.scaleTo(.1,1)])])])))}),i}},{key:"promise",get:function(){return this._promise}}]),t}(ii));var mi=function(e){function t(){return o()(this,t),d()(this,f()(t).apply(this,arguments))}var n;return m()(t,e),a()(t,[{key:"run",value:(n=X()(Y.a.mark(function e(){var t,n,i,o,s;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(t=this.scene.widgetFactory.createAnimationWidget({name:he.confetti,position:cc.p(cc.winSize.width/2,0),scale:1})).setVisible(!1),this.scene.fader.fade.addChild(t,Number.MAX_SAFE_INTEGER),n=t.getBoundingBoxToWorld().height,i=Math.round(n)-308,o=cc.visibleRect.height,s=o/i,t.setScale(s),t.setPositionY(o/2-20*s),t.setVisible(!0),Ce.playEffect(L.CONFETTI.id),t.setAsyncAnimation(1,"animation").then(function(){t.removeFromParent()});case 13:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})}]),t}(ii),bi=function(e){function t(){return o()(this,t),d()(this,f()(t).apply(this,arguments))}var n;return m()(t,e),a()(t,[{key:"run",value:(n=X()(Y.a.mark(function e(){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.scene.fader.fade.addChild(this.scene.widgetFactory.createLabelWidget({string:R.a.get("loading-resources"),position:cc.p(cc.winSize.width/2,cc.winSize.height/2),fontSize:30})),e.next=3,this.scene.fader.fadeIn();case 3:return e.next=5,this.scene.context.loadingPromise.promise;case 5:return e.next=7,this.scene.fader.fadeOut();case 7:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})}]),t}(ii),vi=function(e){function t(e){var n;return o()(this,t),(n=d()(this,f()(t).call(this,e))).hud=n.scene.gameHUD,n.game=n.hud.game,n}var n,i,s;return m()(t,e),a()(t,[{key:"run",value:(s=X()(Y.a.mark(function e(){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.hud.timer.paused=!0,this.hud.field.removeAllChildren(),e.next=4,this.gotoNextField();case 4:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"showExtraTime",value:(i=X()(Y.a.mark(function e(t){var n,i,o,s,a;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Ce.playEffect(L.JINGLE_STAR_FLY.id),n=this.scene.widgetFactory.createExtraTime(t),Object(ie.a)(n),n.setScale(1.25),n.setOpacity(0),n.setPosition(cc.pAdd(n.getPosition(),cc.p(0,40))),this.hud.root.addChild(n,50),console.log(n),i=n.getPosition(),o=this.hud.header.timer.icon,s=o.getBoundingBoxToWorld(),a=this.hud.root.convertToNodeSpace(cc.p(s.width/2+s.x,s.height/2+s.y)),e.next=14,se.a.runCocosAction(n,cc.sequence([cc.spawn([cc.fadeIn(.8),cc.moveBy(.8,cc.p(0,-40))]).easing(cc.easeQuadraticActionOut()),cc.spawn([cc.sequence([cc.scaleTo(.5,.32),cc.scaleTo(.1,.37),cc.scaleTo(.1,0)]),cc.moveBy(.6,cc.p(a.x-i.x,0)).easing(cc.easeQuadraticActionOut()),cc.sequence([cc.moveBy(.6,cc.p(0,a.y-i.y+40)).easing(cc.easeQuadraticActionIn())])])]));case 14:n.removeFromParent(),Ce.playEffect(L.CLOCK_PROGRESS_UP.id),this.hud.timer.rest+=t,this.hud.timer.duration=this.hud.timer.rest;case 18:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"gotoNextField",value:(n=X()(Y.a.mark(function e(){var t,n=this;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.game,this.hud.blocker.block("touchBegan"),++t.part,t.fillNumbers(),this.hud.initGame(t),this.hud.field.redraw(),this.hud.field.setVisible(!1),e.next=10,Promise.all([this.showExtraTime(30),se.a.delay(1200)().then(function(){return n.hud.field.showWithAnimation()})]);case 10:this.hud.timer.paused=!1,this.hud.blocker.unblock("touchBegan");case 12:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})}]),t}(ii),yi=function(e){function t(e){var n;return o()(this,t),n=d()(this,f()(t).call(this)),k()(Rt()(n),"_scene",void 0),n._scene=e,n}return m()(t,e),a()(t,[{key:"create",value:function(e){for(var t=this,n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];switch(e){case ti.TOGGLE_FULLSCREEN:return new Yn.g;case ti.SHOW_ERROR_POPUP:return yn()(pi,[this.scene].concat(i));case ti.SHOW_POPUPS_ON_START:return new li(this.scene);case ti.SHOW_IN_GAME_NOTIFY:return yn()(oi,[this.scene].concat(i));case ti.SHOW_TIP:return new Yn.f(function(){var e=t.scene.gameHUD.game.levelMap.findAllConnects(t.scene.gameHUD.game.maxTurns),n=se.a.getRandomElement(e);if(n){var i=t.scene.gameHUD.game.selectedThings.pop();if(i){var o=t.scene.gameHUD.field.findView(i);o&&o.free()}var s=O()(n,2),a=[s[0],s[1]].map(function(e){return t.scene.gameHUD.field.findView(e)}),r=function e(){t.scene.actions.events.removeListener("before:".concat(ti.SHOW_TIP),e),t.scene.gameHUD.field.events.removeListener("touchThing",e),t.scene.fader.events.removeListener("fadeIn",e),a.forEach(function(e){return e&&e.stopTip()})};a.forEach(function(e){return e&&e.startTip()}),Ce.playEffect(L.HINT_MAGNIFIER.id),t.scene.actions.events.once("before:".concat(ti.SHOW_TIP),r),t.scene.gameHUD.field.events.once("touchThing",r),t.scene.fader.events.once("fadeIn",r)}});case ti.UPDATE_PLAYER_PROGRESS:return new ni(this.scene.context);case ti.AFTER_MOVE:return new Qn(this.scene.gameHUD);case ti.LEVEL_1_TUTORIAL:return new gi(this.scene);case ti.GO_TO_NEXT_PART:return new vi(this.scene);case ti.START_LEVEL:return new Yn.d([new si(this.scene)],new Yn.f(X()(Y.a.mark(function e(){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.scene.actions.run(ti.SHOW_NOT_ENOUGH_ENERGY_POPUP);case 2:t.scene.homeHUD.blocker.unblock("touchBegan");case 3:case"end":return e.stop()}},e)}))));case ti.SHOW_CONFETTI:return new mi(this.scene);case ti.OUT_OF_TIME:return new Yn.f(X()(Y.a.mark(function e(){var n;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.scene.gameHUD.blocker.block("touchBegan"),e.next=3,t.scene.context.gameService.outOfTime(t.scene.gameHUD.game);case 3:return e.next=5,t.scene.actions.run(ti.SHOW_OUT_OF_TIME_POPUP);case 5:return e.next=7,t.scene.actions.run(ti.SHOW_HOME_HUD);case 7:n.resolve();case 8:case"end":return e.stop()}},e)})));case ti.SHOW_OUT_OF_TIME_POPUP:return new ri(this.scene);case ti.SHOW_NOT_ENOUGH_ENERGY_POPUP:return new ci(this.scene);case ti.SHOW_LANGUAGE_POPUP:return new di(this.scene);case ti.SHOW_SETUP_POPUP:var s=this.scene.context.soundState,a=this.scene.context.musicState;return new ui(this.scene,{soundState:s,musicState:a});case ti.SHOW_HOME_HUD:return new Yn.f(X()(Y.a.mark(function e(){var n,o;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.scene.context.playerService.getInfo();case 2:o=e.sent,t.scene.context.viewer.player.update(o),(n=t.scene).showHomeHud.apply(n,i);case 5:case"end":return e.stop()}},e)})));case ti.SHOW_GAME_HUD:var r;return new Yn.f((r=this.scene.showGameHud).bind.apply(r,[this.scene].concat(i)));case ti.SET_VOLUME:return yn()(ei,[this.scene.context].concat(i));case ti.AWAIT_LOADING_RESOURCES:return new bi(this.scene);default:return console.error('Неизвестный action "'.concat(e,'"'),i),new Yn.a}}},{key:"scene",get:function(){return this._scene}}]),t}(Yn.b),_i=n(77),wi=n(66),xi=function(e){function t(){return o()(this,t),d()(this,f()(t).apply(this,arguments))}return m()(t,e),a()(t,[{key:"isHovered",value:function(){return this.widget.isFadeIn}},{key:"widget",get:function(){return this._widget}}]),t}(wi.d),ki=function(e){function t(){return o()(this,t),d()(this,f()(t).apply(this,arguments))}return m()(t,e),a()(t,[{key:"onMouseEnter",value:function(e){this._widget.events.emit("onMouseEnter",e)}},{key:"onMouseMove",value:function(e){this._widget.events.emit("onMouseMove",e)}},{key:"onMouseLeave",value:function(e){this._widget.events.emit("onMouseLeave",e)}},{key:"isHovered",value:function(e){return("function"==typeof this.widget.isGlobalVisible?this.widget.isGlobalVisible():this.widget.isVisible())&&cc.rectContainsPoint(this.widget.getBoundingBoxToWorld(),e.getLocation())}}]),t}(wi.a),Si=function(e){function t(){return o()(this,t),d()(this,f()(t).apply(this,arguments))}return m()(t,e),a()(t,[{key:"createHandler",value:function(e){var t=Object(_i.a)([e instanceof te.b,wi.b],[e instanceof te.c,wi.c],[e instanceof Nt,xi],[e instanceof te.k&&e.options.changeCursorOnHover,wi.c],[e instanceof jt,wi.c],[e instanceof te.k&&e.options.emitHoverEvent,ki]);return t?new t(e):null}}]),t}(wi.e),Ei=function(e){function t(){return o()(this,t),d()(this,f()(t).apply(this,arguments))}return m()(t,e),a()(t,[{key:"registerWidget",value:function(e){var t=this._factory.createHandler(e),n=function e(t){return!!t.parent&&(t.parent instanceof Nt||t instanceof Nt||e(t.parent))};t&&(this._handlers.push(t),this._handlers.sort(function(e,t){var i=function(){return t.widget.getOrderOfArrival()-e.widget.getOrderOfArrival()},o=n(e.widget),s=n(t.widget);return Object(_i.a)([o&&s,i],[o,function(){return-1}],[s,function(){return 1}],[!0,i])()}))}}]),t}(n(125).a),Ti=function(e){function t(e){var n;return o()(this,t),(n=d()(this,f()(t).call(this,e)))._disabledKeys=[],n._disable=!1,n._times={},n}var n;return m()(t,e),a()(t,[{key:"_eventFinallyAction",value:function(e){this.events.emit("finally",e),this.events.emit("finally:".concat(e))}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.length?this._disabledKeys=se.a.arrayUnique(this._disabledKeys.concat(e)):this._disable=!0}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.length?this._disabledKeys=this._disabledKeys.filter(function(t){return!e.includes(t)}):this._disable=!1}},{key:"getLastTime",value:function(e){return this._times[e]||0}},{key:"run",value:(n=X()(Y.a.mark(function e(n){var i,o,s,a,r=this,c=arguments;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._disable){e.next=2;break}return e.abrupt("return");case 2:if(!this._disabledKeys.includes(n)){e.next=4;break}return e.abrupt("return");case 4:for(this._times[n]=+new Date,o=c.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=c[a];return e.abrupt("return",(i=Me()(f()(t.prototype),"run",this)).call.apply(i,[this,n].concat(s)).finally(function(){return r._eventFinallyAction(n)}));case 7:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})}]),t}(Yn.c),Pi=function(){function e(t){o()(this,e),this.pool=se.a.shuffle(t),this.index=0}return a()(e,[{key:"getNextMessage",value:function(){return this.pool[this.index++%this.pool.length]}}]),e}(),Oi=function(e){function t(e){var n,i=e.widgetFactory,s=e.tipTexts;return o()(this,t),(n=d()(this,f()(t).call(this)))._svgFiles=[],n._loadedAmount=0,n._widgetFactory=i,n._tipFactory=null,n._events=new $e.EventEmitter,n._events.on("load",function(){++n._loadedAmount,n._updatePercent(),n._loadedAmount===n.totalAmount&&n.cb&&n._beforeHide().then(function(){return n.cb.call(n.target)})}),n._tipFactory=new Pi(s),n}var n;return m()(t,e),a()(t,[{key:"_updatePercent",value:function(){var e=this._getPercent();this._label.updateTweenAction=function(e){console.error(e),this.setString("".concat(Math.round(e),"%"))},this._label.setString("".concat(Math.round(e),"%"));var t=this._progressSprite.sprite.getTextureRect(),n=this._progressSprite.options.fullWidth*e/100,i=Object.assign({},t,{width:n});this._progressSprite.sprite.setTextureRect(i)}},{key:"_getPercent",value:function(){if(!this.totalAmount)return 0;var e=this._loadedAmount/this.totalAmount*100;return Math.min(Math.round(e),100)}},{key:"_loadImageTexture",value:function(e){return new Promise(function(t){new ccui.Scale9Sprite(e).addEventListener("load",function(e){return t(e)})})}},{key:"_loadSVG",value:function(){var e=this;this._svgFiles=ke.getSVGImages(),this._svgFiles.forEach(function(t){return e._loadImageTexture(t).then(function(t){return e._events.emit("load",t)})})}},{key:"_loadResources",value:function(){var e=this;cc.loader.load(this.resources,function(t){e._events.emit("load",t)},function(e){var t;if(Array.isArray(e)){var n=e.filter(Boolean);n.length&&(t=n)}else t=e;t&&console.error(t)})}},{key:"_startLoadingAll",value:function(){this._loadSVG(),this._loadResources()}},{key:"_initStage",value:function(){var e=this,t=this.widgetFactory.createLoaderWidgets(),n=t.gradientBg,i=t.bg,o=t.title,s=t.percentLabel,a=t.tipsLabel,r=t.progressBgSprite,c=t.progressSprite;this._gradientBg=n,this.addChild(this._gradientBg,-1),this._bg=i,this._bg.setScale(1.1),this.addChild(this._bg,0),this._title=o,this.addChild(this._title),Object(ie.a)(this._title),this._progressBgSprite=r,this.addChild(this._progressBgSprite),this._progressSprite=c,this._progressSprite.sprite.setAnchorPoint(0,.5),this._progressBgSprite.addChild(this._progressSprite),this._label=s,this._progressBgSprite.addChild(this._label),Object(ie.a)(this._progressBgSprite),this._tipLabel=a,Object(ie.a)(this._tipLabel),this._tipLabel.setString(this._tipFactory.getNextMessage()),this.addChild(this._tipLabel),this._changeTipCallback=function(){return e._tipLabel.runAction(cc.sequence([cc.fadeOut(.25),cc.callFunc(function(){return e._tipLabel.setString(e._tipFactory.getNextMessage())}),cc.fadeIn(.25)]))},this.schedule(this._changeTipCallback,10),this._updatePercent(),this._show()}},{key:"_startLoading",value:function(){this.unschedule(this._startLoading)}},{key:"init",value:function(){var e=this;return new Promise(function(t){cc.loader.load(ke.getResourcesToPreload(),function(){ke.initSpriteFiles(ke.getSpritesToPreload()),e.events.emit("loaderResourceLoaded"),e._initStage(),t()})})}},{key:"_beforeHide",value:(n=X()(Y.a.mark(function e(){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([se.a.runCocosAction(this._bg,cc.scaleTo(1.5,1)),se.a.runCocosAction(this._title,cc.spawn([cc.scaleTo(1.5,1.05),cc.sequence([cc.delayTime(1.2),cc.fadeOut(.3)])])),se.a.runCocosAction(this._progressBgSprite,cc.fadeOut(1)),se.a.runCocosAction(this._tipLabel,cc.fadeOut(1))]);case 2:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"_show",value:function(){document.getElementById("preloader")&&document.body.removeChild(document.getElementById("preloader"))}},{key:"preload",value:function(e,t){var n=this;return this.init().then(function(){n.initWithResources(e,t),n._startLoadingAll(),cc.director.runScene(n)})}},{key:"events",get:function(){return this._events}},{key:"widgetFactory",get:function(){return this._widgetFactory},set:function(e){this._widgetFactory=e}},{key:"totalAmount",get:function(){return(this.resources&&this.resources.length||0)+(this._svgFiles&&this._svgFiles.length||0)}}]),t}(cc.LoaderScene),Ci={},Ai=function(e){function t(e){var n;o()(this,t),(n=d()(this,f()(t).call(this)))._order={BG:10,HOME_HUD:900,GAME_HUD:901},n._bg=null,n._context=e,n._widgetFactory=null,n._actionFactory=null,n._popupFactory=null,n._popupManager=null,n.chainCaller=new hi,n._blocker=new fi,n._homeHUD=null,n._gameHUD=null;var i=cc.winSize.width;return R.b===R.d&&cc.view.setResizeCallback(function(){if(0===n.getPositionX()){var e=cc.winSize.width;n.setPositionX(n.getPositionX()+(e-i)/2)}else n.setPositionX(0)}),n}var n,i,s,r,c,u,p;return m()(t,e),a()(t,[{key:"init",value:(p=X()(Y.a.mark(function e(){var t=this;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Ci.handle=function(e){var n;n=e.response?401===e.response.status?R.a.get("error-popup")["two-tabs"]:R.a.get("error-popup")["something-wrong"]:R.a.get("error-popup")["network-error"],window._updateSessionInterval&&clearInterval(window._updateSessionInterval),Object(se.i)(!0,!0),t.popupManager.currentPopup&&t.popupManager.currentPopup.key===M.ERROR.toString()||t.actions.run(ti.SHOW_ERROR_POPUP,n)},this.createWidgets(),this.setupWidgets(),this.addEventListeners(),e.next=6,this.runSceneActions();case 6:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"showHomeHud",value:(u=X()(Y.a.mark(function e(){var t,n=arguments;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]&&n[0],e.next=3,this._gameHUD.hide(t);case 3:return e.next=5,this._homeHUD.show(t);case 5:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)})},{key:"showGameHud",value:(c=X()(Y.a.mark(function e(){var t,n=arguments;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]&&n[0],e.next=3,this._homeHUD.hide(t);case 3:return e.next=5,this._gameHUD.show(t);case 5:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:"_createHomeHUD",value:function(){this._homeHUD=new bn({context:this.context,widgetFactory:this._widgetFactory,bg:this._bg,blocker:this._blocker}),this._homeHUD.append(this,this._order.HOME_HUD)}},{key:"_createGameHUD",value:function(){this._gameHUD=new fn({context:this._context,widgetFactory:this._widgetFactory,blocker:this._blocker}),this._gameHUD.append(this,this._order.GAME_HUD)}},{key:"createWidgets",value:function(){this._bg=this._widgetFactory.createFullScreenSprite("episode-1-game"),this.addChild(this._bg,this._order.BG),this._loaderBg=this._widgetFactory.createFullScreenSprite("preloader"),this.addChild(this._loaderBg,this._order.BG),this._createGameHUD(),this._createHomeHUD()}},{key:"setupWidgets",value:function(){if(this.fader.rect=cc.rect(0,0,cc.winSize.width,cc.winSize.height),this._leftBorder&&this._rightBorder){var e=this._bg.getBoundingBoxToWorld();this._leftBorder.setPositionX(e.x-this._leftBorder.width/2),this._rightBorder.setPositionX(e.x+e.width+this._rightBorder.width/2),this._leftFullscreenSprite.sprite.setAnchorPoint(1,.5),this._leftFullscreenSprite.setPositionX(e.x),this._rightFullscreenSprite.sprite.setAnchorPoint(0,.5),this._rightFullscreenSprite.setPositionX(e.x+e.width)}}},{key:"addEventListeners",value:function(){this._addHomeHudEventListeners(),this._addGameHudEventListeners()}},{key:"_addGameHudEventListeners",value:function(){var e=this;this._gameHUD.events.on("after move",function(){return e.chainCaller.add(e.actions.bindRun(ti.AFTER_MOVE))}),this._gameHUD.events.on("touchSetupWidget",this.actions.bindRun(ti.SHOW_SETUP_POPUP))}},{key:"_addHomeHudEventListeners",value:function(){var e=this;this._homeHUD.events.on("touchPlayButton",X()(Y.a.mark(function t(){return Y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.actions.run(ti.START_LEVEL));case 1:case"end":return t.stop()}},t)}))),this._homeHUD.events.on("touchBackButton",X()(Y.a.mark(function t(){return Y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",window.parent.postMessage({ type: 'BACK'}, '*'));case 1:case"end":return t.stop()}},t)}))),this._homeHUD.events.on("touchSetupWidget",this.actions.bindRun(ti.SHOW_SETUP_POPUP))}},{key:"prepareMidroll",value:(r=X()(Y.a.mark(function e(){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)})},{key:"runSceneActions",value:(s=X()(Y.a.mark(function e(){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.actions.run(ti.SET_VOLUME)].filter(Boolean));case 2:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"runActionsAfterLoad",value:(i=X()(Y.a.mark(function e(){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.events.emit("loaded"),this._loaderBg&&this._loaderBg.runAction(cc.sequence([cc.fadeOut(.5),cc.callFunc(function(e){return e.removeFromParent()})])),this._gameHUD.forceHide(),e.next=5,this.actions.run(ti.SHOW_HOME_HUD);case 5:return e.next=7,this.actions.run(ti.SHOW_POPUPS_ON_START);case 7:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"_runActionsToContinue",value:(n=X()(Y.a.mark(function e(){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)})},{key:"isReadyToShowAdsForReward",value:function(){return!1}},{key:"order",get:function(){return this._order}},{key:"popupManager",get:function(){return this._popupManager},set:function(e){this._popupManager=e}},{key:"bg",get:function(){return this._bg}},{key:"popupFactory",get:function(){return this._popupFactory},set:function(e){this._popupFactory=e}},{key:"context",get:function(){return this._context}},{key:"widgetFactory",get:function(){return this._widgetFactory},set:function(e){this._widgetFactory=e}},{key:"actionFactory",get:function(){return this._actionFactory},set:function(e){this._actionFactory=e}},{key:"homeHUD",get:function(){return this._homeHUD}},{key:"gameHUD",get:function(){return this._gameHUD}}]),t}(Ft),Ii=function(){function e(t){o()(this,e),this._context=t}return a()(e,[{key:"createGameScene",value:function(){var e=new Ai(this._context),t=new yi(e),n=new Ti(t);if(e.widgetFactory=new Jn,e.actionFactory=t,e.actions=n,Bt.a===Bt.c){var i=new Ei(new Si);(new zt.c).addListeners(),i.addListeners()}e.popupFactory=new Gn(e.widgetFactory),e.popupManager=new Ut({fader:e.fader,dataStorage:this._context.data});var o=cc.EventListener.create({event:cc.EventListener.CUSTOM,eventName:te.j.BUTTON_WIDGET_CLICKED,callback:function(){return Ce.playEffect(L.CLICK.id)}});return cc.eventManager.addListener(o,1),e}},{key:"createLoaderScene",value:function(){var e=ne.a.get("loading-tips"),t=[];t.push(e["first-load"]);var n=new Oi({widgetFactory:new Jn,tipTexts:t.flat()});return n.supportLink=this._context.links.support,n}}]),e}(),Ri=function(){function e(){o()(this,e),k()(this,"_socialName",Ye.test),k()(this,"_socialId",0),k()(this,"_host","")}return a()(e,[{key:"socialName",get:function(){return this._socialName},set:function(e){this._socialName=e}},{key:"socialId",get:function(){return this._socialId},set:function(e){this._socialId=e}},{key:"host",get:function(){return this._host},set:function(e){this._host=e}}]),e}(),Ni=n(155),Fi=n(230),Bi=function(){function e(t){o()(this,e),this._params=t,this._dataStorage=null,this._viewer=null,this._playerRepository=new Ni.b,this._personRepository=new Ni.a,this._userRepository=new Fi.a,this._socialService=null,this._appService=null,this._languageService=null,this._levelService=null,this._gameService=null,this._glossaryService=null,this._playerService=null,this._personService=null,this._clientTime=Date.now(),this.limitedTurns=!1}return a()(e,[{key:"backUrl",get:function(){return this._params.backUrl}},{key:"dataStorage",get:function(){return this._dataStorage},set:function(e){this._dataStorage=e}},{key:"data",get:function(){return this._dataStorage}},{key:"soundState",get:function(){return this.dataStorage.get("sound-state",!0)},set:function(e){this.dataStorage.set("sound-state",e)}},{key:"musicState",get:function(){return this.dataStorage.get("music-state",!0)},set:function(e){this.dataStorage.set("music-state",e)}},{key:"playerProperties",get:function(){return this._params.playerProperties}},{key:"paymentsEnabled",get:function(){return!1!==this._params.paymentsEnabled}},{key:"viewer",get:function(){return this._viewer},set:function(e){this.playerRepository.add([e.player]),this.userRepository.add([e]),this._viewer=e}},{key:"serverTime",get:function(){return this._params.time}},{key:"links",get:function(){return this._params.links}},{key:"playerRepository",get:function(){return this._playerRepository},set:function(e){this._playerRepository=e}},{key:"personRepository",get:function(){return this._personRepository},set:function(e){this._personRepository=e}},{key:"userRepository",get:function(){return this._userRepository},set:function(e){this._userRepository=e}},{key:"socialService",get:function(){return this._socialService},set:function(e){this._socialService=e}},{key:"appService",get:function(){return this._appService},set:function(e){this._appService=e}},{key:"languageService",get:function(){return this._languageService},set:function(e){this._languageService=e}},{key:"levelService",get:function(){return this._levelService},set:function(e){this._levelService=e}},{key:"gameService",get:function(){return this._gameService},set:function(e){this._gameService=e}},{key:"glossaryService",get:function(){return this._glossaryService},set:function(e){this._glossaryService=e}},{key:"playerService",get:function(){return this._playerService},set:function(e){this._playerService=e}},{key:"personService",get:function(){return this._personService},set:function(e){this._personService=e}},{key:"clientTime",get:function(){return this._clientTime}}]),e}(),zi=function(e){function t(){var e;return o()(this,t),(e=d()(this,f()(t).call(this)))._environment=t._detectEnvironment(),console.log(e._environment),e._dataStorage=new Ot("zmeme","v1"),e._serviceFactory=new it(e._dataStorage,new wn,e._environment),e}var n;return m()(t,e),a()(t,[{key:"run",value:(n=X()(Y.a.mark(function e(){var t,n,i,o,s,a;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._serviceFactory.createSocialService(),e.next=3,t.init();case 3:return n=this._serviceFactory.createAppService(),e.next=6,n.init();case 6:return i=e.sent,o=i.player,s=i.params,console.log(o,s),console.log(JSON.parse(JSON.stringify(o._data))),(a=new Bi(s)).dataStorage=this._dataStorage,a.appService=n,a.socialService=t,a.viewer=new vt({player:o,isViewer:!0,dataStorage:this._dataStorage}),a.languageService=this._serviceFactory.createLanguageService(s.context.services.language),a.languageService.init(),this._createServices(a,s.context.services),e.next=21,a.glossaryService.init();case 21:return e.abrupt("return",a);case 22:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"_createServices",value:function(e,t){e.playerService=this._serviceFactory.createPlayerService(t.player),e.personService=this._serviceFactory.createPersonService(t.person),e.levelService=this._serviceFactory.createLevelService(t.level),e.gameService=this._serviceFactory.createGameService(t.game,{boosters:e.boosters,winReward:e.winReward}),e.glossaryService=this._serviceFactory.createGlossaryService(t.glossary,e.languageService.language)}}],[{key:"_detectEnvironment",value:function(){var e=new Ri,t=window&&window.params;if(t&&t.host)e.host=t.host;else{var n=new URLSearchParams(window.location.search);e.host=n.get("host")}return t&&t.socialName?e.socialName=t.socialName:e.socialName=Ye.test,e.socialId=Ze[e.socialName],e}}]),t}(Yn.a),Mi=function(e){function t(e){var n,i=e.gameScene;return o()(this,t),n=d()(this,f()(t).call(this)),k()(Rt()(n),"gameScene",void 0),n.gameScene=i,n}return m()(t,e),a()(t,[{key:"_showMainMenu",value:function(){var e=this;if("sifa"===prompt("Введите пароль")){var t=function(){var t=X()(Y.a.mark(function t(n){var i;return Y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.gameScene.context.serviceFactory.getOkApiInstance(),t.abrupt("return",new Promise(function(e){try{i._setHandleApiCallback(n,function(t){return e("true "+JSON.stringify(t))},function(t){return e("false "+JSON.stringify(t))}),window.FAPI.invokeUIMethod(n)}catch(t){e("error"+JSON.stringify(t))}}));case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();this._dialog("\n            Выберите функционал:\n            0 - редактор уровней\n            1 - FAPI.UI.requestBannerAds - подбор рекламы;\n            2 - FAPI.UI.showBannerAds - показ баннерного блока с рекламой;\n            3 - FAPI.UI.hideBannerAds - скрытие баннерного блока с рекламой;\n            4 - FAPI.UI.isBannerAdsVisible - првоерка наличия баннерного блока с рекламой.\n        ").answer("0",this.gameScene.actions.bindRun(ti.SHOW_EDITOR)).answer("1",X()(Y.a.mark(function e(){var n;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("requestBannerAds");case 2:n=e.sent,alert(n);case 4:case"end":return e.stop()}},e)}))).answer("2",X()(Y.a.mark(function e(){var n;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("showBannerAds");case 2:n=e.sent,alert(n);case 4:case"end":return e.stop()}},e)}))).answer("3",X()(Y.a.mark(function e(){var n;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("hideBannerAds");case 2:n=e.sent,alert(n);case 4:case"end":return e.stop()}},e)}))).answer("4",X()(Y.a.mark(function e(){var n;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("isBannerAdsVisible");case 2:n=e.sent,alert(n);case 4:case"end":return e.stop()}},e)}))).show()}}}]),t}(n(232).a),Li=n(231),Ui=n.n(Li),Hi=function(){function e(){o()(this,e),this._glossary=ne.a.get("rotate-screen"),this._containerElement,this._titleElement}return a()(e,[{key:"_init",value:function(){if(!this._containerElement){var e=document.createElement("div");e.innerHTML=Ui()(),document.body.appendChild(e.firstChild),this._containerElement=document.body.querySelector(".rotate-screen"),this._titleElement=this._containerElement.querySelector(".title"),this._titleElement.innerHTML=this._glossary.title}}},{key:"show",value:function(){this._containerElement||this._init(),this._containerElement.style.display="flex"}},{key:"hide",value:function(){this._containerElement&&(this._containerElement.style.display="none")}}]),e}(),Di=function(){function e(){o()(this,e),this._view=new Hi,this._detectOrientation(),window.addEventListener("resize",this._detectOrientation.bind(this))}return a()(e,[{key:"_detectOrientation",value:function(){"landscape"===(document.body.clientWidth>document.body.clientHeight?"landscape":"portrait")?this._view.show():this._view.hide()}}]),e}(),ji=0,Gi=function(e,t){return parseInt(e.style[t])||0},Wi=function(e,t,n){return e.style[t]="".concat(n,"px")},Vi=function(){clearTimeout(ji),ji=setTimeout(qi,50)},qi=function(){var e=document.getElementById("Cocos2dGameContainer"),t=Gi(e,"width"),n=Gi(e,"height"),i=Gi(e,"padding-left"),o=document.getElementById("container");o&&o.clientHeight<n&&Wi(e,"height",n);var s=document.querySelector(".border.left"),a=document.querySelector(".border.right");s&&a&&(s.hidden=window.innerWidth<=t,a.hidden=window.innerWidth<=t,Gi(s,"left")!==i-s.clientWidth&&(Wi(s,"left",i-s.clientWidth),Wi(a,"left",i+t))),K()},Ki=__COCOS_CONFIG__,Ji=function(){return R.b===R.d||!cc.sys.isMobile&&window._socialCode&&[5,6].includes(window._socialCode)},Yi=null,Zi=function(){return cc.view.setDesignResolutionSize(Ki.width,Ki.height,(e=Ji()?cc.ResolutionPolicy.SHOW_ALL:cc.view.getFrameSize().width/cc.view.getFrameSize().height>Ki.width/Ki.height?cc.ResolutionPolicy.FIXED_HEIGHT:cc.ResolutionPolicy.FIXED_WIDTH,Yi||(Yi=e),Yi));var e},Xi=function(){function e(){o()(this,e)}return a()(e,null,[{key:"run",value:function(){var e=__COCOS_CONFIG__;cc.game.run(e);var t=window.devicePixelRatio>1;return cc.view.enableRetina(t),cc.view.enableAutoFullScreen(!0),cc.view.resizeWithBrowserSize(!0),Ji()&&(Vi(),window.addEventListener("resize",Vi)),Zi(),(new zi).run().then(function(e){console.log(e),cc.sys.isMobile&&new Di,ke.setLanguage(e.languageService.language),ke.filterSpritesByExperiments(e);var t=new Ii(e);cc.loaderScene=t.createLoaderScene(),cc.loaderScene.events.on("loaderResourceLoaded",function(){return e.playerService.updateSessionProgress(Ae)});var n=ke.getResourcesToLoad(e);cc.loaderScene.preload(n.before,function(){cc.loader.load(n.after,function(){},function(){ke.initSpriteFiles(ke.getSprites()),e.loadingPromise&&e.loadingPromise.resolve()}),Ce.playMusicLoop(L.ATMOSPHERE.id);var i=function(){Ce.playMusicLoop(L.ATMOSPHERE.id)};document.body.addEventListener("click",i,{once:!0,capture:!0}),document.body.addEventListener("touchstart",i,{once:!0,capture:!0}),ke.initSpriteFiles(ke.getSprites());var o=t.createGameScene();window._gameScene=o,new Mi({gameScene:o}),o.init().then(function(){return cc.director.runScene(o)}).catch(function(e){return Promise.reject(e)}).then(function(){return o.runActionsAfterLoad()}),e.playerService.updateSessionProgress(Ie)})})}}]),e}();n(776);window._webgl=document.getElementById("app").getContext("webgl",{stencil:!1,alpha:!1}),1===window.innerWidth&&R.b===R.d?window.addEventListener("resize",function(){return Xi.run()},{once:!0}):Xi.run()}]));